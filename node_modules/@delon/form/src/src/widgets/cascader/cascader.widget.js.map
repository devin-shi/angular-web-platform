{"version":3,"file":"cascader.widget.js","sourceRoot":"","sources":["../../../../../../../packages/form/src/widgets/cascader/cascader.widget.ts"],"names":[],"mappings":";;;;;AAAA,OAAO,EAAE,SAAS,EAAU,MAAM,eAAe,CAAC;AAClD,OAAO,EAAE,aAAa,EAAE,MAAM,cAAc,CAAC;AAC7C,OAAO,EAAE,OAAO,EAAE,MAAM,aAAa,CAAC;;IAsCF,0CAAa;;;qBAKxB,EAAE;;;;;;IAGzB,iCAAQ;;;IAAR;QAAA,iBASC;QARC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,iBAAc,IAAI,CAAC;QAC3C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,iBAAc,IAAI,CAAC;QAC3C,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,iBAAc,IAAI,CAAC;QAC3C,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,EAAE,qBAAkB,CAAC,OAAO,CAAC,CAAC;QACxD,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,YAAS,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,QAAQ,GAAG,UAAC,IAAS,EAAE,KAAa;gBACvC,OAAA,KAAI,CAAC,EAAE,aAAU,IAAI,EAAE,KAAK,EAAE,KAAI,CAAC;YAAnC,CAAmC,CAAC;SACvC;KACF;;;;;IAED,8BAAK;;;;IAAL,UAAM,KAAU;QAAhB,iBAOC;QANC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,SAAS,CACjE,UAAA,IAAI;YACF,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,aAAa,EAAE,CAAC;SACtB,CACF,CAAC;KACH;;;;;IAED,uCAAc;;;;IAAd,UAAe,MAAe;QAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE;YAAgB,IAAI,CAAC,EAAE,kBAAe,MAAM,CAAC,CAAC;KAC1D;;;;;IAED,gCAAO;;;;IAAP,UAAQ,KAAa;QACnB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACrB,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE;YAAS,IAAI,CAAC,EAAE,WAAQ,KAAK,CAAC,CAAC;KAC3C;;;;;IAED,yCAAgB;;;;IAAhB,UAAiB,OAAY;QAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE;YAAkB,IAAI,CAAC,EAAE,oBAAiB,OAAO,CAAC,CAAC;KAC/D;;;;;IAED,gCAAO;;;;IAAP,UAAQ,OAAY;QAClB,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE;YAAS,IAAI,CAAC,EAAE,WAAQ,OAAO,CAAC,CAAC;KAC7C;;;;;IAED,+BAAM;;;;IAAN,UAAO,OAAY;QACjB,EAAE,CAAC,CAAC,IAAI,CAAC,EAAE;YAAQ,IAAI,CAAC,EAAE,UAAO,OAAO,CAAC,CAAC;KAC3C;;gBAlFF,SAAS,SAAC;oBACT,QAAQ,EAAE,aAAa;oBACvB,QAAQ,EAAE,mmCA8BT;oBACD,mBAAmB,EAAE,KAAK;iBAC3B;;yBAvCD;EAwCoC,aAAa;SAApC,cAAc","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ControlWidget } from '../../widget';\r\nimport { getData } from '../../utils';\r\nimport { SFSchemaEnum } from '../../schema';\r\n\r\n@Component({\r\n  selector: 'sf-cascader',\r\n  template: `\r\n  <sf-item-wrap [id]=\"id\" [schema]=\"schema\" [ui]=\"ui\" [showError]=\"showError\" [error]=\"error\" [showTitle]=\"schema.title\">\r\n\r\n    <nz-cascader\r\n      [nzDisabled]=\"disabled\"\r\n      [nzSize]=\"ui.size\"\r\n      [ngModel]=\"value\"\r\n      (ngModelChange)=\"_change($event)\"\r\n      [nzOptions]=\"data\"\r\n      [nzAllowClear]=\"ui.allowClear\"\r\n      [nzAutoFocus]=\"ui.autoFocus\"\r\n      [nzChangeOn]=\"ui.changeOn\"\r\n      [nzChangeOnSelect]=\"ui.changeOnSelect\"\r\n      [nzColumnClassName]=\"ui.columnClassName\"\r\n      [nzExpandTrigger]=\"ui.expandTrigger\"\r\n      [nzMenuClassName]=\"ui.menuClassName\"\r\n      [nzMenuStyle]=\"ui.menuStyle\"\r\n      [nzLabelProperty]=\"ui.labelProperty\"\r\n      [nzValueProperty]=\"ui.valueProperty\"\r\n      [nzLoadData]=\"loadData\"\r\n      [nzPlaceHolder]=\"ui.placeholder\"\r\n      [nzShowArrow]=\"showArrow\"\r\n      [nzShowInput]=\"showInput\"\r\n      (nzClear)=\"_clear($event)\"\r\n      (nzVisibleChange)=\"_visibleChange($event)\"\r\n      (nzSelect)=\"_select($event)\"\r\n      (nzSelectionChange)=\"_selectionChange($event)\">\r\n    </nz-cascader>\r\n\r\n  </sf-item-wrap>\r\n  `,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class CascaderWidget extends ControlWidget implements OnInit {\r\n  clearText: string;\r\n  showArrow: boolean;\r\n  showInput: boolean;\r\n  triggerAction: string[];\r\n  data: SFSchemaEnum[] = [];\r\n  loadData: any;\r\n\r\n  ngOnInit(): void {\r\n    this.clearText = this.ui.clearText || '清除';\r\n    this.showArrow = this.ui.showArrow || true;\r\n    this.showInput = this.ui.showInput || true;\r\n    this.triggerAction = this.ui.triggerAction || ['click'];\r\n    if (!!this.ui.loadData) {\r\n      this.loadData = (node: any, index: number) =>\r\n        this.ui.loadData(node, index, this);\r\n    }\r\n  }\r\n\r\n  reset(value: any) {\r\n    getData(this.schema, this.ui, this.formProperty.formData).subscribe(\r\n      list => {\r\n        this.data = list;\r\n        this.detectChanges();\r\n      },\r\n    );\r\n  }\r\n\r\n  _visibleChange(status: boolean) {\r\n    if (this.ui.visibleChange) this.ui.visibleChange(status);\r\n  }\r\n\r\n  _change(value: string) {\r\n    this.setValue(value);\r\n    if (this.ui.change) this.ui.change(value);\r\n  }\r\n\r\n  _selectionChange(options: any) {\r\n    if (this.ui.selectionChange) this.ui.selectionChange(options);\r\n  }\r\n\r\n  _select(options: any) {\r\n    if (this.ui.select) this.ui.select(options);\r\n  }\r\n\r\n  _clear(options: any) {\r\n    if (this.ui.clear) this.ui.clear(options);\r\n  }\r\n}\r\n"]}