{"version":3,"file":"other.js","sourceRoot":"","sources":["../../../../../../packages/util/src/other/other.ts"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,UAAU,MAAM,aAAa,CAAC;;;;;;;;;;AAU1C,MAAM,kBAAkB,GAAQ,EAAE,IAAuB,EAAE,YAAkB;IAC3E,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC;QAAC,MAAM,CAAC,YAAY,CAAC;IACnE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACzB,IAAI,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE,IAAI,CAAE,CAAC;KACxD;IACD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;QACtB,qBAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9B,MAAM,CAAC,OAAO,QAAQ,KAAK,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,QAAQ,CAAC;KAClE;IACD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,CAAC,CAAC,CAAC,CAAC,EAAJ,CAAI,EAAE,GAAG,CAAC,IAAI,YAAY,CAAC;CACzD;;;;;AAED,MAAM,mBAAmB,GAAQ;IAC/B,qBAAM,MAAM,GAAG,UAAU,CAAC,EAAG,EAAE,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,CAAC;IAClD,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;CACxB;;;;;;AAGD,MAAM,eAAe,KAAa;IAChC,MAAM,CAAC,IAAI,OAAO,CAAS,UAAC,OAAO,EAAE,MAAM;QACzC,qBAAI,YAAY,qBAAG,IAA2B,CAAA,CAAC;QAC/C,IAAI,CAAC;YACH,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;YAClD,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;YAClC,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC;YACjC,YAAY,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC;YACjC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;YACxC,YAAY,CAAC,KAAK,GAAG,KAAK,CAAC;YAC3B,YAAY,CAAC,MAAM,EAAE,CAAC;YACtB,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YAC7B,OAAO,CAAC,KAAK,CAAC,CAAC;SAChB;gBAAS,CAAC;YACT,EAAE,CAAC,CAAC,YAAY,IAAI,YAAY,CAAC,UAAU,CAAC,CAAC,CAAC;gBAC5C,YAAY,CAAC,UAAU,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;aACnD;SACF;KACF,CAAC,CAAC;CACJ","sourcesContent":["import * as deepExtend from 'deep-extend';\r\n\r\n/**\r\n * 类似 `_.get`，根据 `path` 获取安全值\r\n * jsperf: https://jsperf.com/es-deep-getttps://jsperf.com/es-deep-get\r\n *\r\n * @param obj 数据源，无效时直接返回 `defaultValue` 值\r\n * @param path 若 `null`、`[]`、未定义及未找到时返回 `defaultValue` 值\r\n * @param defaultValue 默认值\r\n */\r\nexport function deepGet(obj: any, path: string | string[], defaultValue?: any) {\r\n  if (!obj || path == null || path.length === 0) return defaultValue;\r\n  if (!Array.isArray(path)) {\r\n    path = ~path.indexOf('.') ? path.split('.') : [ path ];\r\n  }\r\n  if (path.length === 1) {\r\n    const checkObj = obj[path[0]];\r\n    return typeof checkObj === 'undefined' ? defaultValue : checkObj;\r\n  }\r\n  return path.reduce((o, k) => o[k], obj) || defaultValue;\r\n}\r\n\r\nexport function deepCopy(obj: any) {\r\n  const result = deepExtend({ }, { __source: obj });\r\n  return result.__source;\r\n}\r\n\r\n/** 复制内容至剪贴板 */\r\nexport function copy(value: string): Promise<string> {\r\n  return new Promise<string>((resolve, reject): void => {\r\n    let copyTextArea = null as HTMLTextAreaElement;\r\n    try {\r\n      copyTextArea = document.createElement('textarea');\r\n      copyTextArea.style.height = '0px';\r\n      copyTextArea.style.opacity = '0';\r\n      copyTextArea.style.width = '0px';\r\n      document.body.appendChild(copyTextArea);\r\n      copyTextArea.value = value;\r\n      copyTextArea.select();\r\n      document.execCommand('copy');\r\n      resolve(value);\r\n    } finally {\r\n      if (copyTextArea && copyTextArea.parentNode) {\r\n        copyTextArea.parentNode.removeChild(copyTextArea);\r\n      }\r\n    }\r\n  });\r\n}\r\n"]}