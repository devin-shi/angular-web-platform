{"version":3,"file":"time.js","sourceRoot":"","sources":["../../../../../../packages/util/src/time/time.ts"],"names":[],"mappings":";;;;AAAA,OAAO,KAAK,KAAK,MAAM,gBAAgB,CAAC;AACxC,OAAO,KAAK,WAAW,MAAM,wBAAwB,CAAC;AACtD,OAAO,KAAK,SAAS,MAAM,sBAAsB,CAAC;AAClD,OAAO,KAAK,QAAQ,MAAM,oBAAoB,CAAC;AAC/C,OAAO,KAAK,YAAY,MAAM,yBAAyB,CAAC;AACxD,OAAO,KAAK,UAAU,MAAM,uBAAuB,CAAC;AACpD,OAAO,KAAK,SAAS,MAAM,qBAAqB,CAAC;AACjD,OAAO,KAAK,WAAW,MAAM,wBAAwB,CAAC;AACtD,OAAO,KAAK,SAAS,MAAM,sBAAsB,CAAC;AAClD,OAAO,KAAK,QAAQ,MAAM,oBAAoB,CAAC;AAC/C,OAAO,KAAK,OAAO,MAAM,mBAAmB,CAAC;;;;;;;AAO7C,MAAM,0BACJ,IASU,EACV,IAA6B;IAE7B,IAAI,GAAG,KAAK,CAAC,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC,CAAC;IAEjC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACb,KAAK,OAAO,CAAC;QACb,KAAK,QAAQ;YACX,MAAM,CAAC,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACtB,KAAK,MAAM;YACT,MAAM,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;QAC9C,KAAK,OAAO;YACV,MAAM,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACxE,KAAK,OAAO;YACV,MAAM,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;QAChD,KAAK,QAAQ;YACX,MAAM,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,KAAK,MAAM;YACT,MAAM,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;QAC9C,KAAK,OAAO;YACV,MAAM,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACxE;YACE,MAAM,CAAC,IAAI,GAAG,CAAC;gBACb,CAAC,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC7B,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC;KACnC;CACF","sourcesContent":["import * as parse from 'date-fns/parse';\nimport * as startOfWeek from 'date-fns/start_of_week';\nimport * as endOfWeek from 'date-fns/end_of_week';\nimport * as subWeeks from 'date-fns/sub_weeks';\nimport * as startOfMonth from 'date-fns/start_of_month';\nimport * as endOfMonth from 'date-fns/end_of_month';\nimport * as subMonths from 'date-fns/sub_months';\nimport * as startOfYear from 'date-fns/start_of_year';\nimport * as endOfYear from 'date-fns/end_of_year';\nimport * as subYears from 'date-fns/sub_years';\nimport * as addDays from 'date-fns/add_days';\n\n/**\n * 获取时间范围\n * @param type 类型，带 `-` 表示过去一个时间，若指定 `number` 表示天数\n * @param time 开始时间\n */\nexport function getTimeDistance(\n  type:\n    | 'today'\n    | '-today'\n    | 'week'\n    | '-week'\n    | 'month'\n    | '-month'\n    | 'year'\n    | '-year'\n    | number,\n  time?: Date | string | number,\n): [Date, Date] {\n  time = parse(time || new Date());\n\n  switch (type) {\n    case 'today':\n    case '-today':\n      return [time, time];\n    case 'week':\n      return [startOfWeek(time), endOfWeek(time)];\n    case '-week':\n      return [startOfWeek(subWeeks(time, 1)), endOfWeek(subWeeks(time, 1))];\n    case 'month':\n      return [startOfMonth(time), endOfMonth(time)];\n    case '-month':\n      return [startOfMonth(subMonths(time, 1)), endOfMonth(subMonths(time, 1))];\n    case 'year':\n      return [startOfYear(time), endOfYear(time)];\n    case '-year':\n      return [startOfYear(subYears(time, 1)), endOfYear(subYears(time, 1))];\n    default:\n      return type > 0\n        ? [time, addDays(time, type)]\n        : [addDays(time, type), time];\n  }\n}\n"]}