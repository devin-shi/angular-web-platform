/**
 * @license ng-alain(cipchk@qq.com) v1.0.0-beta.10
 * (c) 2018 Cipchk http://ng-alain.com/
 * License: MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("deep-extend"),require("date-fns/parse"),require("date-fns/start_of_week"),require("date-fns/end_of_week"),require("date-fns/sub_weeks"),require("date-fns/start_of_month"),require("date-fns/end_of_month"),require("date-fns/sub_months"),require("date-fns/start_of_year"),require("date-fns/end_of_year"),require("date-fns/sub_years"),require("date-fns/add_days"),require("@angular/core"),require("@angular/platform-browser"),require("rxjs/BehaviorSubject"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","deep-extend","date-fns/parse","date-fns/start_of_week","date-fns/end_of_week","date-fns/sub_weeks","date-fns/start_of_month","date-fns/end_of_month","date-fns/sub_months","date-fns/start_of_year","date-fns/end_of_year","date-fns/sub_years","date-fns/add_days","@angular/core","@angular/platform-browser","rxjs/BehaviorSubject","rxjs/operators","@angular/common"],t):t((e.delon=e.delon||{},e.delon.util={}),e["deep-extend"],e["date-fns/parse/index"],e["date-fns/start_of_week/index"],e["date-fns/end_of_week/index"],e["date-fns/sub_weeks/index"],e["date-fns/start_of_month/index"],e["date-fns/end_of_month/index"],e["date-fns/sub_months/index"],e["date-fns/start_of_year/index"],e["date-fns/end_of_year/index"],e["date-fns/sub_years/index"],e["date-fns/add_days/index"],e.ng.core,e.ng.platformBrowser,e.Rx,e.Rx.Observable.prototype,e.ng.common)}(this,function(e,t,n,r,a,o,d,u,s,i,f,l,c,p,y,h,m,_){"use strict";function g(e,t,n){if(!e||null==t||0===t.length)return n;if(Array.isArray(t)||(t=~t.indexOf(".")?t.split("."):[t]),1===t.length){var r=e[t[0]];return void 0===r?n:r}return t.reduce(function(e,t){return e[t]},e)||n}t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,a=a&&a.hasOwnProperty("default")?a.default:a,o=o&&o.hasOwnProperty("default")?o.default:o,d=d&&d.hasOwnProperty("default")?d.default:d,u=u&&u.hasOwnProperty("default")?u.default:u,s=s&&s.hasOwnProperty("default")?s.default:s,i=i&&i.hasOwnProperty("default")?i.default:i,f=f&&f.hasOwnProperty("default")?f.default:f,l=l&&l.hasOwnProperty("default")?l.default:l,c=c&&c.hasOwnProperty("default")?c.default:c;var v=function(){function e(e){this.doc=e,this.list={},this.cached={},this._notify=new h.BehaviorSubject([])}return Object.defineProperty(e.prototype,"change",{get:function(){return this._notify.asObservable().pipe(m.share(),m.filter(function(e){return 0!==e.length}))},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.list={},this.cached={}},e.prototype.load=function(e){var t=this;Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){e.includes(".js")?n.push(t.loadScript(e)):n.push(t.loadStyle(e))}),Promise.all(n).then(function(e){return t._notify.next(e),Promise.resolve(e)})},e.prototype.loadScript=function(r){var a=this;return new Promise(function(t){if(!0!==a.list[r]){a.list[r]=!0;var n=function(e){a.cached[r]=e,t(e)},e=a.doc.createElement("script");e.type="text/javascript",e.src=r,e.charset="utf-8",e.readyState?e.onreadystatechange=function(){"loaded"!==e.readyState&&"complete"!==e.readyState||(e.onreadystatechange=null,n({path:r,loaded:!0,status:"ok"}))}:e.onload=function(){n({path:r,loaded:!0,status:"ok"})},e.onerror=function(e){return n({path:r,loaded:!1,status:"error"})},a.doc.getElementsByTagName("head")[0].appendChild(e)}else t(a.cached[r])})},e.prototype.loadStyle=function(r,a){var o=this;return void 0===a&&(a="stylesheet"),new Promise(function(e){if(!0!==o.list[r]){o.list[r]=!0;var t,n=o.doc.createElement("link");n.rel=a,n.type="text/css",n.href=r,o.doc.getElementsByTagName("head")[0].appendChild(n),t={path:r,loaded:!0,status:"ok"},o.cached[r]=t,e(t)}else e(o.cached[r])})},e.decorators=[{type:p.Injectable}],e.ctorParameters=function(){return[{type:void 0,decorators:[{type:p.Inject,args:[y.DOCUMENT]}]}]},e}();function w(e){return/^((-?\d+\.\d+)|(-?\d+)|(-?\.\d+))$/.test(e.toString())}function x(e){return w(e)&&parseInt(e.toString(),10)==e}function b(e){return w(e)&&!x(e)}function P(e){return"string"==typeof e&&/(^\d{15}$)|(^\d{17}([0-9]|X)$)/i.test(e)}function O(e){return"string"==typeof e&&/^(0|\+?86|17951)?(13[0-9]|15[0-9]|17[0678]|18[0-9]|14[57])[0-9]{8}$/.test(e)}var q=function(){function e(){}return e.num=function(e){return w(e.value)?null:{num:!0}},e.int=function(e){return x(e.value)?null:{int:!0}},e.decimal=function(e){return b(e.value)?null:{decimal:!0}},e.idCard=function(e){return P(e.value)?null:{idCard:!0}},e.mobile=function(e){return O(e.value)?null:{mobile:!0}},e}();var k=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[v]}},e.decorators=[{type:p.NgModule,args:[{imports:[_.CommonModule]}]}],e}();e._Validators=q,e.format=function(e,n,r){return void 0===r&&(r=!1),(e||"").replace(/\${([^}]+)}/g,function(e,t){return r?g(n,t.split("."),""):(n||{})[t]||""})},e.yuan=function(e,t){return void 0===t&&(t=2),"number"==typeof e&&(e=e.toFixed(t)),"&yen "+e},e.getTimeDistance=function(e,t){switch(t=n(t||new Date),e){case"today":case"-today":return[t,t];case"week":return[r(t),a(t)];case"-week":return[r(o(t,1)),a(o(t,1))];case"month":return[d(t),u(t)];case"-month":return[d(s(t,1)),u(s(t,1))];case"year":return[i(t),f(t)];case"-year":return[i(l(t,1)),f(l(t,1))];default:return 0<e?[t,c(t,e)]:[c(t,e),t]}},e.LazyService=v,e.isNum=w,e.isInt=x,e.isDecimal=b,e.isIdCard=P,e.isMobile=O,e.isEmpty=function(e){for(var t=e.childNodes,n=0;n<t.length;n++){var r=t.item(n);if(1===r.nodeType&&0!==r.outerHTML.toString().trim().length)return!1;if(3===r.nodeType&&0!==r.textContent.toString().trim().length)return!1}return!0},e.deepGet=g,e.deepCopy=function(e){return t({},{__source:e}).__source},e.copy=function(r){return new Promise(function(e,t){var n=null;try{(n=document.createElement("textarea")).style.height="0px",n.style.opacity="0",n.style.width="0px",document.body.appendChild(n),n.value=r,n.select(),document.execCommand("copy"),e(r)}finally{n&&n.parentNode&&n.parentNode.removeChild(n)}})},e.DelonUtilModule=k,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=util.umd.min.js.map
