{"version":3,"file":"abc.js","sources":["../../../../packages/abc/error-collect/error-collect.config.ts","../../../../packages/abc/error-collect/error-collect.component.ts","../../../../packages/abc/error-collect/error-collect.module.ts","../../../../packages/abc/footer-toolbar/footer-toolbar.component.ts","../../../../packages/abc/footer-toolbar/footer-toolbar.module.ts","../../../../packages/abc/sidebar-nav/sidebar-nav.component.ts","../../../../packages/abc/sidebar-nav/sidebar-nav.module.ts","../../../../packages/abc/down-file/down-file.directive.ts","../../../../packages/abc/down-file/down-file.module.ts","../../../../packages/abc/image/image.config.ts","../../../../packages/abc/image/image.directive.ts","../../../../packages/abc/image/image.module.ts","../../../../packages/abc/avatar-list/avatar-list-item.component.ts","../../../../packages/abc/avatar-list/avatar-list.component.ts","../../../../packages/abc/avatar-list/avatar-list.module.ts","../../../../packages/abc/desc-list/desc-list-item.component.ts","../../../../packages/abc/desc-list/desc-list.config.ts","../../../../packages/abc/desc-list/desc-list.component.ts","../../../../packages/abc/desc-list/desc-list.module.ts","../../../../packages/abc/ellipsis/ellipsis.component.ts","../../../../packages/abc/ellipsis/ellipsis.module.ts","../../../../packages/abc/global-footer/global-footer.component.ts","../../../../packages/abc/global-footer/global-footer.module.ts","../../../../packages/abc/exception/exception.component.ts","../../../../packages/abc/exception/exception.module.ts","../../../../packages/abc/notice-icon/notice-icon.component.ts","../../../../packages/abc/notice-icon/notice-icon-tab.component.ts","../../../../packages/abc/notice-icon/notice-icon.module.ts","../../../../packages/abc/number-info/number-info.component.ts","../../../../packages/abc/number-info/number-info.module.ts","../../../../packages/abc/page-header/page-header.config.ts","../../../../packages/abc/page-header/page-header.component.ts","../../../../packages/abc/page-header/page-header.module.ts","../../../../packages/abc/result/result.component.ts","../../../../packages/abc/result/result.module.ts","../../../../packages/abc/standard-form-row/standard-form-row.component.ts","../../../../packages/abc/standard-form-row/standard-form-row.module.ts","../../../../packages/abc/tag-select/tag-select.component.ts","../../../../packages/abc/tag-select/tag-select.module.ts","../../../../packages/abc/trend/trend.component.ts","../../../../packages/abc/trend/trend.module.ts","../../../../packages/abc/count-down/count-down.component.ts","../../../../packages/abc/count-down/count-down.module.ts","../../../../packages/abc/simple-table/simple-table.config.ts","../../../../packages/abc/xlsx/interface.ts","../../../../packages/abc/xlsx/xlsx.service.ts","../../../../packages/abc/simple-table/simple-table-export.ts","../../../../packages/abc/simple-table/simple-table.component.ts","../../../../packages/abc/simple-table/simple-table-row.directive.ts","../../../../packages/abc/simple-table/simple-table.module.ts","../../../../packages/abc/reuse-tab/reuse-tab.service.ts","../../../../packages/abc/reuse-tab/reuse-tab-context-menu.component.ts","../../../../packages/abc/reuse-tab/reuse-tab-context.service.ts","../../../../packages/abc/reuse-tab/reuse-tab.component.ts","../../../../packages/abc/reuse-tab/reuse-tab-context.component.ts","../../../../packages/abc/reuse-tab/reuse-tab-context.directive.ts","../../../../packages/abc/reuse-tab/reuse-tab.module.ts","../../../../packages/abc/full-content/full-content.service.ts","../../../../packages/abc/full-content/full-content.component.ts","../../../../packages/abc/full-content/full-content-toggle.directive.ts","../../../../packages/abc/full-content/full-content.module.ts","../../../../packages/abc/xlsx/xlsx.directive.ts","../../../../packages/abc/xlsx/xlsx.module.ts","../../../../packages/abc/zip/interface.ts","../../../../packages/abc/zip/zip.service.ts","../../../../packages/abc/zip/zip.module.ts","../../../../packages/abc/number-to-chinese/number-to-chinese.ts","../../../../packages/abc/number-to-chinese/number-to-chinese.pipe.ts","../../../../packages/abc/number-to-chinese/number-to-chinese.module.ts","../../../../packages/abc/lodop/lodop.config.ts","../../../../packages/abc/lodop/lodop.service.ts","../../../../packages/abc/lodop/lodop.module.ts","../../../../packages/abc/quick-menu/quick-menu.component.ts","../../../../packages/abc/quick-menu/quick-menu.module.ts","../../../../packages/abc/qr/qr.config.ts","../../../../packages/abc/qr/qr.service.ts","../../../../packages/abc/qr/qr.component.ts","../../../../packages/abc/qr/qr.module.ts","../../../../packages/abc/charts/bar/bar.component.ts","../../../../packages/abc/charts/bar/bar.module.ts","../../../../packages/abc/charts/card/card.component.ts","../../../../packages/abc/charts/card/card.module.ts","../../../../packages/abc/charts/chart/chart.component.ts","../../../../packages/abc/charts/chart/chart.module.ts","../../../../packages/abc/charts/gauge/gauge.component.ts","../../../../packages/abc/charts/gauge/gauge.module.ts","../../../../packages/abc/charts/mini-area/mini-area.component.ts","../../../../packages/abc/charts/mini-area/mini-area.module.ts","../../../../packages/abc/charts/mini-bar/mini-bar.component.ts","../../../../packages/abc/charts/mini-bar/mini-bar.module.ts","../../../../packages/abc/charts/mini-progress/mini-progress.component.ts","../../../../packages/abc/charts/mini-progress/mini-progress.module.ts","../../../../packages/abc/charts/pie/pie.component.ts","../../../../packages/abc/charts/pie/pie.module.ts","../../../../packages/abc/charts/radar/radar.component.ts","../../../../packages/abc/charts/radar/radar.module.ts","../../../../packages/abc/charts/tag-cloud/tag-cloud.component.ts","../../../../packages/abc/charts/tag-cloud/tag-cloud.module.ts","../../../../packages/abc/charts/timeline/timeline.component.ts","../../../../packages/abc/charts/timeline/timeline.module.ts","../../../../packages/abc/charts/water-wave/water-wave.component.ts","../../../../packages/abc/charts/water-wave/water-wave.module.ts","../../../../packages/abc/abc.module.ts","../../../../packages/abc/reuse-tab/reuse-tab.strategy.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class AdErrorCollectConfig {\r\n  /**\r\n   * 监听频率\r\n   */\r\n  freq?: number = 500;\r\n  /**\r\n   * 顶部偏移值\r\n   */\r\n  offsetTop?: number = 65 + 64 + 8 * 2;\r\n}\r\n","import {\r\n  Component,\r\n  Directive,\r\n  OnInit,\r\n  Input,\r\n  HostBinding,\r\n  OnDestroy,\r\n  ElementRef,\r\n  Renderer2,\r\n  HostListener,\r\n  Inject,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n} from '@angular/core';\r\nimport { FormGroup } from '@angular/forms';\r\nimport { DOCUMENT } from '@angular/platform-browser';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\nimport { AdErrorCollectConfig } from './error-collect.config';\r\n\r\n/**\r\n * 错误消息采集器\r\n * PS：虽然此法并不好看，但对响应式表单&模板表单有很好的效果。\r\n */\r\n@Component({\r\n  selector: 'error-collect, [error-collect]',\r\n  template: `\r\n  <i class=\"anticon anticon-exclamation-circle\"></i>\r\n  <span class=\"pl-sm\">{{count}}</span>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class ErrorCollectComponent implements OnInit, OnDestroy {\r\n  private $time = null;\r\n  private formEl: HTMLFormElement;\r\n\r\n  @Input()\r\n  get freq() {\r\n    return this._freq;\r\n  }\r\n  set freq(value: any) {\r\n    this._freq = coerceNumberProperty(value);\r\n  }\r\n  private _freq = 500;\r\n\r\n  @Input()\r\n  get offsetTop() {\r\n    return this._offsetTop;\r\n  }\r\n  set offsetTop(value: any) {\r\n    this._offsetTop = coerceNumberProperty(value);\r\n  }\r\n  private _offsetTop = 65 + 64 + 8 * 2;\r\n\r\n  @HostBinding('class.d-none') _hiden = true;\r\n\r\n  count = 0;\r\n\r\n  constructor(\r\n    cog: AdErrorCollectConfig,\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    private cd: ChangeDetectorRef,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {\r\n    Object.assign(this, cog);\r\n  }\r\n\r\n  private get errEls() {\r\n    return this.formEl.querySelectorAll('.has-error');\r\n  }\r\n\r\n  private update() {\r\n    const count = this.errEls.length;\r\n    if (count === this.count) return;\r\n    this.count = count;\r\n    this._hiden = count === 0;\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    if (this.count === 0) return false;\r\n    // nz-form-control\r\n    const els = this.errEls;\r\n    const formItemEl = this.findParent(els[0], '[nz-form-control]') || els[0];\r\n    formItemEl.scrollIntoView(true);\r\n    // fix header height\r\n    this.doc.documentElement.scrollTop -= this.offsetTop;\r\n  }\r\n\r\n  private install() {\r\n    this.uninstall();\r\n    this.$time = setInterval(() => this.update(), this.freq);\r\n    this.update();\r\n  }\r\n\r\n  private uninstall() {\r\n    clearInterval(this.$time);\r\n  }\r\n\r\n  private findParent(el: any, selector: string) {\r\n    let retEl = null;\r\n    while (el) {\r\n      if (el.querySelector(selector)) {\r\n        retEl = el;\r\n        break;\r\n      }\r\n      el = el.parentElement;\r\n    }\r\n    return retEl;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.formEl = this.findParent(this.el.nativeElement, 'form');\r\n    if (this.formEl === null) throw new Error('未找到有效 form 元素');\r\n    (this.el.nativeElement as HTMLElement).classList.add(\r\n      'error-collect',\r\n      'pr-lg',\r\n      'text-error',\r\n      'point',\r\n    );\r\n    this.install();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.uninstall();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ErrorCollectComponent } from './error-collect.component';\r\nimport { AdErrorCollectConfig } from './error-collect.config';\r\n\r\nconst COMPONENTS = [ErrorCollectComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdErrorCollectModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: AdErrorCollectModule,\r\n      providers: [AdErrorCollectConfig],\r\n    };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  OnInit,\r\n  OnDestroy,\r\n  Inject,\r\n  TemplateRef,\r\n  ContentChild,\r\n} from '@angular/core';\r\nimport { ElementRef, Renderer2, HostBinding } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/platform-browser';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\n\r\nconst CLS = 'ad-footer-toolbar';\r\n\r\n@Component({\r\n  selector: 'footer-toolbar',\r\n  template: `\r\n  <div class=\"left\"><ng-container *ngIf=\"extra\" [ngTemplateOutlet]=\"extra\"></ng-container></div>\r\n  <div class=\"right\">\r\n    <error-collect *ngIf=\"errorCollect\"></error-collect>\r\n    <ng-content></ng-content>\r\n  </div>\r\n  `,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class FooterToolbarComponent implements OnInit, OnDestroy {\r\n  @Input()\r\n  get errorCollect() {\r\n    return this._errorCollect;\r\n  }\r\n  set errorCollect(value: any) {\r\n    this._errorCollect = coerceBooleanProperty(value);\r\n  }\r\n  private _errorCollect = false;\r\n\r\n  @ContentChild('extra') extra: TemplateRef<any>;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    (this.el.nativeElement as HTMLElement).classList.add(CLS);\r\n    this.renderer.addClass(this.el.nativeElement, CLS);\r\n    this.doc.querySelector('body').classList.add(`has-${CLS}`);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.doc.querySelector('body').classList.remove(`has-${CLS}`);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AdErrorCollectModule } from './../error-collect/error-collect.module';\r\nimport { FooterToolbarComponent } from './footer-toolbar.component';\r\n\r\nconst COMPONENTS = [FooterToolbarComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, AdErrorCollectModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdFooterToolbarModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdFooterToolbarModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  Renderer2,\r\n  Inject,\r\n  OnInit,\r\n  OnDestroy,\r\n  HostListener,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n} from '@angular/core';\r\nimport { Router, NavigationEnd } from '@angular/router';\r\nimport { DOCUMENT, LocationStrategy } from '@angular/common';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { debounceTime, filter } from 'rxjs/operators';\r\nimport { FromEventObservable } from 'rxjs/observable/FromEventObservable';\r\nimport { MenuService, SettingsService, Menu } from '@delon/theme';\r\n\r\nimport { Nav } from './interface';\r\n\r\nconst SHOWCLS = 'nav-floating-show';\r\nconst FLOATINGCLS = 'nav-floating';\r\n\r\n@Component({\r\n  selector: 'sidebar-nav',\r\n  template: `<ul class=\"nav\"> <ng-container *ngFor=\"let group of list\"> <ng-template [ngIf]=\"group._hidden !== true\"> <li class=\"nav-group-title\"> <span>{{ group.text }}</span> </li> <ng-container *ngFor=\"let child1 of group.children\"> <li *ngIf=\"child1._hidden !== true\" [routerLinkActive]=\"['nav-item-selected']\" [class.nav-submenu-open]=\"child1._open\"> <!-- link --> <a *ngIf=\"child1._type === 1\" (click)=\"onSelect(child1)\" [routerLink]=\"child1.link\" [target]=\"child1.target\"> <i *ngIf=\"!settings.layout.collapsed\" class=\"{{ child1.icon }}\"></i> <nz-tooltip *ngIf=\"settings.layout.collapsed\" nzPlacement=\"right\" [nzTitle]=\"child1.text\"> <span nz-tooltip> <i class=\"{{ child1.icon }}\"></i> </span> </nz-tooltip> <span>{{ child1.text }}</span> </a> <!-- external link --> <a *ngIf=\"child1._type === 2\" href=\"{{ child1.externalLink }}\" target=\"{{child1.target}}\"> <i *ngIf=\"!settings.layout.collapsed\" class=\"{{ child1.icon }}\"></i> <nz-tooltip *ngIf=\"settings.layout.collapsed\" nzPlacement=\"right\" [nzTitle]=\"child1.text\"> <span nz-tooltip> <i class=\"{{ child1.icon }}\"></i> </span> </nz-tooltip> <span>{{ child1.text }}</span> </a> <!-- has children link --> <a *ngIf=\"child1._type === 3\" class=\"nav-sub-title\" (click)=\"toggleOpen(child1)\" (mouseenter)=\"showSubMenu($event, child1)\"> <i class=\"{{ child1.icon }}\"></i> <span>{{ child1.text }}</span> </a> <!-- badge --> <div *ngIf=\"child1.badge\" title=\"{{child1.badge}}\" class=\"badge badge-{{child1.badge_status}}\" [class.badge-dot]=\"child1.badge_dot\"> <em>{{child1.badge}}</em> </div> <!-- Level 2 --> <ul *ngIf=\"child1._type === 3\" class=\"nav nav-sub nav-depth{{child1._depth}}\"> <ng-container *ngFor=\"let child2 of child1.children\"> <li *ngIf=\"child2._hidden !== true\" [routerLinkActive]=\"['nav-item-selected']\" [class.nav-submenu-open]=\"child2._open\"> <!-- link --> <a *ngIf=\"child2._type === 1\" (click)=\"onSelect(child2)\" [routerLink]=\"child2.link\" [target]=\"child2.target\">{{ child2.text }}</a> <!-- external link --> <a *ngIf=\"child2._type === 2\" href=\"{{ child2.externalLink }}\" target=\"{{ child2.target }}\">{{ child2.text }}</a> <!-- has children link --> <a *ngIf=\"child2._type === 3\" class=\"nav-sub-title\" (click)=\"toggleOpen(child2)\"> {{ child2.text }} </a> <!-- badge --> <div *ngIf=\"child2.badge\" title=\"{{child2.badge}}\" class=\"badge badge-{{child2.badge_status}}\" [class.badge-dot]=\"child2.badge_dot\"> <em>{{child2.badge}}</em> </div> <!-- Level 3 --> <ul *ngIf=\"child2._type === 3\" class=\"nav nav-sub nav-depth{{child2._depth}}\"> <ng-container *ngFor=\"let child3 of child2.children\"> <li *ngIf=\"child3._hidden !== true\" [routerLinkActive]=\"['nav-item-selected']\" [class.nav-submenu-open]=\"child3._open\"> <!-- link --> <a *ngIf=\"child3._type === 1\" (click)=\"onSelect(child3)\" [routerLink]=\"child3.link\" [target]=\"child3.target\">{{ child3.text }}</a> <!-- external link --> <a *ngIf=\"child3._type === 2\" href=\"{{ child3.externalLink }}\" target=\"{{ child3.target }}\">{{ child3.text }}</a> <!-- badge --> <div *ngIf=\"child3.badge\" title=\"{{child3.badge}}\" class=\"badge badge-{{child3.badge_status}}\" [class.badge-dot]=\"child3.badge_dot\"> <em>{{child3.badge}}</em> </div> </li> </ng-container> </ul> </li> </ng-container> </ul> </li> </ng-container> </ng-template> </ng-container> </ul> `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class SidebarNavComponent implements OnInit, OnDestroy {\r\n  private rootEl: HTMLDivElement;\r\n  /** @inner */\r\n  floatingEl: HTMLDivElement;\r\n  private bodyEl: HTMLBodyElement;\r\n  list: Nav[] = [];\r\n  private change$: Subscription;\r\n\r\n  @Input() autoCloseUnderPad = true;\r\n\r\n  @Output() select = new EventEmitter<Menu>();\r\n\r\n  constructor(\r\n    private menuSrv: MenuService,\r\n    public settings: SettingsService,\r\n    private router: Router,\r\n    private locationStrategy: LocationStrategy,\r\n    private render: Renderer2,\r\n    private cd: ChangeDetectorRef,\r\n    @Inject(DOCUMENT) private doc: any,\r\n    el: ElementRef,\r\n  ) {\r\n    this.rootEl = el.nativeElement as HTMLDivElement;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.bodyEl = this.doc.querySelector('body');\r\n    this.menuSrv.openedByUrl(this.router.url);\r\n    this.genFloatingContainer();\r\n    this.change$ = <any>this.menuSrv.change.subscribe(res => {\r\n      this.list = res;\r\n      this.cd.detectChanges();\r\n    });\r\n    this.installUnderPad();\r\n  }\r\n\r\n  private floatingAreaClickHandle(e: MouseEvent) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    const linkNode = e.target as Element;\r\n    if (linkNode.nodeName !== 'A') {\r\n      return false;\r\n    }\r\n    let url: string = linkNode.getAttribute('href');\r\n    if (url && url.startsWith('#')) {\r\n      url = url.slice(1);\r\n    }\r\n    // 如果配置了bashHref 则去掉baseHref\r\n    const baseHerf = this.locationStrategy.getBaseHref();\r\n    if (baseHerf) {\r\n      url = url.slice(baseHerf.length);\r\n    }\r\n    this.router.navigateByUrl(url);\r\n    this.onSelect(this.menuSrv.getPathByUrl(url).pop());\r\n    this.hideAll();\r\n    return false;\r\n  }\r\n\r\n  clearFloatingContainer() {\r\n    if (!this.floatingEl) return;\r\n    this.floatingEl.removeEventListener(\r\n      'click',\r\n      this.floatingAreaClickHandle.bind(this),\r\n    );\r\n    // fix ie: https://github.com/cipchk/delon/issues/52\r\n    if (this.floatingEl.hasOwnProperty('remove')) {\r\n      this.floatingEl.remove();\r\n    } else if (this.floatingEl.parentNode) {\r\n      this.floatingEl.parentNode.removeChild(this.floatingEl);\r\n    }\r\n  }\r\n\r\n  genFloatingContainer() {\r\n    this.clearFloatingContainer();\r\n    this.floatingEl = this.render.createElement('div');\r\n    this.floatingEl.classList.add(FLOATINGCLS + '-container');\r\n    this.floatingEl.addEventListener(\r\n      'click',\r\n      this.floatingAreaClickHandle.bind(this),\r\n      false,\r\n    );\r\n    this.bodyEl.appendChild(this.floatingEl);\r\n  }\r\n\r\n  private genSubNode(linkNode: HTMLLinkElement, item: Nav): HTMLUListElement {\r\n    const id = `_sidebar-nav-${item.__id}`;\r\n    const node = linkNode.nextElementSibling.cloneNode(\r\n      true,\r\n    ) as HTMLUListElement;\r\n    node.id = id;\r\n    node.classList.add(FLOATINGCLS);\r\n    node.addEventListener(\r\n      'mouseleave',\r\n      () => {\r\n        node.classList.remove(SHOWCLS);\r\n      },\r\n      false,\r\n    );\r\n    this.floatingEl.appendChild(node);\r\n    return node;\r\n  }\r\n\r\n  private hideAll() {\r\n    const allNode = this.floatingEl.querySelectorAll('.' + FLOATINGCLS);\r\n    for (let i = 0; i < allNode.length; i++) {\r\n      allNode[i].classList.remove(SHOWCLS);\r\n    }\r\n  }\r\n\r\n  // calculate the node position values.\r\n  private calPos(linkNode: HTMLLinkElement, node: HTMLUListElement) {\r\n    const rect = linkNode.getBoundingClientRect();\r\n    // bug: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14721015/\r\n    const scrollTop = Math.max(\r\n      this.doc.documentElement.scrollTop,\r\n      this.bodyEl.scrollTop,\r\n    );\r\n    const top = rect.top + scrollTop,\r\n      left = rect.right + 5;\r\n    node.style.top = `${top}px`;\r\n    node.style.left = `${left}px`;\r\n  }\r\n\r\n  showSubMenu(e: MouseEvent, item: Nav) {\r\n    if (this.settings.layout.collapsed !== true) {\r\n      return;\r\n    }\r\n    e.preventDefault();\r\n    const linkNode = e.target as Element;\r\n    this.genFloatingContainer();\r\n    const subNode = this.genSubNode(linkNode as HTMLLinkElement, item);\r\n    this.hideAll();\r\n    subNode.classList.add(SHOWCLS);\r\n    this.calPos(linkNode as HTMLLinkElement, subNode);\r\n  }\r\n\r\n  onSelect(item: Menu) {\r\n    this.select.emit(item);\r\n  }\r\n\r\n  toggleOpen(item: Nav) {\r\n    this.menuSrv.visit((i, p) => {\r\n      if (i !== item) i._open = false;\r\n    });\r\n    let pItem = item.__parent;\r\n    while (pItem) {\r\n      pItem._open = true;\r\n      pItem = pItem.__parent;\r\n    }\r\n    item._open = !item._open;\r\n    this.cd.markForCheck();\r\n  }\r\n\r\n  @HostListener('document:click', ['$event.target'])\r\n  onClick() {\r\n    this.hideAll();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.change$.unsubscribe();\r\n    if (this.route$) this.route$.unsubscribe();\r\n    this.clearFloatingContainer();\r\n  }\r\n\r\n  // region: Under pad\r\n\r\n  private route$: Subscription;\r\n  private installUnderPad() {\r\n    if (!this.autoCloseUnderPad) return;\r\n    this.route$ = <any>this.router.events\r\n      .pipe(filter(e => e instanceof NavigationEnd))\r\n      .subscribe(s => this.underPad());\r\n    this.underPad();\r\n  }\r\n\r\n  private underPad() {\r\n    if (window.innerWidth < 992 && !this.settings.layout.collapsed) {\r\n      this.settings.setLayout('collapsed', true);\r\n    }\r\n  }\r\n\r\n  // endregion\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nimport { SidebarNavComponent } from './sidebar-nav.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, RouterModule, NgZorroAntdModule],\r\n  declarations: [SidebarNavComponent],\r\n  exports: [SidebarNavComponent],\r\n})\r\nexport class AdSidebarNavModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdSidebarNavModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  HostListener,\r\n  EventEmitter,\r\n  Output,\r\n} from '@angular/core';\r\nimport { HttpResponse, HttpClient } from '@angular/common/http';\r\nimport { saveAs } from 'file-saver';\r\n\r\n/**\r\n * 文件下载\r\n *\r\n * ```html\r\n * <button nz-button down-file http-url=\"assets/demo{{i}}\" file-name=\"demo中文\">{{i}}</button>\r\n * ```\r\n */\r\n@Directive({ selector: '[down-file]' })\r\nexport class DownFileDirective {\r\n  /** URL请求参数 */\r\n  @Input('http-data') httpData: any;\r\n  /** 请求类型 */\r\n  @Input('http-method') httpMethod: string = 'get';\r\n  /** 下载地址 */\r\n  @Input('http-url') httpUrl: string;\r\n  /** 指定文件名，若为空从服务端返回的 `header` 中获取 `filename`、`x-filename` */\r\n  @Input('file-name') fileName: string;\r\n  /** 成功回调 */\r\n  @Output() success: EventEmitter<any> = new EventEmitter<any>();\r\n  /** 错误回调 */\r\n  @Output() error: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  constructor(private el: ElementRef, private http: HttpClient) {}\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    this.el.nativeElement.disabled = true;\r\n    this.http\r\n      .request(this.httpMethod, this.httpUrl, {\r\n        params: this.httpData || {},\r\n        responseType: 'blob',\r\n        observe: 'response',\r\n      })\r\n      .subscribe(\r\n        (res: HttpResponse<Blob>) => {\r\n          if (res.status !== 200 || res.body.size <= 0) {\r\n            this.error.emit(res);\r\n            return;\r\n          }\r\n          const fileName =\r\n            this.fileName ||\r\n            res.headers.get('filename') ||\r\n            res.headers.get('x-filename');\r\n          saveAs(res.body, decodeURI(fileName));\r\n          this.success.emit(res);\r\n          this.el.nativeElement.disabled = false;\r\n        },\r\n        err => {\r\n          this.error.emit(err);\r\n          this.el.nativeElement.disabled = false;\r\n        },\r\n      );\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { DownFileDirective } from './down-file.directive';\r\n\r\nconst DIRECTIVES = [DownFileDirective];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...DIRECTIVES],\r\n  exports: [...DIRECTIVES],\r\n})\r\nexport class AdDownFileModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdDownFileModule, providers: [] };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class AdImageConfig {\r\n  /**\r\n   * 默认大小，默认值：`64`，单位：px\r\n   */\r\n  size?: number = 64;\r\n\r\n  /**\r\n   * 错误图片\r\n   */\r\n  error?: string = './assets/img/logo.svg';\r\n}\r\n","import {\r\n  Directive,\r\n  Input,\r\n  OnChanges,\r\n  ElementRef,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  OnInit,\r\n  SimpleChange,\r\n} from '@angular/core';\r\nimport { deepCopy } from '@delon/util';\r\nimport { AdImageConfig } from './image.config';\r\n\r\n/**\r\n * img标签\r\n * + 支持微信、qq头像规则缩略图规则\r\n * + 支持移除http&https协议http\r\n * + 支持增加onerror事件\r\n */\r\n@Directive({ selector: '[_src]' })\r\nexport class ImageDirective implements OnChanges, OnInit {\r\n  @Input('_src') src: string;\r\n\r\n  @Input() size = 64;\r\n\r\n  @Input() error = './assets/img/logo.svg';\r\n\r\n  private inited = false;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private render: Renderer2,\r\n    DEF: AdImageConfig,\r\n  ) {\r\n    Object.assign(this, deepCopy(DEF));\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.update();\r\n    this.updateError();\r\n    this.inited = true;\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    if (this.inited) {\r\n      if (changes.error) this.updateError();\r\n      else this.update();\r\n    }\r\n  }\r\n\r\n  private update() {\r\n    let newSrc = this.src;\r\n\r\n    // region: fix weixin & qq avatar size\r\n    if (newSrc.includes('qlogo.cn')) {\r\n      const arr = newSrc.split('/'),\r\n        size = arr[arr.length - 1];\r\n      arr[arr.length - 1] =\r\n        size === '0' || +size !== this.size ? this.size.toString() : size;\r\n      newSrc = arr.join('/');\r\n    }\r\n    // endregion\r\n\r\n    // region: remove https & http\r\n    const isHttp = newSrc.startsWith('http:'),\r\n      isHttps = newSrc.startsWith('https:');\r\n    if (isHttp || isHttps) newSrc = newSrc.substr(isHttp ? 5 : 6);\r\n\r\n    // endregion\r\n\r\n    this.render.setAttribute(this.el.nativeElement, 'src', newSrc);\r\n  }\r\n\r\n  private updateError() {\r\n    this.render.setAttribute(\r\n      this.el.nativeElement,\r\n      'onerror',\r\n      `this.src='${this.error}';`,\r\n    );\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DelonUtilModule } from '@delon/util';\n\nimport { ImageDirective } from './image.directive';\nimport { AdImageConfig } from './image.config';\n\nconst DIRECTIVES = [ImageDirective];\n\n@NgModule({\n  imports: [CommonModule, DelonUtilModule],\n  declarations: [...DIRECTIVES],\n  exports: [...DIRECTIVES],\n})\nexport class AdImageModule {\n  static forRoot(): ModuleWithProviders {\n    return { ngModule: AdImageModule, providers: [AdImageConfig] };\n  }\n}\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'avatar-list-item, [avatar-list-item]',\r\n  template: ``,\r\n})\r\nexport class AvatarListItemComponent {\r\n  @Input() src: string;\r\n  @Input() text: string;\r\n  @Input() icon: string;\r\n  @Input() tips: string;\r\n}\r\n","import { Component, Input, QueryList, ContentChildren } from '@angular/core';\r\nimport { AvatarListItemComponent } from './avatar-list-item.component';\r\n\r\n@Component({\r\n  selector: 'avatar-list',\r\n  template: `\r\n  <ul>\r\n    <li *ngFor=\"let i of _items\" class=\"item\" [ngClass]=\"_size\">\r\n      <nz-tooltip *ngIf=\"i.tips\" [nzTitle]=\"i.tips\">\r\n        <nz-avatar nz-tooltip [nzSrc]=\"i.src\" [nzText]=\"i.text\" [nzIcon]=\"i.icon\" [nzSize]=\"_avatarSize\"></nz-avatar>\r\n      </nz-tooltip>\r\n      <nz-avatar *ngIf=\"!i.tips\" [nzSrc]=\"i.src\" [nzText]=\"i.text\" [nzIcon]=\"i.icon\" [nzSize]=\"_avatarSize\"></nz-avatar>\r\n    </li>\r\n  </ul>\r\n  `,\r\n  host: { '[class.ad-avatar-list]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class AvatarListComponent {\r\n  _size = '';\r\n\r\n  _avatarSize = '';\r\n\r\n  @Input()\r\n  set size(value: 'large' | 'small' | 'mini' | 'default') {\r\n    this._size = value === 'default' ? '' : value;\r\n    switch (value) {\r\n      case 'large':\r\n      case 'small':\r\n      case 'default':\r\n        this._avatarSize = value;\r\n        break;\r\n      default:\r\n        this._avatarSize = 'small';\r\n        break;\r\n    }\r\n  }\r\n\r\n  @ContentChildren(AvatarListItemComponent)\r\n  _items: QueryList<AvatarListItemComponent>;\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AvatarListComponent } from './avatar-list.component';\r\nimport { AvatarListItemComponent } from './avatar-list-item.component';\r\n\r\nconst COMPONENTS = [AvatarListComponent, AvatarListItemComponent];\r\n\r\n// region: zorro modules\r\n\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nconst ZORROMODULES = [NgZorroAntdModule];\r\n\r\n// endregion\r\n\r\n@NgModule({\r\n  imports: [CommonModule, ...ZORROMODULES],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdAvatarListModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdAvatarListModule, providers: [] };\r\n  }\r\n}\r\n","import { Component, Input, ViewChild, TemplateRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'desc-list-item',\r\n  template: `\r\n  <ng-template #tpl>\r\n    <div class=\"ad-desc-list__term\" *ngIf=\"_term || _termTpl\">\r\n      <ng-container *ngIf=\"_term; else _termTpl\">{{_term}}</ng-container>\r\n    </div>\r\n    <div class=\"ad-desc-list__detail\"><ng-content></ng-content></div>\r\n  </ng-template>\r\n  `,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class DescListItemComponent {\r\n  // region fields\r\n\r\n  _term = '';\r\n  _termTpl: TemplateRef<any>;\r\n  @Input()\r\n  set term(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._term = null;\r\n      this._termTpl = value;\r\n    } else this._term = value;\r\n  }\r\n\r\n  // endregion\r\n\r\n  @ViewChild('tpl') tpl: TemplateRef<any>;\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class AdDescListConfig {\r\n  /**\r\n   * 布局方式\r\n   */\r\n  layout?: 'horizontal' | 'vertical' = 'horizontal';\r\n\r\n  /**\r\n   * 列表项间距，单位为 `px`\r\n   */\r\n  gutter?: number = 32;\r\n\r\n  /**\r\n   * 列表型号\r\n   */\r\n  size?: 'small' | 'large';\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ViewEncapsulation,\r\n  ElementRef,\r\n  Renderer2,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  OnInit,\r\n  ContentChild,\r\n  TemplateRef,\r\n  ContentChildren,\r\n  QueryList,\r\n  SimpleChange,\r\n} from '@angular/core';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\nimport { DescListItemComponent } from './desc-list-item.component';\r\nimport { AdDescListConfig } from './desc-list.config';\r\n\r\n@Component({\r\n  selector: 'desc-list',\r\n  template: `\r\n  <div *ngIf=\"_title || _titleTpl\" class=\"ad-desc-list__title\">\r\n    <ng-container *ngIf=\"_title; else _titleTpl\">{{_title}}</ng-container>\r\n  </div>\r\n  <div nz-row [nzGutter]=\"gutter\">\r\n    <div nz-col [nzXs]=\"_xs\" [nzSm]=\"_sm\" [nzMd]=\"_md\" *ngFor=\"let i of _items\">\r\n      <ng-template [ngTemplateOutlet]=\"i.tpl\"></ng-template>\r\n    </div>\r\n  </div>\r\n  `,\r\n  host: { '[class.ad-desc-list]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class DescListComponent implements OnChanges, OnInit {\r\n  // region fields\r\n\r\n  _title = '';\r\n  _titleTpl: TemplateRef<any>;\r\n  @Input()\r\n  set title(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._title = null;\r\n      this._titleTpl = value;\r\n    } else this._title = value;\r\n  }\r\n\r\n  @Input() size: 'small' | 'large';\r\n\r\n  /** 列表项间距，单位为 `px` */\r\n  @Input()\r\n  get gutter() {\r\n    return this._gutter;\r\n  }\r\n  set gutter(value: any) {\r\n    this._gutter = coerceNumberProperty(value);\r\n  }\r\n  private _gutter = 32;\r\n\r\n  @Input() layout: 'horizontal' | 'vertical' = 'horizontal';\r\n\r\n  _xs = 24;\r\n  _sm = 12;\r\n  _md = 8;\r\n  /** 指定信息最多分几列展示，最终一行几列由 col 配置结合响应式规则决定 */\r\n  @Input()\r\n  get col() {\r\n    return this._col;\r\n  }\r\n  set col(value: any) {\r\n    this._col = coerceNumberProperty(value);\r\n  }\r\n  private _col = 3;\r\n\r\n  _classMap: string[] = [];\r\n  setClass() {\r\n    this._classMap.forEach(cls =>\r\n      this.renderer.removeClass(this.el.nativeElement, cls),\r\n    );\r\n\r\n    this._classMap = ['desc-list', this.layout];\r\n    if (this.size) this._classMap.push(this.size);\r\n\r\n    this._classMap.forEach(cls =>\r\n      this.renderer.addClass(this.el.nativeElement, cls),\r\n    );\r\n  }\r\n\r\n  setResponsive() {\r\n    const responsive = {\r\n      1: { xs: 24 },\r\n      2: { xs: 24, sm: 12 },\r\n      3: { xs: 24, sm: 12, md: 8 },\r\n      4: { xs: 24, sm: 12, md: 6 },\r\n    }[this.col > 4 ? 4 : this.col];\r\n\r\n    this._xs = responsive.xs;\r\n    this._sm = responsive.sm;\r\n    this._md = responsive.md;\r\n  }\r\n\r\n  @ContentChildren(DescListItemComponent)\r\n  _items: QueryList<DescListItemComponent>;\r\n\r\n  // endregion\r\n\r\n  constructor(\r\n    cog: AdDescListConfig,\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n  ) {\r\n    Object.assign(this, cog);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.setClass();\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    this.setClass();\r\n    if (changes.col) this.setResponsive();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { DescListComponent } from './desc-list.component';\r\nimport { DescListItemComponent } from './desc-list-item.component';\r\nimport { AdDescListConfig } from './desc-list.config';\r\n\r\nconst COMPONENTS = [DescListComponent, DescListItemComponent];\r\n\r\n// region: zorro modules\r\n\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nconst ZORROMODULES = [NgZorroAntdModule];\r\n\r\n// endregion\r\n\r\n@NgModule({\r\n  imports: [CommonModule, ...ZORROMODULES],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdDescListModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdDescListModule, providers: [AdDescListConfig] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'ellipsis',\r\n  template: `<ng-content></ng-content>`,\r\n  host: { '[class.ad-ellipsis]': 'true' },\r\n})\r\nexport class EllipsisComponent {\r\n  /** 在按照行数截取下最大的行数，超过则截取省略 */\r\n  @Input()\r\n  @HostBinding('style.-webkit-line-clamp')\r\n  get lines() {\r\n    return this._lines;\r\n  }\r\n  set lines(value: any) {\r\n    this._lines = coerceNumberProperty(value);\r\n  }\r\n  private _lines = 3;\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { EllipsisComponent } from './ellipsis.component';\r\n\r\nconst COMPONENTS = [EllipsisComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdEllipsisModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdEllipsisModule, providers: [] };\r\n  }\r\n}\r\n","import { Component, ContentChild, TemplateRef, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'global-footer',\r\n  template: `\r\n  <div *ngIf=\"links && links.length > 0\" class=\"links\">\r\n    <a *ngFor=\"let i of links\" routerLink=\"{{i.href}}\" [attr.target]=\"i.blankTarget\">{{i.title}}</a>\r\n  </div>\r\n  <div class=\"copyright\"><ng-content></ng-content></div>\r\n  `,\r\n  host: { '[class.ad-global-footer]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class GlobalFooterComponent {\r\n  @Input() links: { title: string; href: string; blankTarget?: boolean }[];\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { GlobalFooterComponent } from './global-footer.component';\r\n\r\nconst COMPONENTS = [GlobalFooterComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, RouterModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdGlobalFooterModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdGlobalFooterModule, providers: [] };\r\n  }\r\n}\r\n","import { Component, Input, ContentChild, TemplateRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'exception',\r\n  template: `\r\n  <div class=\"img-block\">\r\n    <div class=\"img\" [ngStyle]=\"{'background-image': 'url(' + _img + ')'}\"></div>\r\n  </div>\r\n  <div class=\"cont\">\r\n    <h1 [innerHTML]=\"_title\"></h1>\r\n    <div class=\"desc\" [innerHTML]=\"_desc\"></div>\r\n    <ng-template #defaultActions>\r\n      <button nz-button [routerLink]=\"['/']\" [nzType]=\"'primary'\">返回首页</button>\r\n      <ng-content></ng-content>\r\n    </ng-template>\r\n    <div class=\"actions\" *ngIf=\"actions; else defaultActions\">\r\n      <ng-template [ngTemplateOutlet]=\"actions\"></ng-template>\r\n      <ng-content></ng-content>\r\n    </div>\r\n  </div>\r\n  `,\r\n  host: { '[class.ad-exception]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class ExceptionComponent {\r\n  _img = '';\r\n  _title = '';\r\n  _desc = '';\r\n\r\n  @Input()\r\n  set type(value: 403 | 404 | 500) {\r\n    const item = {\r\n      403: {\r\n        img:\r\n          'https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg',\r\n        title: '403',\r\n        desc: '抱歉，你无权访问该页面',\r\n      },\r\n      404: {\r\n        img:\r\n          'https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg',\r\n        title: '404',\r\n        desc: '抱歉，你访问的页面不存在',\r\n      },\r\n      500: {\r\n        img:\r\n          'https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg',\r\n        title: '500',\r\n        desc: '抱歉，服务器出错了',\r\n      },\r\n    }[value];\r\n\r\n    if (!item) return;\r\n\r\n    this._img = item.img;\r\n    this._title = item.title;\r\n    this._desc = item.desc;\r\n  }\r\n\r\n  @Input()\r\n  set img(value) {\r\n    this._img = value;\r\n  }\r\n  @Input()\r\n  set title(value) {\r\n    this._title = value;\r\n  }\r\n  @Input()\r\n  set desc(value) {\r\n    this._desc = value;\r\n  }\r\n\r\n  @ContentChild('actions') actions: TemplateRef<any>;\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { ExceptionComponent } from './exception.component';\r\n\r\nconst COMPONENTS = [ExceptionComponent];\r\n\r\n// region: zorro modules\r\n\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nconst ZORROMODULES = [NgZorroAntdModule];\r\n\r\n// endregion\r\n\r\n@NgModule({\r\n  imports: [CommonModule, RouterModule, ...ZORROMODULES],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdExceptionModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdExceptionModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostListener,\r\n  HostBinding,\r\n  ViewEncapsulation,\r\n  ViewChildren,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport {\r\n  coerceNumberProperty,\r\n  coerceBooleanProperty,\r\n} from '@angular/cdk/coercion';\r\n\r\nimport { NoticeItem, NoticeIconClick } from './interface';\r\n\r\n@Component({\r\n  selector: 'notice-icon',\r\n  template: `\r\n  <nz-badge *ngIf=\"data?.length === 0\" [nzCount]=\"count\">\r\n    <i class=\"anticon anticon-bell\"></i>\r\n  </nz-badge>\r\n  <nz-popover *ngIf=\"data?.length > 0\"\r\n    [nzVisible]=\"popoverVisible\" (nzVisibleChange)=\"onVisibleChange($event)\" nzTrigger=\"click\"\r\n    nzPlacement=\"bottomRight\"\r\n    nzOverlayClassName=\"ad-notice-icon-con\">\r\n    <div nz-popover class=\"item\">\r\n      <nz-badge [nzCount]=\"count\">\r\n        <i class=\"anticon anticon-bell\"></i>\r\n      </nz-badge>\r\n    </div>\r\n    <ng-template #nzTemplate>\r\n      <nz-spin [nzSpinning]=\"loading\" [nzDelay]=\"0\">\r\n        <nz-tabset>\r\n          <nz-tab *ngFor=\"let i of data\" [nzTitle]=\"i.title\">\r\n            <notice-icon-tab\r\n              [data]=\"i\"\r\n              (select)=\"onSelect($event)\"\r\n              (clear)=\"onClear($event)\"></notice-icon-tab>\r\n          </nz-tab>\r\n        </nz-tabset>\r\n      </nz-spin>\r\n    </ng-template>\r\n  </nz-popover>\r\n  `,\r\n  host: { '[class.ad-notice-icon]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class NoticeIconComponent {\r\n  @Input() data: NoticeItem[] = [];\r\n\r\n  /** 图标上的消息总数 */\r\n  @Input()\r\n  get count() {\r\n    return this._count;\r\n  }\r\n  set count(value: any) {\r\n    this._count = coerceNumberProperty(value);\r\n  }\r\n  private _count: number;\r\n\r\n  /** 弹出卡片加载状态 */\r\n  @Input()\r\n  get loading() {\r\n    return this._loading;\r\n  }\r\n  set loading(value: any) {\r\n    this._loading = coerceBooleanProperty(value);\r\n  }\r\n  private _loading = false;\r\n\r\n  @Output() select = new EventEmitter<any>();\r\n  @Output() clear = new EventEmitter<string>();\r\n\r\n  /** 手动控制Popover显示 */\r\n  @Input()\r\n  get popoverVisible() {\r\n    return this._popoverVisible;\r\n  }\r\n  set popoverVisible(value: any) {\r\n    this._popoverVisible = coerceBooleanProperty(value);\r\n  }\r\n  private _popoverVisible = false;\r\n\r\n  @Output() popoverVisibleChange = new EventEmitter<boolean>();\r\n\r\n  onVisibleChange(result: boolean) {\r\n    this.popoverVisibleChange.emit(result);\r\n  }\r\n\r\n  onSelect(i: any) {\r\n    this.select.emit(i);\r\n  }\r\n\r\n  onClear(title: string) {\r\n    this.clear.emit(title);\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport { NoticeItem, NoticeIconClick } from './interface';\r\n\r\n@Component({\r\n  selector: 'notice-icon-tab',\r\n  template: `\r\n  <div *ngIf=\"data.list?.length === 0; else listTpl\" class=\"not-found\">\r\n    <img *ngIf=\"data.emptyImage\" src=\"{{data.emptyImage}}\" alt=\"not found\" />\r\n    <p>{{data.emptyText || '无通知'}}</p>\r\n  </div>\r\n  <ng-template #listTpl>\r\n    <nz-list [nzDataSource]=\"data.list\" [nzRenderItem]=\"item\">\r\n      <ng-template #item let-item>\r\n        <nz-list-item (click)=\"onClick(item)\" [ngClass]=\"{'read': item.read}\">\r\n          <nz-list-item-meta\r\n            [nzTitle]=\"nzTitle\"\r\n            [nzDescription]=\"nzDescription\"\r\n            [nzAvatar]=\"item.avatar\">\r\n            <ng-template #nzTitle>\r\n              {{item.title}}\r\n              <div class=\"extra\" *ngIf=\"item.extra\"><nz-tag [nzColor]=\"item.color\">{{item.extra}}</nz-tag></div>\r\n            </ng-template>\r\n            <ng-template #nzDescription>\r\n              <div *ngIf=\"item.description\" class=\"description\">{{item.description}}</div>\r\n              <div *ngIf=\"item.datetime\" class=\"datetime\">{{item.datetime}}</div>\r\n            </ng-template>\r\n          </nz-list-item-meta>\r\n        </nz-list-item>\r\n      </ng-template>\r\n    </nz-list>\r\n    <div class=\"clear\" (click)=\"onClear()\">{{ data.clearText || '清空' }}</div>\r\n  </ng-template>\r\n  `,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class NoticeIconTabComponent {\r\n  @Input() data: NoticeItem;\r\n  @Output() select = new EventEmitter<any>();\r\n  @Output() clear = new EventEmitter<string>();\r\n\r\n  onClick(item: NoticeItem) {\r\n    this.select.emit({\r\n      title: this.data.title,\r\n      item,\r\n    });\r\n  }\r\n\r\n  onClear() {\r\n    this.clear.emit(this.data.title);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { NoticeIconComponent } from './notice-icon.component';\r\nimport { NoticeIconTabComponent } from './notice-icon-tab.component';\r\n\r\nconst COMPONENTS = [NoticeIconComponent];\r\n\r\n// region: zorro modules\r\n\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nconst ZORROMODULES = [NgZorroAntdModule];\r\n\r\n// endregion\r\n\r\n@NgModule({\r\n  imports: [CommonModule, ...ZORROMODULES],\r\n  declarations: [...COMPONENTS, NoticeIconTabComponent],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdNoticeIconModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdNoticeIconModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  ViewEncapsulation,\r\n  TemplateRef,\r\n  Input,\r\n  ContentChild,\r\n  ElementRef,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  OnChanges,\r\n  SimpleChange,\r\n  ChangeDetectorRef,\r\n  ChangeDetectionStrategy,\r\n} from '@angular/core';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'number-info',\r\n  template: `\r\n  <div *ngIf=\"_title || _titleTpl\" class=\"title\"><ng-container *ngIf=\"_title; else _titleTpl\">{{_title}}</ng-container></div>\r\n  <div *ngIf=\"_subTitle || _subTitleTpl\" class=\"sub-title\"><ng-container *ngIf=\"_subTitle; else _subTitleTpl\">{{_subTitle}}</ng-container></div>\r\n  <div class=\"value\" [ngStyle]=\"{'margin-top.px': gap}\">\r\n    <span><ng-container *ngIf=\"_total; else _totalTpl\">{{_total}}</ng-container><em class=\"suffix\" *ngIf=\"suffix\">{{suffix}}</em></span>\r\n    <span *ngIf=\"status || _isSubTotal\" class=\"sub-total\">\r\n      <ng-container *ngIf=\"_subTotal; else _subTotalTpl\">{{_subTotal}}</ng-container>\r\n      <i *ngIf=\"status\" class=\"anticon anticon-caret-{{status}}\"></i>\r\n    </span>\r\n  </div>\r\n  `,\r\n  host: { '[class.ad-number-info]': 'true' },\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class NumberInfoComponent implements OnChanges {\r\n  _title = '';\r\n  _titleTpl: TemplateRef<any>;\r\n  /** 标题 */\r\n  @Input()\r\n  set title(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._title = null;\r\n      this._titleTpl = value;\r\n    } else this._title = value;\r\n  }\r\n\r\n  _subTitle = '';\r\n  _subTitleTpl: TemplateRef<any>;\r\n  /** 子标题 */\r\n  @Input()\r\n  set subTitle(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._subTitle = null;\r\n      this._subTitleTpl = value;\r\n    } else this._subTitle = value;\r\n  }\r\n\r\n  _total = '';\r\n  _totalTpl: TemplateRef<any>;\r\n  /** 总量 */\r\n  @Input()\r\n  set total(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._total = null;\r\n      this._totalTpl = value;\r\n    } else this._total = '' + value;\r\n  }\r\n\r\n  _isSubTotal = false;\r\n  _subTotal = '';\r\n  _subTotalTpl: TemplateRef<any>;\r\n  /** 总量后缀 */\r\n  @Input()\r\n  set subTotal(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._subTotal = null;\r\n      this._subTotalTpl = value;\r\n    } else this._subTotal = value;\r\n\r\n    this._isSubTotal = !!value;\r\n  }\r\n\r\n  /** 子总量 */\r\n  @Input() suffix: string;\r\n\r\n  /** 增加状态 */\r\n  @Input() status: 'up' | 'down';\r\n\r\n  /** 状态样式 */\r\n  @Input() theme: 'light' | '' = 'light';\r\n\r\n  /** 设置数字和描述直接的间距（像素） */\r\n  @Input()\r\n  get gap() {\r\n    return this._gap;\r\n  }\r\n  set gap(value: any) {\r\n    this._gap = coerceNumberProperty(value);\r\n  }\r\n  private _gap = 8;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    private cd: ChangeDetectorRef,\r\n  ) {}\r\n\r\n  _classMap: string[] = [];\r\n  setClass() {\r\n    this._classMap.forEach(cls =>\r\n      this.renderer.removeClass(this.el.nativeElement, cls),\r\n    );\r\n\r\n    this._classMap = [`number-info`];\r\n    if (this.theme) this._classMap.push(this.theme);\r\n\r\n    this._classMap.forEach(v =>\r\n      this.renderer.addClass(this.el.nativeElement, v),\r\n    );\r\n\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    this.setClass();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { NumberInfoComponent } from './number-info.component';\r\n\r\nconst COMPONENTS = [NumberInfoComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdNumberInfoModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdNumberInfoModule, providers: [] };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class AdPageHeaderConfig {\r\n  /**\r\n   * 首页文本，若指定空表示不显示\r\n   */\r\n  home?: string = '首页';\r\n  /**\r\n   * 首页链接\r\n   */\r\n  home_link?: string = '/';\r\n  /**\r\n   * 首页链接国际化参数\r\n   */\r\n  home_i18n?: string;\r\n  /**\r\n   * 自动生成导航，以当前路由从主菜单中定位\r\n   */\r\n  autoBreadcrumb?: boolean = true;\r\n}\r\n","import {\n  Component,\n  Input,\n  TemplateRef,\n  ContentChild,\n  OnInit,\n  OnChanges,\n  Inject,\n  Optional,\n  SimpleChange,\n  SimpleChanges,\n  ViewChild,\n  ElementRef,\n  AfterViewInit,\n  Renderer2,\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { MenuService, ALAIN_I18N_TOKEN, AlainI18NService } from '@delon/theme';\nimport { isEmpty } from '@delon/util';\n\nimport { AdPageHeaderConfig } from './page-header.config';\n\n@Component({\n  selector: 'page-header',\n  template: `\n  <ng-container *ngIf=\"!breadcrumb; else breadcrumb\">\n    <nz-breadcrumb *ngIf=\"paths && paths.length > 0\">\n      <nz-breadcrumb-item *ngFor=\"let i of paths\">\n        <ng-container *ngIf=\"i.link\"><a [routerLink]=\"i.link\">{{i.title}}</a></ng-container>\n        <ng-container *ngIf=\"!i.link\">{{i.title}}</ng-container>\n      </nz-breadcrumb-item>\n    </nz-breadcrumb>\n  </ng-container>\n  <div class=\"detail\">\n    <div *ngIf=\"logo\" class=\"logo\"><ng-template [ngTemplateOutlet]=\"logo\"></ng-template></div>\n    <div class=\"main\">\n      <div class=\"row\">\n        <h1 *ngIf=\"title\" class=\"title\">{{title}}</h1>\n        <div *ngIf=\"action\" class=\"action\"><ng-template [ngTemplateOutlet]=\"action\"></ng-template></div>\n      </div>\n      <div class=\"row\">\n        <div class=\"desc\" (cdkObserveContent)=\"checkContent()\" #conTpl><ng-content></ng-content><ng-template [ngTemplateOutlet]=\"content\"></ng-template></div>\n        <div *ngIf=\"extra\" class=\"extra\"><ng-template [ngTemplateOutlet]=\"extra\"></ng-template></div>\n      </div>\n    </div>\n  </div>\n  <ng-template [ngTemplateOutlet]=\"tab\"></ng-template>\n  `,\n  host: {\n    '[class.content__title]': 'true',\n    '[class.ad-page-header]': 'true',\n  },\n  preserveWhitespaces: false,\n})\nexport class PageHeaderComponent implements OnInit, OnChanges, AfterViewInit {\n  @ViewChild('conTpl') conTpl: ElementRef;\n\n  // region fields\n\n  @Input() title: string;\n\n  @Input() home: string;\n\n  @Input() home_link: string;\n\n  @Input() home_i18n: string;\n\n  /**\n   * 自动生成导航，以当前路由从主菜单中定位\n   */\n  @Input()\n  get autoBreadcrumb() {\n    return this._autoBreadcrumb;\n  }\n  set autoBreadcrumb(value: any) {\n    this._autoBreadcrumb = coerceBooleanProperty(value);\n  }\n  private _autoBreadcrumb = true;\n\n  paths: any[] = [];\n\n  @ContentChild('breadcrumb') breadcrumb: TemplateRef<any>;\n\n  @ContentChild('logo') logo: TemplateRef<any>;\n\n  @ContentChild('action') action: TemplateRef<any>;\n\n  @ContentChild('content') content: TemplateRef<any>;\n\n  @ContentChild('extra') extra: TemplateRef<any>;\n\n  @ContentChild('tab') tab: TemplateRef<any>;\n\n  // endregion\n\n  constructor(\n    cog: AdPageHeaderConfig,\n    private renderer: Renderer2,\n    private route: Router,\n    @Optional() private menuSrv: MenuService,\n    @Optional()\n    @Inject(ALAIN_I18N_TOKEN)\n    private i18nSrv: AlainI18NService,\n  ) {\n    Object.assign(this, cog);\n  }\n\n  genBreadcrumb() {\n    if (this.breadcrumb || !this.autoBreadcrumb || !this.menuSrv) return;\n    const menus = this.menuSrv.getPathByUrl(this.route.url);\n    if (menus.length <= 0) return;\n    const paths: any[] = [];\n    menus.forEach(item => {\n      if (typeof item.hideInBreadcrumb !== 'undefined' && item.hideInBreadcrumb)\n        return;\n      let title = item.text;\n      if (item.i18n && this.i18nSrv) title = this.i18nSrv.fanyi(item.i18n);\n      paths.push({ title, link: item.link && [item.link] });\n    });\n    // add home\n    if (this.home) {\n      paths.splice(0, 0, {\n        title:\n          (this.home_i18n &&\n            this.i18nSrv &&\n            this.i18nSrv.fanyi(this.home_i18n)) ||\n          this.home,\n        link: [this.home_link],\n      });\n    }\n    this.paths = paths;\n  }\n\n  checkContent() {\n    if (isEmpty(this.conTpl.nativeElement)) {\n      this.renderer.setAttribute(this.conTpl.nativeElement, 'hidden', '');\n    } else {\n      this.renderer.removeAttribute(this.conTpl.nativeElement, 'hidden');\n    }\n  }\n\n  ngOnInit() {\n    this.genBreadcrumb();\n  }\n\n  ngAfterViewInit(): void {\n    this.checkContent();\n  }\n\n  ngOnChanges(\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\n  ): void {\n    if (changes.autoBreadcrumb && !changes.autoBreadcrumb.firstChange)\n      this.genBreadcrumb();\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { DelonUtilModule } from '@delon/util';\n\nimport { PageHeaderComponent } from './page-header.component';\nimport { AdPageHeaderConfig } from './page-header.config';\n\nconst COMPONENTS = [PageHeaderComponent];\n\n// region: zorro modules\n\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\n\nconst ZORROMODULES = [NgZorroAntdModule];\n\n// endregion\n\n@NgModule({\n  imports: [CommonModule, RouterModule, DelonUtilModule, ...ZORROMODULES],\n  declarations: [...COMPONENTS],\n  exports: [...COMPONENTS],\n})\nexport class AdPageHeaderModule {\n  static forRoot(): ModuleWithProviders {\n    return { ngModule: AdPageHeaderModule, providers: [AdPageHeaderConfig] };\n  }\n}\n","import { Component, Input, TemplateRef, ContentChild } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'result',\r\n  template: `\r\n  <div class=\"icon\"><i class=\"anticon anticon-{{_icon}} {{_type}}\"></i></div>\r\n  <div class=\"title\"><ng-container *ngIf=\"_title; else _titleTpl\">{{_title}}</ng-container></div>\r\n  <div *ngIf=\"_description || _descriptionTpl\" class=\"description\"><ng-container *ngIf=\"_description; else _descriptionTpl\">{{_description}}</ng-container></div>\r\n  <div *ngIf=\"_extra || _extraTpl\" class=\"extra\">\r\n    <ng-container *ngIf=\"_extra; else _extraTpl\">{{_extra}}</ng-container>\r\n  </div>\r\n  <div class=\"actions\"><ng-content></ng-content></div>\r\n  `,\r\n  host: { '[class.ad-result]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class ResultComponent {\r\n  // region: fields\r\n\r\n  _type = '';\r\n  _icon = '';\r\n  @Input()\r\n  set type(value: string) {\r\n    this._type = value;\r\n    switch (value) {\r\n      case 'success':\r\n        this._icon = 'check-circle';\r\n        break;\r\n      case 'error':\r\n        this._icon = 'close-circle';\r\n        break;\r\n      default:\r\n        this._icon = value;\r\n        break;\r\n    }\r\n  }\r\n\r\n  _title = '';\r\n  _titleTpl: TemplateRef<any>;\r\n  @Input()\r\n  set title(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._title = null;\r\n      this._titleTpl = value;\r\n    } else this._title = value;\r\n  }\r\n\r\n  _description = '';\r\n  _descriptionTpl: TemplateRef<any>;\r\n  @Input()\r\n  set description(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._description = null;\r\n      this._descriptionTpl = value;\r\n    } else this._description = value;\r\n  }\r\n\r\n  _extra = '';\r\n  _extraTpl: TemplateRef<any>;\r\n  @Input()\r\n  set extra(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._extra = null;\r\n      this._extraTpl = value;\r\n    } else this._extra = value;\r\n  }\r\n\r\n  // endregion\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ResultComponent } from './result.component';\r\n\r\nconst COMPONENTS = [ResultComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdResultModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdResultModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ElementRef,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  Renderer2,\r\n  SimpleChange,\r\n} from '@angular/core';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'standard-form-row',\r\n  template: `\r\n  <div *ngIf=\"title\" class=\"label\"><span>{{title}}</span></div>\r\n  <div class=\"control\"><ng-content></ng-content></div>\r\n  `,\r\n  host: { '[class.ad-standard-form-row]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class StandardFormRowComponent implements OnChanges {\r\n  @Input() title: string;\r\n\r\n  /** 是否整行 */\r\n  @Input()\r\n  get block() {\r\n    return this._block;\r\n  }\r\n  set block(value: any) {\r\n    this._block = coerceBooleanProperty(value);\r\n  }\r\n  private _block: boolean;\r\n\r\n  /** 是否最后一行 */\r\n  @Input()\r\n  get last() {\r\n    return this._last;\r\n  }\r\n  set last(value: any) {\r\n    this._last = coerceBooleanProperty(value);\r\n  }\r\n  private _last: boolean;\r\n\r\n  /** 是否网格布局 */\r\n  @Input()\r\n  get grid() {\r\n    return this._grid;\r\n  }\r\n  set grid(value: any) {\r\n    this._grid = coerceBooleanProperty(value);\r\n  }\r\n  private _grid: boolean;\r\n\r\n  constructor(private el: ElementRef, private renderer: Renderer2) {}\r\n\r\n  _classMap: string[] = [];\r\n  setClass() {\r\n    this._classMap.forEach(cls =>\r\n      this.renderer.removeClass(this.el.nativeElement, cls),\r\n    );\r\n\r\n    this._classMap = [`standard-form-row`];\r\n    if (this.block) this._classMap.push('block');\r\n    if (this.grid) this._classMap.push('grid');\r\n    if (this.last) this._classMap.push('last');\r\n\r\n    this._classMap.forEach(v =>\r\n      this.renderer.addClass(this.el.nativeElement, v),\r\n    );\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    this.setClass();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { StandardFormRowComponent } from './standard-form-row.component';\r\n\r\nconst COMPONENTS = [StandardFormRowComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdStandardFormRowModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdStandardFormRowModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  HostBinding,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n} from '@angular/core';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'tag-select',\r\n  template: `\r\n    <ng-content></ng-content>\r\n    <a *ngIf=\"expandable\" class=\"trigger\" (click)=\"trigger()\">{{expand ? '收起' : '展开'}}<i class=\"anticon anticon-{{expand ? 'up' : 'down'}} ml-sm\"></i></a>`,\r\n  host: { '[class.ad-tag-select]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class TagSelectComponent {\r\n  /** 是否启用 `展开与收进` */\r\n  @HostBinding('class.has-expand')\r\n  @Input()\r\n  get expandable() {\r\n    return this._expandable;\r\n  }\r\n  set expandable(value: any) {\r\n    this._expandable = coerceBooleanProperty(value);\r\n  }\r\n  private _expandable = true;\r\n\r\n  @HostBinding('class.expanded') expand = false;\r\n\r\n  @Output() change: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  trigger() {\r\n    this.expand = !this.expand;\r\n    this.change.emit(this.expand);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TagSelectComponent } from './tag-select.component';\r\n\r\nconst COMPONENTS = [TagSelectComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdTagSelectModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdTagSelectModule, providers: [] };\r\n  }\r\n}\r\n","import { Component, HostBinding, Input } from '@angular/core';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'trend',\r\n  template: `\r\n  <ng-content></ng-content>\r\n  <span *ngIf=\"flag\" class=\"{{flag}}\"><i class=\"anticon anticon-caret-{{flag}}\"></i></span>\r\n  `,\r\n  host: {\r\n    '[class.ad-trend]': 'true',\r\n    '[class.grey]': '!colorful',\r\n  },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class TrendComponent {\r\n  /** 上升下降标识 */\r\n  @Input() flag: 'up' | 'down';\r\n\r\n  /** 是否彩色标记 */\r\n  @Input()\r\n  get colorful() {\r\n    return this._colorful;\r\n  }\r\n  set colorful(value: any) {\r\n    this._colorful = coerceBooleanProperty(value);\r\n  }\r\n  private _colorful = true;\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TrendComponent } from './trend.component';\r\n\r\nconst COMPONENTS = [TrendComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdTrendModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdTrendModule, providers: [] };\r\n  }\r\n}\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport * as format from 'date-fns/format';\r\nimport * as addSeconds from 'date-fns/add_seconds';\r\n\r\n@Component({\r\n  selector: 'count-down',\r\n  template: `\r\n    <countdown *ngIf=\"config\" [config]=\"config\"\r\n      (start)=\"_start()\"\r\n      (finished)=\"_finished()\"\r\n      (notify)=\"_notify($event)\"></countdown>\r\n  `,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class CountDownComponent {\r\n  @Input() config: any;\r\n\r\n  /**\r\n   * 目标时间\r\n   */\r\n  @Input()\r\n  set target(value: number | Date) {\r\n    this.config = {\r\n      template: `$!h!:$!m!:$!s!`,\r\n      stopTime:\r\n        typeof value === 'number'\r\n          ? addSeconds(new Date(), value).valueOf()\r\n          : format(value, 'x'),\r\n    };\r\n  }\r\n\r\n  @Output() begin = new EventEmitter();\r\n  @Output() notify = new EventEmitter<number>();\r\n  @Output() end = new EventEmitter();\r\n\r\n  _start() {\r\n    this.begin.emit();\r\n  }\r\n\r\n  _notify(time: number) {\r\n    this.notify.emit(time);\r\n  }\r\n\r\n  _finished() {\r\n    this.end.emit();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CountdownModule } from 'ngx-countdown';\r\n\r\nimport { CountDownComponent } from './count-down.component';\r\n\r\nconst COMPONENTS = [CountDownComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, CountdownModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdCountDownModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdCountDownModule, providers: [] };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class AdSimpleTableConfig {\r\n  /**\r\n   * 起始页码，默认为：`1`\r\n   */\r\n  pi?: number;\r\n  /**\r\n   * 每页数量，当设置为 `0` 表示不分页，默认：`10`\r\n   */\r\n  ps?: number;\r\n  /**\r\n   * 是否显示边框\r\n   */\r\n  bordered?: boolean;\r\n  /**\r\n   * table大小\r\n   */\r\n  size?: 'small' | 'middle' | 'default';\r\n  /**\r\n   * 是否显示pagination中改变页数\r\n   */\r\n  showSizeChanger?: boolean;\r\n  /**\r\n   * pagination中每页显示条目数下拉框值\r\n   */\r\n  pageSizeOptions?: number[] = [10, 20, 30, 40, 50];\r\n  /**\r\n   * 是否显示pagination中快速跳转\r\n   */\r\n  showQuickJumper?: boolean;\r\n  /**\r\n   * 是否显示总数据量，默认：`共 {{total}} 条`\r\n   */\r\n  showTotal?: boolean | string = `共 {{total}} 条`;\r\n  /**\r\n   * 数据变更后是否保留在数据变更前的页码\r\n   */\r\n  isPageIndexReset?: boolean;\r\n  /**\r\n   * 分页方向\r\n   */\r\n  pagePlacement?: 'left' | 'center' | 'right';\r\n  /**\r\n   * 切换分页时返回顶部\r\n   */\r\n  toTopInChange?: boolean;\r\n  /**\r\n   * 返回顶部偏移值\r\n   */\r\n  toTopOffset?: number;\r\n  /**\r\n   * 重命名请求参数 `pi`、`ps`，例如：`{ pi: 'Page' }` `pi` 会被替换成 Page\r\n   */\r\n  reqReName?: Object;\r\n  /**\r\n   * 重命名返回参数 `total`、`list`，例如：`{ total: 'Total' }` Total 会被当作 `total`\r\n   */\r\n  resReName?: { total?: string | string[]; list?: string | string[] };\r\n  /**\r\n   * 重命名排序值，`columns` 的重命名高于属性\r\n   */\r\n  sortReName?: { ascend?: string; descend?: string };\r\n  /**\r\n   * 指定模态框目标组件的接收参数名，默认：`record`\r\n   */\r\n  modalParamsName?: string;\r\n}\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport const DA_XLSX_CONFIG = new InjectionToken<XlsxConfig>('DA_XLSX_CONFIG');\r\n\r\nexport interface XlsxConfig {\r\n  /**\r\n   * Xlsx library path\r\n   * @default //cdn.bootcss.com/xlsx/0.11.17/xlsx.full.min.js\r\n   */\r\n  url?: string;\r\n  /**\r\n   * Defines which Xlsx optional modules should get loaded, e.g:\r\n   * `[ '//cdn.bootcss.com/xlsx/0.11.14/cpexcel.js' ]`\r\n   */\r\n  modules?: string[];\r\n}\r\n\r\nexport interface XlsxExportOptions {\r\n  /**\r\n   * worksheets in the workbook, e.g:\r\n   * - `{ Sheet1: { A1: { t:\"n\", v:10000 } } }`\r\n   * - `[['1'], [1]]`\r\n   */\r\n  sheets: { [sheet: string]: any } | XlsxExportSheet[];\r\n  /** save file name, default: `export.xlsx` */\r\n  filename?: string;\r\n  opts?: any;\r\n  /** triggers when saveas */\r\n  callback?: (wb: any) => void;\r\n}\r\n\r\nexport interface XlsxExportSheet {\r\n  /** arrays to a worksheet */\r\n  data: any[][];\r\n  /** sheet name */\r\n  name?: string;\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { saveAs } from 'file-saver';\nimport { LazyService, LazyResult } from '@delon/util';\nimport {\n  XlsxExportOptions,\n  DA_XLSX_CONFIG,\n  XlsxConfig,\n  XlsxExportSheet,\n} from './interface';\n\ndeclare var XLSX: any;\n\n@Injectable()\nexport class XlsxService {\n  constructor(\n    @Inject(DA_XLSX_CONFIG) private config: XlsxConfig,\n    private http: HttpClient,\n    private lazy: LazyService,\n  ) {}\n\n  private init(): Promise<LazyResult[]> {\n    const config = Object.assign(\n      {\n        url: `//cdn.bootcss.com/xlsx/0.11.17/xlsx.full.min.js`,\n        modules: [],\n      },\n      this.config,\n    );\n\n    return this.lazy.load([config.url].concat(config.modules));\n  }\n\n  private read(wb: any): { [key: string]: any[][] } {\n    const ret: any = {};\n    wb.SheetNames.forEach(name => {\n      const sheet: any = wb.Sheets[name];\n      ret[name] = XLSX.utils.sheet_to_json(sheet, { header: 1 });\n    });\n    return ret;\n  }\n\n  /** 导入Excel并输出JSON，支持 `<input type=\"file\">`、URL 形式 */\n  import(fileOrUrl: File | string): Promise<{ [key: string]: any[][] }> {\n    return new Promise<{ [key: string]: any[][] }>((resolver, reject) => {\n      this.init().then(() => {\n        // from url\n        if (typeof fileOrUrl === 'string') {\n          this.http\n            .request('GET', fileOrUrl, { responseType: 'arraybuffer' })\n            .subscribe(\n              (res: ArrayBuffer) => {\n                const wb = XLSX.read(new Uint8Array(res), { type: 'array' });\n                resolver(this.read(wb));\n              },\n              (err: any) => {\n                reject(err);\n              },\n            );\n          return;\n        }\n        // from file\n        const reader: FileReader = new FileReader();\n        reader.onload = (e: any) => {\n          const wb: any = XLSX.read(e.target.result, { type: 'binary' });\n          resolver(this.read(wb));\n        };\n        reader.readAsArrayBuffer(fileOrUrl);\n      });\n    });\n  }\n\n  /** 导出 */\n  export(options: XlsxExportOptions): Promise<void> {\n    return this.init().then(() => {\n      const wb: any = XLSX.utils.book_new();\n      if (Array.isArray(options.sheets)) {\n        (<XlsxExportSheet[]>options.sheets).forEach(\n          (value: XlsxExportSheet, index: number) => {\n            const ws: any = XLSX.utils.aoa_to_sheet(value.data);\n            XLSX.utils.book_append_sheet(\n              wb,\n              ws,\n              value.name || `Sheet${index + 1}`,\n            );\n          },\n        );\n      } else {\n        wb.SheetNames = Object.keys(options.sheets);\n        wb.Sheets = options.sheets;\n      }\n\n      if (options.callback) options.callback(wb);\n\n      const wbout: ArrayBuffer = XLSX.write(\n        wb,\n        Object.assign(\n          {\n            bookType: 'xlsx',\n            type: 'array',\n          },\n          options.opts,\n        ),\n      );\n      saveAs(\n        new Blob([wbout], { type: 'application/octet-stream' }),\n        options.filename || 'export.xlsx',\n      );\n    });\n  }\n}\n","import { Injectable, Optional } from '@angular/core';\nimport { deepGet } from '@delon/util';\nimport { XlsxService } from '../xlsx/xlsx.service';\nimport { SimpleTableColumn, STExportOptions } from './interface';\n\n@Injectable()\nexport class SimpleTableExport {\n  constructor(@Optional() private xlsxSrv: XlsxService) {}\n\n  private _stGet(item: any, col: SimpleTableColumn): any {\n    const ret: any = { t: 's', v: '' };\n\n    if (col.format) {\n      ret.v = col.format(item, col);\n    } else {\n      const val = deepGet(item, col.index as string[], '');\n      if (typeof val === 'undefined') {\n        ret.v = '';\n      } else {\n        ret.v = val;\n        switch (col.type) {\n          case 'currency':\n            ret.t = 'n';\n            break;\n          case 'date':\n            ret.t = 'd';\n            break;\n          case 'yn':\n            ret.v = ret === col.ynTruth ? col.ynYes || '是' : col.ynNo || '否';\n            break;\n        }\n      }\n    }\n\n    return ret;\n  }\n\n  private genSheet(opt: STExportOptions): { [sheet: string]: any } {\n    const sheets: { [sheet: string]: any } = {};\n    const sheet = (sheets[opt.sheetname || 'Sheet1'] = {});\n    const colData = opt._c.filter(\n      w =>\n        w.exported !== false &&\n        w.index &&\n        (!w.buttons || w.buttons.length === 0),\n    );\n    const cc = colData.length,\n      dc = opt._d.length;\n    // region: column\n    for (let i = 0; i < cc; i++) {\n      sheet[`${String.fromCharCode(65 + i)}1`] = {\n        t: 's',\n        v: colData[i].title,\n      };\n    }\n    // endregion\n\n    // region: content\n    for (let i = 0; i < dc; i++) {\n      for (let j = 0; j < cc; j++) {\n        sheet[`${String.fromCharCode(65 + j)}${i + 2}`] = this._stGet(\n          opt._d[i],\n          colData[j],\n        );\n      }\n    }\n    // endregion\n\n    sheet['!ref'] = `A1:${String.fromCharCode(65 + cc - 1)}${dc + 1}`;\n\n    return sheets;\n  }\n\n  export(opt: STExportOptions) {\n    if (!this.xlsxSrv)\n      throw new Error(`muse be import 'AdXlsxModule' module, but got null`);\n    const sheets = this.genSheet(opt);\n    return this.xlsxSrv.export({\n      sheets,\n      filename: opt.filename,\n      callback: opt.callback,\n    });\n  }\n}\n","import {\r\n  Component,\r\n  Inject,\r\n  Input,\r\n  Output,\r\n  OnDestroy,\r\n  OnInit,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  EventEmitter,\r\n  Renderer2,\r\n  ElementRef,\r\n  TemplateRef,\r\n  SimpleChange,\r\n  QueryList,\r\n  ViewChildren,\r\n  ContentChildren,\r\n  ContentChild,\r\n  Optional,\r\n} from '@angular/core';\r\nimport { DecimalPipe } from '@angular/common';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { DOCUMENT } from '@angular/platform-browser';\r\nimport { ACLService } from '@delon/acl';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { tap, map, filter } from 'rxjs/operators';\r\nimport { of } from 'rxjs/observable/of';\r\nimport {\r\n  coerceBooleanProperty,\r\n  coerceNumberProperty,\r\n} from '@angular/cdk/coercion';\r\nimport {\r\n  CNCurrencyPipe,\r\n  DatePipe,\r\n  YNPipe,\r\n  ModalHelper,\r\n  ALAIN_I18N_TOKEN,\r\n  AlainI18NService,\r\n} from '@delon/theme';\r\nimport { deepGet, deepCopy } from '@delon/util';\r\n\r\nimport {\r\n  SimpleTableColumn,\r\n  SimpleTableChange,\r\n  CompareFn,\r\n  SimpleTableSelection,\r\n  SimpleTableFilter,\r\n  SimpleTableData,\r\n  SimpleTableButton,\r\n  STExportOptions,\r\n  ResReNameType,\r\n  ReqReNameType,\r\n} from './interface';\r\nimport { AdSimpleTableConfig } from './simple-table.config';\r\nimport { SimpleTableRowDirective } from './simple-table-row.directive';\r\nimport { SimpleTableExport } from './simple-table-export';\r\n\r\n@Component({\r\n  selector: 'simple-table',\r\n  template: `<nz-table [nzData]=\"_data\" [(nzPageIndex)]=\"pi\" (nzPageIndexChange)=\"_change('pi')\" [(nzPageSize)]=\"ps\" (nzPageSizeChange)=\"_change('ps')\" [nzTotal]=\"total\" [nzShowPagination]=\"_isPagination\" [nzFrontPagination]=\"false\" [nzBordered]=\"bordered\" [nzSize]=\"size\" [nzLoading]=\"loading\" [nzLoadingDelay]=\"loadingDelay\" [nzScroll]=\"scroll\" [nzTitle]=\"header\" [nzFooter]=\"footer\" [nzNoResult]=\"noResult\" [nzPageSizeOptions]=\"pageSizeOptions\" [nzShowQuickJumper]=\"showQuickJumper\" [nzShowSizeChanger]=\"showSizeChanger\" [nzShowTotal]=\"totalTpl\"> <thead> <tr> <th *ngIf=\"expand\" [nzShowExpand]=\"expand\"></th> <th *ngFor=\"let c of _columns; let index=index\" [nzWidth]=\"c.width\" [nzLeft]=\"c._left\" [nzRight]=\"c._right\" [ngClass]=\"c.className\" [attr.colspan]=\"c.colSpan\" [attr.data-col]=\"c.indexKey\" [nzShowSort]=\"_sortMap[index].enabled\" [(nzSort)]=\"_sortMap[index].v\" (nzSortChange)=\"sort(index, $event)\"> <ng-template #renderTitle [ngTemplateOutlet]=\"c.__renderTitle\" [ngTemplateOutletContext]=\"{$implicit: c, index: index }\"></ng-template> <ng-container *ngIf=\"!c.__renderTitle; else renderTitle\"> <ng-container [ngSwitch]=\"c.type\"> <ng-container *ngSwitchCase=\"'checkbox'\"> <label nz-checkbox [(ngModel)]=\"_allChecked\" [nzIndeterminate]=\"_indeterminate\" (ngModelChange)=\"_checkAll()\"></label> <nz-dropdown *ngIf=\"c.selections.length\"> <span nz-dropdown> <i class=\"anticon anticon-down\"></i> </span> <ul nz-menu> <li nz-menu-item *ngFor=\"let rw of c.selections\" (click)=\"_rowSelection(rw)\" [innerHTML]=\"rw.text\"> </li> </ul> </nz-dropdown> </ng-container> <ng-container *ngSwitchDefault> <span [innerHTML]=\"c.title\"></span> </ng-container> </ng-container> <nz-dropdown *ngIf=\"c.filters.length > 0\" nzTrigger=\"click\" [hasFilterButton]=\"true\" [nzClickHide]=\"false\" [(nzVisible)]=\"c.filterVisible\"> <i class=\"{{c.filterIcon}}\" [ngClass]=\"{'ant-table-filter-selected': c.filtered}\" nz-dropdown></i> <ul nz-menu> <ng-container *ngIf=\"c.filterMultiple\"> <li nz-menu-item *ngFor=\"let filter of c.filters\"> <label nz-checkbox [(ngModel)]=\"filter.checked\">{{filter.text}}</label> </li> </ng-container> <ng-container *ngIf=\"!c.filterMultiple\"> <li nz-menu-item *ngFor=\"let filter of c.filters\"> <label nz-radio [ngModel]=\"filter.checked\" (ngModelChange)=\"filterRadio(c, filter, $event)\">{{filter.text}}</label> </li> </ng-container> </ul> <div class=\"ant-table-filter-dropdown-btns\"> <a class=\"ant-table-filter-dropdown-link confirm\" (click)=\"c.filterVisible = false\"> <span (click)=\"filterConfirm(c)\">{{c.filterConfirmText}}</span> </a> <a class=\"ant-table-filter-dropdown-link clear\" (click)=\"c.filterVisible = false\"> <span (click)=\"filterClear(c)\">{{c.filterClearText}}</span> </a> </div> </nz-dropdown> </ng-container> </th> </tr> </thead> <tbody> <ng-container *ngFor=\"let i of _data; let index=index\"> <tr> <td *ngIf=\"expand\" [nzShowExpand]=\"expand\" [(nzExpand)]=\"i.expand\"></td> <td *ngFor=\"let c of _columns\" [nzLeft]=\"c._left\" [nzRight]=\"c._right\" [nzCheckbox]=\"c.type === 'checkbox'\" [ngClass]=\"c.className\" [attr.colspan]=\"c.colSpan\"> <ng-template #render [ngTemplateOutlet]=\"c.__render\" [ngTemplateOutletContext]=\"{$implicit: i, index: index, column: c }\"></ng-template> <ng-container *ngIf=\"!c.__render; else render\"> <ng-container *ngIf=\"c.index\" [ngSwitch]=\"c.type\"> <ng-container *ngSwitchCase=\"'checkbox'\"> <label nz-checkbox [nzDisabled]=\"i.disabled\" [ngModel]=\"i.checked\" (ngModelChange)=\"_checkSelection(i, $event)\"></label> </ng-container> <ng-container *ngSwitchCase=\"'radio'\"> <label nz-radio [nzDisabled]=\"i.disabled\" [ngModel]=\"i.checked\" (ngModelChange)=\"_refRadio(index, $event, i)\"></label> </ng-container> <ng-container *ngSwitchCase=\"'link'\"> <a (click)=\"_click($event, i, c)\" [innerHTML]=\"_get(i, c)\"></a> </ng-container> <span *ngSwitchDefault [innerHTML]=\"_get(i, c)\"></span> </ng-container> <ng-container *ngFor=\"let btn of c.buttons; let last=last\"> <ng-container *ngIf=\"btn.if(i, btn, c)\" [ngSwitch]=\"btn._type\"> <ng-container *ngSwitchCase=\"2\"> <nz-popconfirm [nzTitle]=\"btn.popTitle\" (nzOnConfirm)=\"btnClick(i, btn)\"> <a nz-popconfirm [innerHTML]=\"btnText(i, btn)\"></a> </nz-popconfirm> </ng-container> <ng-container *ngSwitchCase=\"3\"> <nz-dropdown> <a class=\"ant-dropdown-link\" nz-dropdown> {{btnText(i, btn)}} <i class=\"anticon anticon-down\"></i> </a> <ul nz-menu> <ng-container *ngFor=\"let subBtn of btn.children\"> <li nz-menu-item *ngIf=\"btn.if(i, btn, c)\"> <a (click)=\"btnClick(i, subBtn)\" [innerHTML]=\"btnText(i, subBtn)\"></a> </li> </ng-container> </ul> </nz-dropdown> </ng-container> <a *ngSwitchDefault (click)=\"btnClick(i, btn)\" [innerHTML]=\"btnText(i, btn)\"></a> <nz-divider *ngIf=\"!last\" nzType=\"vertical\"></nz-divider> </ng-container> </ng-container> <ng-template [ngIf]=\"!c.__renderExpanded\" [ngTemplateOutlet]=\"c.__renderExpanded\" [ngTemplateOutletContext]=\"{$implicit: i, index: index, column: c }\"></ng-template> </ng-container> </td> </tr> <tr [nzExpand]=\"i.expand\"> <td></td> <td [attr.colspan]=\"_columns.length\"> <ng-template [ngTemplateOutlet]=\"expand\" [ngTemplateOutletContext]=\"{$implicit: i, index: index, column: c }\"></ng-template> </td> </tr> </ng-container> <ng-template [ngIf]=\"!loading\" [ngTemplateOutlet]=\"body\"></ng-template> </tbody> <ng-template #totalTpl let-range=\"range\" let-total>{{ renderTotal(total, range) }}</ng-template> </nz-table> `,\r\n  host: { '[class.ad-st]': 'true' },\r\n  providers: [SimpleTableExport, CNCurrencyPipe, DatePipe, YNPipe, DecimalPipe],\r\n  preserveWhitespaces: false,\r\n})\r\nexport class SimpleTableComponent\r\n  implements OnInit, OnChanges, OnDestroy {\r\n  private data$: Subscription;\r\n  private _inited = false;\r\n  _data: SimpleTableData[] = [];\r\n  _url: string;\r\n  _isAjax = false;\r\n  _isPagination = true;\r\n  _classMap: string[] = [];\r\n  _allChecked = false;\r\n  _indeterminate = false;\r\n  _columns: SimpleTableColumn[] = [];\r\n\r\n  // region: fields\r\n\r\n  /** 数据源 */\r\n  @Input() data: string | any[] | Observable<any[]>;\r\n  /**\r\n   * 额外请求参数，默认自动附加 `pi`、`ps` 至URL\r\n   * - `{ status: 'new' }` => `url?pi=1&ps=10&status=new`\r\n   */\r\n  @Input() extraParams: any;\r\n  /** 请求方法 */\r\n  @Input() reqMehtod: string = 'GET';\r\n  /** 请求体 `body` */\r\n  @Input() reqBody: any;\r\n  /** 请求体 `Header` */\r\n  @Input() reqHeaders: any;\r\n  /**\r\n   * 重命名请求参数 `pi`、`ps`\r\n   * - `{ pi: 'Page' }` => `pi` 会被替换成 Page\r\n   */\r\n  @Input()\r\n  set reqReName(value: ReqReNameType) {\r\n    this._reqReName = Object.assign(this._reqReName, value);\r\n  }\r\n  get reqReName() {\r\n    return this._reqReName;\r\n  }\r\n  private _reqReName: ReqReNameType = { pi: 'pi', ps: 'ps' };\r\n  /** 请求异常时回调 */\r\n  @Output() reqError: EventEmitter<any> = new EventEmitter<any>();\r\n  /**\r\n   * 重命名返回参数 `total`、`list`\r\n   * - `{ total: 'Total' }` => Total 会被当作 `total`\r\n   */\r\n  @Input()\r\n  set resReName(cur: ResReNameType) {\r\n    let ret: ResReNameType = {};\r\n    if (cur) {\r\n      if (cur.list)\r\n        ret.list = Array.isArray(cur.list) ? cur.list : cur.list.split('.');\r\n      else ret.list = ['list'];\r\n\r\n      if (cur.total)\r\n        ret.total = Array.isArray(cur.total) ? cur.total : cur.total.split('.');\r\n      else ret.total = ['total'];\r\n    } else {\r\n      ret = { total: ['total'], list: ['list'] };\r\n    }\r\n    this._resReName = ret;\r\n  }\r\n  get resReName() {\r\n    return this._resReName;\r\n  }\r\n  private _resReName: ResReNameType = { total: ['total'], list: ['list'] };\r\n  /** 列描述  */\r\n  @Input() columns: SimpleTableColumn[] = [];\r\n  /** 每页数量，当设置为 `0` 表示不分页，默认：`10` */\r\n  @Input()\r\n  get ps() {\r\n    return this._ps;\r\n  }\r\n  set ps(value: any) {\r\n    this._ps = coerceNumberProperty(value);\r\n  }\r\n  private _ps = 10;\r\n  /** 当前页码 */\r\n  @Input()\r\n  get pi() {\r\n    return this._pi;\r\n  }\r\n  set pi(value: any) {\r\n    this._pi = coerceNumberProperty(value);\r\n  }\r\n  private _pi = 1;\r\n  /** 数据总量 */\r\n  @Input()\r\n  get total() {\r\n    return this._total;\r\n  }\r\n  set total(value: any) {\r\n    this._total = coerceNumberProperty(value);\r\n  }\r\n  private _total = 0;\r\n  /** 是否显示分页器 */\r\n  @Input()\r\n  get showPagination() {\r\n    return this._showPagination;\r\n  }\r\n  set showPagination(value: any) {\r\n    this._showPagination = coerceBooleanProperty(value);\r\n  }\r\n  private _showPagination: boolean;\r\n  /** 是否显示Loading */\r\n  @Input()\r\n  get loading() {\r\n    return this._loading;\r\n  }\r\n  set loading(value: any) {\r\n    this._loading = coerceBooleanProperty(value);\r\n  }\r\n  private _loading = false;\r\n  /** 延迟显示加载效果的时间（防止闪烁） */\r\n  @Input()\r\n  get loadingDelay() {\r\n    return this._loadingDelay;\r\n  }\r\n  set loadingDelay(value: any) {\r\n    this._loadingDelay = coerceNumberProperty(value);\r\n  }\r\n  private _loadingDelay = 0;\r\n  /** 是否显示边框 */\r\n  @Input()\r\n  get bordered() {\r\n    return this._bordered;\r\n  }\r\n  set bordered(value: any) {\r\n    this._bordered = coerceBooleanProperty(value);\r\n  }\r\n  private _bordered = false;\r\n  /** table大小 */\r\n  @Input() size: 'small' | 'middle' | 'default' = 'default';\r\n  /** 纵向支持滚动，也可用于指定滚动区域的高度：`{ y: '300px', x: '300px' }` */\r\n  @Input() scroll: { y: string; x: string };\r\n  /** 是否显示pagination中改变页数 */\r\n  @Input()\r\n  get showSizeChanger() {\r\n    return this._showSizeChanger;\r\n  }\r\n  set showSizeChanger(value: any) {\r\n    this._showSizeChanger = coerceBooleanProperty(value);\r\n  }\r\n  private _showSizeChanger = false;\r\n  /** pagination中每页显示条目数下拉框值 */\r\n  @Input() pageSizeOptions: number[];\r\n  /** 是否显示pagination中快速跳转 */\r\n  @Input()\r\n  get showQuickJumper() {\r\n    return this._showQuickJumper;\r\n  }\r\n  set showQuickJumper(value: any) {\r\n    this._showQuickJumper = coerceBooleanProperty(value);\r\n  }\r\n  private _showQuickJumper = false;\r\n  /** 是否显示总数据量 */\r\n  private _totalTpl = ``;\r\n  @Input()\r\n  set showTotal(value: any) {\r\n    if (typeof value === 'string' && value.length) {\r\n      this._totalTpl = value;\r\n    } else if (coerceBooleanProperty(value)) {\r\n      this._totalTpl = `共 {{total}} 条`;\r\n    } else {\r\n      this._totalTpl = '';\r\n    }\r\n  }\r\n  renderTotal(total: string, range: string[]) {\r\n    return this._totalTpl\r\n      ? this._totalTpl\r\n          .replace('{{total}}', total)\r\n          .replace('{{range[0]}}', range[0])\r\n          .replace('{{range[1]}}', range[1])\r\n      : '';\r\n  }\r\n  /** 数据变更后是否保留在数据变更前的页码 */\r\n  @Input()\r\n  get isPageIndexReset() {\r\n    return this._isPageIndexReset;\r\n  }\r\n  set isPageIndexReset(value: any) {\r\n    this._isPageIndexReset = coerceBooleanProperty(value);\r\n  }\r\n  private _isPageIndexReset = true;\r\n  /** 分页方向 */\r\n  @Input() pagePlacement?: 'left' | 'center' | 'right' = 'right';\r\n  /** 切换分页时返回顶部 */\r\n  @Input()\r\n  get toTopInChange() {\r\n    return this._toTopInChange;\r\n  }\r\n  set toTopInChange(value: any) {\r\n    this._toTopInChange = coerceBooleanProperty(value);\r\n  }\r\n  private _toTopInChange = true;\r\n  /** 返回顶部偏移值 */\r\n  @Input()\r\n  get toTopOffset() {\r\n    return this._toTopOffset;\r\n  }\r\n  set toTopOffset(value: any) {\r\n    this._toTopOffset = coerceNumberProperty(value);\r\n  }\r\n  private _toTopOffset = 100;\r\n  /** 重命名排序值，`columns` 的重命名高于属性 */\r\n  @Input() sortReName: { ascend?: string; descend?: string };\r\n  /** 是否多排序，建议后端支持时使用，默认：`false` */\r\n  @Input()\r\n  get multiSort() {\r\n    return this._multiSort;\r\n  }\r\n  set multiSort(value: any) {\r\n    this._multiSort = coerceBooleanProperty(value);\r\n  }\r\n  private _multiSort = false;\r\n  /** 数据处理前回调 */\r\n  @Input() preDataChange: (data: SimpleTableData[]) => SimpleTableData[];\r\n  /** `header` 标题 */\r\n  @ContentChild('header') header: TemplateRef<void>;\r\n  /** 额外 `body` 内容 */\r\n  @ContentChild('body') body: TemplateRef<void>;\r\n  /** `footer` 底部 */\r\n  @ContentChild('footer') footer: TemplateRef<void>;\r\n  /** `expand` 可展开，当数据源中包括 `expand` 表示展开状态 */\r\n  @ContentChild('expand')\r\n  expand: TemplateRef<{ $implicit: any; column: SimpleTableColumn }>;\r\n  @Input() noResult: string | TemplateRef<void>;\r\n  @Input() widthConfig: string[];\r\n  /** 页码、每页数量变化时回调 */\r\n  @Output()\r\n  change: EventEmitter<SimpleTableChange> = new EventEmitter<\r\n    SimpleTableChange\r\n  >();\r\n  /** checkbox变化时回调，参数为当前所选清单 */\r\n  @Output()\r\n  checkboxChange: EventEmitter<SimpleTableData[]> = new EventEmitter<\r\n    SimpleTableData[]\r\n  >();\r\n  /** radio变化时回调，参数为当前所选 */\r\n  @Output()\r\n  radioChange: EventEmitter<SimpleTableData> = new EventEmitter<\r\n    SimpleTableData\r\n  >();\r\n  /** 排序回调 */\r\n  @Output() sortChange: EventEmitter<any> = new EventEmitter<any>();\r\n  /** Filter回调 */\r\n  @Output()\r\n  filterChange: EventEmitter<SimpleTableColumn> = new EventEmitter<\r\n    SimpleTableColumn\r\n  >();\r\n\r\n  // endregion\r\n\r\n  constructor(\r\n    private defConfig: AdSimpleTableConfig,\r\n    private http: HttpClient,\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    private exportSrv: SimpleTableExport,\r\n    @Optional() private acl: ACLService,\r\n    @Optional()\r\n    @Inject(ALAIN_I18N_TOKEN)\r\n    private i18nSrv: AlainI18NService,\r\n    private modal: ModalHelper,\r\n    private currenty: CNCurrencyPipe,\r\n    private date: DatePipe,\r\n    private yn: YNPipe,\r\n    private number: DecimalPipe,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {\r\n    Object.assign(this, deepCopy(defConfig));\r\n  }\r\n\r\n  // region: data\r\n\r\n  private getAjaxData(url?: string): Observable<any> {\r\n    const params: any = Object.assign(\r\n      {\r\n        [this.reqReName.pi]: this.pi,\r\n        [this.reqReName.ps]: this.ps,\r\n      },\r\n      this.extraParams,\r\n      this.getReqSortMap(),\r\n      this.getReqFilterMap(),\r\n    );\r\n    return this.http\r\n      .request(this.reqMehtod || 'GET', url || this._url, {\r\n        params,\r\n        body: this.reqBody,\r\n        headers: this.reqHeaders,\r\n      })\r\n      .pipe(\r\n        map((res: any) => {\r\n          // list\r\n          const ret = deepGet(res, this.resReName.list as string[], []);\r\n          if (ret == null || !Array.isArray(ret)) return [];\r\n          // total\r\n          const retTotal =\r\n            this.resReName.total &&\r\n            deepGet(res, this.resReName.total as string[], null);\r\n          this.total = retTotal == null ? this.total || 0 : +retTotal;\r\n          return <any[]>ret;\r\n        }),\r\n      );\r\n  }\r\n\r\n  /**\r\n   * 根据页码重新加载数据\r\n   *\r\n   * @param pi 指定当前页码，默认：`1`\r\n   * @param extraParams 重新指定 `extraParams` 值\r\n   */\r\n  load(pi = 1, extraParams?: any) {\r\n    if (pi !== -1) this.pi = pi;\r\n    this.extraParams = extraParams || null;\r\n    this._change('pi');\r\n  }\r\n\r\n  /**\r\n   * 重新刷新当前页\r\n   * @param extraParams 重新指定 `extraParams` 值\r\n   */\r\n  reload(extraParams?: any) {\r\n    this.load(-1, extraParams);\r\n  }\r\n\r\n  /**\r\n   * 重置且重新设置 `pi` 为 `1`\r\n   *\r\n   * @param extraParams 重新指定 `extraParams` 值\r\n   */\r\n  reset(extraParams?: any) {\r\n    this.load(1, extraParams);\r\n  }\r\n\r\n  _change(type: 'pi' | 'ps') {\r\n    if (!this._inited) return ;\r\n    this._genAjax();\r\n    this._genData();\r\n    this._toTop();\r\n    this.change.emit({\r\n      type: type,\r\n      pi: this.pi,\r\n      ps: this.ps,\r\n      total: this.total,\r\n    });\r\n  }\r\n\r\n  _genAjax(forceRefresh: boolean = false) {\r\n    if (!this._isAjax) return;\r\n    this.loading = true;\r\n    if (forceRefresh === true) this.pi = 1;\r\n    this.getAjaxData().subscribe(\r\n      (res: any) => this._subscribeData(res),\r\n      err => {\r\n        this.loading = false;\r\n        this.reqError.emit(err);\r\n      },\r\n    );\r\n  }\r\n\r\n  _genData(forceRefresh: boolean = false) {\r\n    if (this._isAjax) return;\r\n    let data = <any[]>this.data || [];\r\n    // sort\r\n    data = data.slice(0);\r\n    const sorterFn = this.getSorterFn();\r\n    if (sorterFn) {\r\n      data = this.recursiveSort(data, sorterFn);\r\n    }\r\n\r\n    // filter\r\n    this._columns.filter(w => w.filters && w.filters.length).forEach(c => {\r\n      const values = c.filters.filter(w => w.checked);\r\n      if (values.length === 0) return;\r\n      const onFilter = c.filter;\r\n      data = data.filter(record => {\r\n        return values.some(v => onFilter(v, record));\r\n      });\r\n    });\r\n\r\n    if (forceRefresh) {\r\n      if (this.isPageIndexReset) {\r\n        this.pi = 1;\r\n      } else {\r\n        const maxPageIndex = Math.ceil(data.length / this.ps);\r\n        this.pi = !this.pi\r\n          ? 1\r\n          : this.pi > maxPageIndex\r\n            ? maxPageIndex\r\n            : this.pi;\r\n      }\r\n    }\r\n    this.total = data.length;\r\n    this._isPagination =\r\n      typeof this.showPagination === 'undefined'\r\n        ? this.ps > 0 && this.total > this.ps\r\n        : this.showPagination;\r\n    this._subscribeData(\r\n      this._isPagination\r\n        ? data.slice((this.pi - 1) * this.ps, this.pi * this.ps)\r\n        : data,\r\n    );\r\n  }\r\n\r\n  _toTop() {\r\n    if (!this.toTopInChange) return;\r\n    if (this.scroll) {\r\n      (this.el.nativeElement as HTMLElement)\r\n        .querySelector('.ant-table-body')\r\n        .scrollTo(0, 0);\r\n      return;\r\n    }\r\n    if (this.el.nativeElement.scrollIntoView)\r\n      this.el.nativeElement.scrollIntoView();\r\n    // todo: toTopOffset\r\n    // fix header height\r\n    this.doc.documentElement.scrollTop -= this.toTopOffset;\r\n  }\r\n\r\n  _get(item: any, col: SimpleTableColumn) {\r\n    if (col.format) return col.format(item, col);\r\n\r\n    const value = deepGet(item, col.index as string[], col.default);\r\n    if (typeof value === 'undefined') return col.default;\r\n\r\n    let ret = value;\r\n    switch (col.type) {\r\n      case 'img':\r\n        ret = `<img src=\"${value}\" class=\"img\">`;\r\n        break;\r\n      case 'number':\r\n        ret = this.number.transform(value, col.numberDigits);\r\n        break;\r\n      case 'currency':\r\n        ret = this.currenty.transform(value);\r\n        break;\r\n      case 'date':\r\n        ret = this.date.transform(value, col.dateFormat);\r\n        break;\r\n      case 'yn':\r\n        ret = this.yn.transform(value === col.ynTruth, col.ynYes, col.ynNo);\r\n        break;\r\n    }\r\n    return ret || col.default;\r\n  }\r\n\r\n  _click(e: Event, item: any, col: SimpleTableColumn) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (col.click) col.click(item, this);\r\n    return false;\r\n  }\r\n\r\n  private getDataObs(urlOrData?: string | any[]): Observable<any[]> {\r\n    return urlOrData || Array.isArray(this.data)\r\n      ? of((urlOrData as any[]) || (this.data as any[]))\r\n      : (this.data as Observable<any[]>);\r\n  }\r\n\r\n  private processData() {\r\n    if (!this.data) {\r\n      this._isAjax = false;\r\n      this.data = [];\r\n      return;\r\n    }\r\n\r\n    this._isAjax = false;\r\n    if (typeof this.data === 'string') {\r\n      this._url = this.data as string;\r\n      this._isAjax = true;\r\n      this._genAjax(true);\r\n    } else if (Array.isArray(this.data)) {\r\n      this._genData(true);\r\n    } else {\r\n      if (!this.data$) {\r\n        this.data$ = <any>this.data\r\n          .pipe(tap(() => (this.loading = true)))\r\n          .subscribe(res => {\r\n            this.data = res;\r\n            this._genData(true);\r\n          });\r\n      }\r\n    }\r\n  }\r\n\r\n  private _subscribeData(res: any[]) {\r\n    if (this.preDataChange) res = this.preDataChange(res);\r\n    this.loading = false;\r\n    this._data = res;\r\n    this._refCheck();\r\n  }\r\n\r\n  // endregion\r\n\r\n  // region: sort\r\n\r\n  _sortMap: { [key: number]: any } = {};\r\n  _sortColumn: SimpleTableColumn = null;\r\n  _sortOrder: string;\r\n  _sortIndex: number;\r\n\r\n  private getReqSortMap(): { [key: string]: string } {\r\n    const ret: { [key: string]: string } = {};\r\n    if (!this._sortOrder) return ret;\r\n\r\n    if (this.multiSort) {\r\n      Object.keys(this._sortMap).forEach(key => {\r\n        const item = this._sortMap[key];\r\n        if (item.v) {\r\n          ret[item.key] =\r\n            (item.column.sortReName || this.sortReName || {})[item.v] || item.v;\r\n        }\r\n      });\r\n    } else {\r\n      const mapData = this._sortMap[this._sortIndex];\r\n      ret[mapData.key] =\r\n        (this._sortColumn.sortReName || this.sortReName || {})[mapData.v] ||\r\n        mapData.v;\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  private recursiveSort(\r\n    data: any[],\r\n    sorterFn: (a: any, b: any) => number,\r\n  ): any[] {\r\n    const childrenColumnName = 'children';\r\n    return data.sort(sorterFn).map(\r\n      (item: any) =>\r\n        item[childrenColumnName]\r\n          ? {\r\n              ...item,\r\n              [childrenColumnName]: this.recursiveSort(\r\n                item[childrenColumnName],\r\n                sorterFn,\r\n              ),\r\n            }\r\n          : item,\r\n    );\r\n  }\r\n\r\n  private getSorterFn() {\r\n    // _sortMap\r\n    if (\r\n      !this._sortOrder ||\r\n      !this._sortColumn ||\r\n      typeof this._sortColumn.sorter !== 'function'\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    return (a: any, b: any) => {\r\n      const result = (this._sortColumn!.sorter as CompareFn)(a, b);\r\n      if (result !== 0) {\r\n        return this._sortOrder === 'descend' ? -result : result;\r\n      }\r\n      return 0;\r\n    };\r\n  }\r\n\r\n  sort(index: number, value: any) {\r\n    if (this._sortIndex === index && this._sortOrder === value) return;\r\n    this._sortColumn = this._columns[index];\r\n    this._sortOrder = value;\r\n    this._sortIndex = index;\r\n    if (this.multiSort) {\r\n      this._sortMap[index].v = value;\r\n    } else {\r\n      Object.keys(this._sortMap).forEach(\r\n        key => (this._sortMap[key].v = +key === index ? value : null),\r\n      );\r\n    }\r\n    this._genAjax(true);\r\n    this._genData(true);\r\n    this.sortChange.emit({\r\n      value,\r\n      map: this.getReqSortMap(),\r\n      column: this._sortColumn,\r\n    });\r\n  }\r\n\r\n  // endregion\r\n\r\n  // region: filter\r\n\r\n  private getReqFilterMap(): { [key: string]: string } {\r\n    let ret: { [key: string]: string } = {};\r\n    this._columns.filter(w => w.filtered === true).forEach(col => {\r\n      const values = col.filters.filter(f => f.checked === true);\r\n      let obj: Object = {};\r\n      if (col.filterReName) obj = col.filterReName(col.filters, col);\r\n      else\r\n        obj[col.filterKey || col.indexKey] = values.map(i => i.value).join(',');\r\n\r\n      ret = Object.assign(ret, obj);\r\n    });\r\n    return ret;\r\n  }\r\n\r\n  private handleFilter(col: SimpleTableColumn) {\r\n    col.filtered = col.filters.findIndex(w => w.checked) !== -1;\r\n    this._genAjax(true);\r\n    this._genData(true);\r\n    this.filterChange.emit(col);\r\n  }\r\n\r\n  filterConfirm(col: SimpleTableColumn) {\r\n    this.handleFilter(col);\r\n  }\r\n\r\n  filterClear(col: SimpleTableColumn) {\r\n    col.filters.forEach(i => (i.checked = false));\r\n    this.handleFilter(col);\r\n  }\r\n\r\n  filterRadio(\r\n    col: SimpleTableColumn,\r\n    item: SimpleTableFilter,\r\n    checked: boolean,\r\n  ) {\r\n    col.filters.forEach(i => (i.checked = false));\r\n    item.checked = checked;\r\n  }\r\n\r\n  // endregion\r\n\r\n  // region: checkbox\r\n\r\n  /** 清除所有 `checkbox` */\r\n  clearCheck(): this {\r\n    return this._checkAll(false);\r\n  }\r\n\r\n  _checkAll(checked?: boolean): this {\r\n    checked = typeof checked === 'undefined' ? this._allChecked : checked;\r\n    this._data.filter(w => !w.disabled).forEach(i => (i.checked = checked));\r\n    return this._refCheck()._checkNotify();\r\n  }\r\n\r\n  _checkSelection(i: SimpleTableData, value: boolean) {\r\n    i.checked = value;\r\n    return this._refCheck()._checkNotify();\r\n  }\r\n\r\n  _refCheck(): this {\r\n    const validData = this._data.filter(w => !w.disabled);\r\n    const checkedList = validData.filter(w => w.checked === true);\r\n    this._allChecked =\r\n      checkedList.length > 0 && checkedList.length === validData.length;\r\n    const allUnChecked = validData.every(value => !value.checked);\r\n    this._indeterminate = !this._allChecked && !allUnChecked;\r\n    return this;\r\n  }\r\n\r\n  _rowSelection(row: SimpleTableSelection): this {\r\n    if (row.select) row.select(this._data);\r\n    return this._refCheck()._checkNotify();\r\n  }\r\n\r\n  _checkNotify(): this {\r\n    this.checkboxChange.emit(\r\n      this._data.filter(w => !w.disabled && w.checked === true),\r\n    );\r\n    return this;\r\n  }\r\n\r\n  // endregion\r\n\r\n  // region: radio\r\n\r\n  /** 清除所有 `radio` */\r\n  clearRadio(): this {\r\n    this._data.filter(w => w.checked).forEach(item => (item.checked = false));\r\n    this.radioChange.emit(null);\r\n    return this;\r\n  }\r\n\r\n  _refRadio(idx: number, checked: boolean, item: SimpleTableData): this {\r\n    if (item.disabled === true) return;\r\n    this._data.filter(w => !w.disabled).forEach(i => (i.checked = false));\r\n    item.checked = checked;\r\n    this.radioChange.emit(item);\r\n    return this;\r\n  }\r\n\r\n  // endregion\r\n\r\n  // region: buttons\r\n\r\n  btnCoerceIf(list: SimpleTableButton[]) {\r\n    for (const item of list) {\r\n      if (!item.if) item.if = () => true;\r\n      if (!item.children) item.children = [];\r\n      if (item.children.length > 0) this.btnCoerceIf(item.children);\r\n    }\r\n  }\r\n\r\n  btnClick(record: any, btn: SimpleTableButton) {\r\n    if (btn.type === 'modal' || btn.type === 'static') {\r\n      const obj = {};\r\n      obj[btn.paramName || this.defConfig.modalParamsName || 'record'] = record;\r\n      (this.modal[btn.type === 'modal' ? 'open' : 'static'] as any)(\r\n        btn.component,\r\n        Object.assign(obj, btn.params && btn.params(record)),\r\n        btn.size,\r\n        btn.modalOptions,\r\n      )\r\n        .pipe(filter(w => typeof w !== 'undefined'))\r\n        .subscribe(res => {\r\n          if (btn.click) this.btnCallback(record, btn, res);\r\n        });\r\n      return;\r\n    }\r\n    this.btnCallback(record, btn);\r\n  }\r\n\r\n  private btnCallback(record: any, btn: SimpleTableButton, modal?: any) {\r\n    if (!btn.click) return;\r\n    if (typeof btn.click === 'string') {\r\n      switch (btn.click) {\r\n        case 'load':\r\n          this.load();\r\n          break;\r\n        case 'reload':\r\n          this.reload();\r\n          break;\r\n      }\r\n    } else {\r\n      btn.click(record, modal, this);\r\n    }\r\n  }\r\n\r\n  btnText(record: any, btn: SimpleTableButton) {\r\n    if (btn.format) return btn.format(record, btn);\r\n    return btn.text;\r\n  }\r\n\r\n  // endregion\r\n\r\n  // region: fixed\r\n\r\n  fixedCoerce(list: SimpleTableColumn[]) {\r\n    list.forEach((item, idx) => {\r\n      if (item.fixed && item.width) {\r\n        if (item.fixed === 'left') {\r\n          item._left = idx === 0 ? '0px' : list[idx - 1].width;\r\n        } else if (item.fixed === 'right') {\r\n          item._right = idx === list.length - 1 ? '0px' : list[idx + 1].width;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // endregion\r\n\r\n  // region: export\r\n\r\n  /**\r\n   * 导出Excel，确保已经注册 `AdXlsxModule`\r\n   * @param urlOrData 重新指定数据，例如希望导出所有数据非常有用\r\n   * @param opt 额外参数\r\n   */\r\n  export(urlOrData?: string | any[], opt?: STExportOptions) {\r\n    ((!urlOrData && this._isAjax) ||\r\n    (urlOrData && typeof urlOrData === 'string')\r\n      ? this.getAjaxData(urlOrData as string)\r\n      : this.getDataObs(urlOrData)\r\n    ).subscribe((res: any[]) =>\r\n      this.exportSrv.export(\r\n        Object.assign({}, opt, <STExportOptions>{\r\n          _d: res,\r\n          _c: this._columns,\r\n        }),\r\n      ),\r\n    );\r\n  }\r\n\r\n  // endregion\r\n\r\n  ngOnInit(): void {\r\n    this._inited = true;\r\n    this.updateColumns();\r\n    this.processData();\r\n  }\r\n\r\n  private setClass() {\r\n    this._classMap.forEach(cls =>\r\n      this.renderer.removeClass(this.el.nativeElement, cls),\r\n    );\r\n\r\n    this._classMap = [];\r\n    if (this.pagePlacement)\r\n      this._classMap.push('ad-st__p' + this.pagePlacement);\r\n\r\n    this._classMap.forEach(cls =>\r\n      this.renderer.addClass(this.el.nativeElement, cls),\r\n    );\r\n  }\r\n\r\n  private updateColumns() {\r\n    this._columns = [];\r\n    if (!this.columns || this.columns.length === 0)\r\n      throw new Error(`the columns property muse be define!`);\r\n    let checkboxCount = 0;\r\n    let radioCount = 0;\r\n    const sortMap: Object = {};\r\n    let idx = 0;\r\n    const newColumns: SimpleTableColumn[] = [];\r\n    const copyColumens = deepCopy(this.columns);\r\n    for (const item of copyColumens) {\r\n      if (this.acl && item.acl && !this.acl.can(item.acl)) continue;\r\n      if (item.index) {\r\n        if (!Array.isArray(item.index)) item.index = item.index.split('.');\r\n\r\n        item.indexKey = item.index.join('.');\r\n      }\r\n      // rowSelection\r\n      if (!item.selections) item.selections = [];\r\n      if (item.type === 'checkbox') {\r\n        ++checkboxCount;\r\n        if (!item.width)\r\n          item.width = `${item.selections.length > 0 ? 60 : 50}px`;\r\n      }\r\n      if (item.type === 'radio') {\r\n        ++radioCount;\r\n        item.selections = [];\r\n        if (!item.width) item.width = '50px';\r\n      }\r\n      if (!item.className) {\r\n        item.className = {\r\n          // 'checkbox': 'text-center',\r\n          // 'radio': 'text-center',\r\n          number: 'text-right',\r\n          currency: 'text-right',\r\n          date: 'text-center',\r\n        }[item.type];\r\n      }\r\n      if (item.type === 'yn' && typeof item.ynTruth === 'undefined')\r\n        item.ynTruth = true;\r\n\r\n      // sorter\r\n      if (item.sorter) {\r\n        sortMap[idx] = {\r\n          enabled: true,\r\n          v: item.sort,\r\n          key: item.sortKey || item.indexKey,\r\n          column: item,\r\n        };\r\n        if (item.sort && !this._sortColumn) {\r\n          this._sortColumn = item;\r\n          this._sortOrder = item.sort;\r\n          this._sortIndex = idx;\r\n        }\r\n      } else {\r\n        sortMap[idx] = {\r\n          enabled: false,\r\n        };\r\n      }\r\n      // filter\r\n      if (!item.filter || !item.filters) item.filters = [];\r\n      if (typeof item.filterMultiple === 'undefined')\r\n        item.filterMultiple = true;\r\n      if (!item.filterConfirmText) item.filterConfirmText = `确认`;\r\n      if (!item.filterClearText) item.filterClearText = `重置`;\r\n      if (!item.filterIcon) item.filterIcon = `anticon anticon-filter`;\r\n      item.filtered = item.filters.findIndex(w => w.checked) !== -1;\r\n\r\n      if (this.acl) {\r\n        item.selections = item.selections.filter(\r\n          w => !w.acl || this.acl.can(w.acl),\r\n        );\r\n        item.filters = item.filters.filter(w => !w.acl || this.acl.can(w.acl));\r\n      }\r\n\r\n      // buttons\r\n      const buttons: SimpleTableButton[] = [];\r\n      if (item.buttons) {\r\n        for (const btn of item.buttons) {\r\n          if (this.acl && btn.acl && !this.acl.can(btn.acl)) continue;\r\n\r\n          if (btn.type === 'del' && typeof btn.pop === 'undefined')\r\n            btn.pop = true;\r\n\r\n          if (btn.pop === true) {\r\n            btn._type = 2;\r\n            if (typeof btn.popTitle === 'undefined')\r\n              btn.popTitle = `确认删除吗？`;\r\n          }\r\n          if (btn.children && btn.children.length > 0) {\r\n            btn._type = 3;\r\n          }\r\n          if (!btn._type) btn._type = 1;\r\n\r\n          // i18n\r\n          if (btn.i18n && this.i18nSrv) btn.text = this.i18nSrv.fanyi(btn.i18n);\r\n\r\n          buttons.push(btn);\r\n        }\r\n        if (buttons.length === 0) continue;\r\n        this.btnCoerceIf(buttons);\r\n      }\r\n      item.buttons = buttons;\r\n      // i18n\r\n      if (item.i18n && this.i18nSrv) item.title = this.i18nSrv.fanyi(item.i18n);\r\n      ++idx;\r\n      newColumns.push(item);\r\n    }\r\n    this.fixedCoerce(newColumns);\r\n    this._columns = newColumns;\r\n    if (checkboxCount > 1) throw new Error(`just only one column checkbox`);\r\n    if (radioCount > 1) throw new Error(`just only one column radio`);\r\n    this._sortMap = sortMap;\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    if (changes.columns && this._inited) this.updateColumns();\r\n    if (changes.data && this._inited) this.processData();\r\n\r\n    this.setClass();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.data$) {\r\n      this.data$.unsubscribe();\r\n      this.data$ = null;\r\n    }\r\n  }\r\n}\r\n","import { Directive, Input, TemplateRef, OnInit } from '@angular/core';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\nimport { SimpleTableComponent } from './simple-table.component';\r\n\r\n@Directive({\r\n  selector: '[st-row]',\r\n})\r\nexport class SimpleTableRowDirective implements OnInit {\r\n  @Input('st-row') id: string;\r\n\r\n  @Input() type: 'title';\r\n\r\n  constructor(\r\n    public templateRef: TemplateRef<any>,\r\n    private table: SimpleTableComponent,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    const col = this.table._columns.find(w => w.render === this.id);\r\n    if (!col) return;\r\n    switch (this.type) {\r\n      case 'title':\r\n        col.__renderTitle = this.templateRef;\r\n        break;\r\n      default:\r\n        col.__render = this.templateRef;\r\n        break;\r\n    }\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders, NO_ERRORS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { DelonUtilModule } from '@delon/util';\n\nimport { SimpleTableComponent } from './simple-table.component';\nimport { SimpleTableRowDirective } from './simple-table-row.directive';\nimport { AdSimpleTableConfig } from './simple-table.config';\n\nconst COMPONENTS = [SimpleTableComponent, SimpleTableRowDirective];\n\n// region: zorro modules\n\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\n\nconst ZORROMODULES = [NgZorroAntdModule];\n\n// endregion\n\n@NgModule({\n  schemas: [NO_ERRORS_SCHEMA],\n  imports: [CommonModule, FormsModule, DelonUtilModule, ...ZORROMODULES],\n  declarations: [...COMPONENTS],\n  exports: [...COMPONENTS],\n})\nexport class AdSimpleTableModule {\n  static forRoot(): ModuleWithProviders {\n    return { ngModule: AdSimpleTableModule, providers: [AdSimpleTableConfig] };\n  }\n}\n","import {\r\n  Injectable,\r\n  OnDestroy,\r\n  Optional,\r\n  Injector,\r\n  Inject,\r\n} from '@angular/core';\r\nimport {\r\n  ActivatedRouteSnapshot,\r\n  DetachedRouteHandle,\r\n  ActivatedRoute,\r\n} from '@angular/router';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { filter } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { MenuService, ALAIN_I18N_TOKEN, AlainI18NService } from '@delon/theme';\r\n\r\nimport {\r\n  ReuseTabCached,\r\n  ReuseTabMatchMode,\r\n  ReuseTabNotify,\r\n  ReuseTitle,\r\n} from './interface';\r\n\r\n/**\r\n * 路由复用类，提供复用所需要一些基本接口\r\n *\r\n * **注：** 所有缓存数据来源于路由离开后才会产生\r\n */\r\n@Injectable()\r\nexport class ReuseTabService implements OnDestroy {\r\n  private _max = 10;\r\n  private _debug = false;\r\n  private _mode = ReuseTabMatchMode.Menu;\r\n  private _excludes: RegExp[] = [];\r\n  private _cachedChange: BehaviorSubject<ReuseTabNotify> = new BehaviorSubject<\r\n    ReuseTabNotify\r\n  >(null);\r\n  private _cached: ReuseTabCached[] = [];\r\n  private _titleCached: { [url: string]: ReuseTitle } = {};\r\n  private _closableCached: { [url: string]: boolean } = {};\r\n  private removeUrlBuffer: string;\r\n\r\n  // region: public\r\n\r\n  /** 允许最多复用多少个页面，取值范围 `2-100` */\r\n  set max(value: number) {\r\n    this._max = Math.min(Math.max(value, 2), 100);\r\n    for (let i = this._cached.length; i > this._max; i--) {\r\n      this._cached.pop();\r\n    }\r\n  }\r\n  /** 设置匹配模式 */\r\n  set mode(value: ReuseTabMatchMode) {\r\n    this._mode = value;\r\n  }\r\n  get mode() {\r\n    return this._mode;\r\n  }\r\n  /** 设置Debug模式 */\r\n  set debug(value: boolean) {\r\n    this._debug = value;\r\n  }\r\n  get debug() {\r\n    return this._debug;\r\n  }\r\n  /** 排除规则，限 `mode=URL` */\r\n  set excludes(values: RegExp[]) {\r\n    if (!values) return;\r\n    this._excludes = values;\r\n  }\r\n  get excludes() {\r\n    return this._excludes;\r\n  }\r\n  /** 获取已缓存的路由 */\r\n  get items(): ReuseTabCached[] {\r\n    return this._cached;\r\n  }\r\n  /** 获取当前缓存的路由总数 */\r\n  get count() {\r\n    return this._cached.length;\r\n  }\r\n  /** 订阅缓存变更通知 */\r\n  get change(): Observable<ReuseTabNotify> {\r\n    return this._cachedChange.asObservable(); // .pipe(filter(w => w !== null));\r\n  }\r\n  /** 自定义当前标题 */\r\n  set title(value: string | ReuseTitle) {\r\n    const curUrl = this.getUrl(this.injector.get(ActivatedRoute).snapshot);\r\n    if (typeof value === 'string') value = { text: value };\r\n    this._titleCached[curUrl] = value;\r\n    this.di('update current tag title: ', value);\r\n    this._cachedChange.next({\r\n      active: 'title',\r\n      title: value,\r\n      list: this._cached,\r\n    });\r\n  }\r\n  /** 获取指定路径缓存所在位置，`-1` 表示无缓存 */\r\n  index(url: string): number {\r\n    return this._cached.findIndex(w => w.url === url);\r\n  }\r\n  /** 获取指定路径缓存是否存在 */\r\n  exists(url: string): boolean {\r\n    return this.index(url) !== -1;\r\n  }\r\n  /** 获取指定路径缓存 */\r\n  get(url: string): ReuseTabCached {\r\n    return url ? this._cached.find(w => w.url === url) || null : null;\r\n  }\r\n  private remove(url: string | number, includeNonCloseable: boolean): boolean {\r\n    const idx = typeof url === 'string' ? this.index(url) : url;\r\n    const item = idx !== -1 ? this._cached[idx] : null;\r\n    if (!item || (!includeNonCloseable && !item.closable)) return false;\r\n\r\n    this.destroy(item._handle);\r\n\r\n    this._cached.splice(idx, 1);\r\n    delete this._titleCached[url];\r\n    return true;\r\n  }\r\n  /**\r\n   * 根据URL移除标签\r\n   *\r\n   * @param [includeNonCloseable=false] 是否强制包含不可关闭\r\n   */\r\n  close(url: string, includeNonCloseable = false) {\r\n    this.removeUrlBuffer = url;\r\n\r\n    this.remove(url, includeNonCloseable);\r\n\r\n    this._cachedChange.next({ active: 'close', url, list: this._cached });\r\n\r\n    this.di('close tag', url);\r\n    return true;\r\n  }\r\n  /**\r\n   * 清除右边\r\n   *\r\n   * @param [includeNonCloseable=false] 是否强制包含不可关闭\r\n   */\r\n  closeRight(url: string, includeNonCloseable = false) {\r\n    const start = this.index(url);\r\n    for (let i = this.count - 1; i > start; i--) {\r\n      this.remove(i, includeNonCloseable);\r\n    }\r\n\r\n    this.removeUrlBuffer = null;\r\n\r\n    this._cachedChange.next({ active: 'closeRight', url, list: this._cached });\r\n\r\n    this.di('close right tages', url);\r\n    return true;\r\n  }\r\n  /**\r\n   * 清除所有缓存\r\n   *\r\n   * @param [includeNonCloseable=false] 是否强制包含不可关闭\r\n   */\r\n  clear(includeNonCloseable = false) {\r\n    this._cached.forEach(w => {\r\n      if (!includeNonCloseable && w.closable) this.destroy(w._handle);\r\n    });\r\n    this._cached = this._cached.filter(\r\n      w => !includeNonCloseable && !w.closable,\r\n    );\r\n\r\n    this.removeUrlBuffer = null;\r\n\r\n    this._cachedChange.next({ active: 'clear', list: this._cached });\r\n\r\n    this.di('clear all catch');\r\n  }\r\n  /**\r\n   * 移动缓存数据\r\n   * @param url 要移动的URL地址\r\n   * @param position 新位置，下标从 `0` 开始\r\n   *\r\n   * @example\r\n   * ```\r\n   * // source\r\n   * [ '/a/1', '/a/2', '/a/3', '/a/4', '/a/5' ]\r\n   * move('/a/1', 2);\r\n   * // output\r\n   * [ '/a/2', '/a/3', '/a/1', '/a/4', '/a/5' ]\r\n   * move('/a/1', -1);\r\n   * // output\r\n   * [ '/a/2', '/a/3', '/a/4', '/a/5', '/a/1' ]\r\n   * ```\r\n   */\r\n  move(url: string, position: number) {\r\n    const start = this._cached.findIndex(w => w.url === url);\r\n    if (start === -1) return;\r\n    const data = this._cached.slice();\r\n    data.splice(\r\n      position < 0 ? data.length + position : position,\r\n      0,\r\n      data.splice(start, 1)[0],\r\n    );\r\n    this._cached = data;\r\n    this._cachedChange.next({\r\n      active: 'move',\r\n      url,\r\n      position,\r\n      list: this._cached,\r\n    });\r\n  }\r\n  /**\r\n   * 获取标题，顺序如下：\r\n   *\r\n   * 1. 组件内使用 `ReuseTabService.title = 'new title'` 重新指定文本\r\n   * 2. 路由配置中 data 属性中包含 titleI18n > title\r\n   * 3. 菜单数据中 text 属性\r\n   *\r\n   * @param url 指定URL\r\n   * @param route 指定路由快照\r\n   */\r\n  getTitle(url: string, route?: ActivatedRouteSnapshot): ReuseTitle {\r\n    if (this._titleCached[url]) return this._titleCached[url];\r\n\r\n    if (route && route.data && (route.data.titleI18n || route.data.title))\r\n      return <ReuseTitle>{ text: route.data.title, i18n: route.data.titleI18n };\r\n\r\n    const menu = this.mode !== ReuseTabMatchMode.URL ? this.getMenu(url) : null;\r\n    return menu ? { text: menu.text, i18n: menu.i18n } : { text: url };\r\n  }\r\n\r\n  /**\r\n   * 清除标题缓存\r\n   */\r\n  clearTitleCached() {\r\n    this._titleCached = {};\r\n  }\r\n  /** 自定义当前 `closable` 状态 */\r\n  set closable(value: boolean) {\r\n    const curUrl = this.getUrl(this.injector.get(ActivatedRoute).snapshot);\r\n    this._closableCached[curUrl] = value;\r\n    this.di('update current tag closable: ', value);\r\n    this._cachedChange.next({\r\n      active: 'closable',\r\n      closable: value,\r\n      list: this._cached,\r\n    });\r\n  }\r\n  /**\r\n   * 获取 `closable` 状态，顺序如下：\r\n   *\r\n   * 1. 组件内使用 `ReuseTabService.closable = true` 重新指定 `closable` 状态\r\n   * 2. 路由配置中 data 属性中包含 `reuseClosable`\r\n   * 3. 菜单数据中 `reuseClosable` 属性\r\n   *\r\n   * @param url 指定URL\r\n   * @param route 指定路由快照\r\n   */\r\n  getClosable(url: string, route?: ActivatedRouteSnapshot): boolean {\r\n    if (typeof this._closableCached[url] !== 'undefined')\r\n      return this._closableCached[url];\r\n\r\n    if (route && route.data && typeof route.data.reuseClosable === 'boolean')\r\n      return route.data.reuseClosable;\r\n\r\n    const menu = this.mode !== ReuseTabMatchMode.URL ? this.getMenu(url) : null;\r\n    if (menu && typeof menu.reuseClosable === 'boolean')\r\n      return menu.reuseClosable;\r\n\r\n    return true;\r\n  }\r\n  /**\r\n   * 清空 `closable` 缓存\r\n   */\r\n  clearClosableCached() {\r\n    this._closableCached = {};\r\n  }\r\n  getTruthRoute(route: ActivatedRouteSnapshot) {\r\n    let next = route;\r\n    while (next.firstChild) next = next.firstChild;\r\n    return next;\r\n  }\r\n  /**\r\n   * 根据快照获取URL地址\r\n   */\r\n  getUrl(route: ActivatedRouteSnapshot): string {\r\n    let next = this.getTruthRoute(route);\r\n    const segments = [];\r\n    while (next) {\r\n      segments.push(next.url.join('/'));\r\n      next = next.parent;\r\n    }\r\n    const url =\r\n      '/' +\r\n      segments\r\n        .filter(i => i)\r\n        .reverse()\r\n        .join('/');\r\n    return url;\r\n  }\r\n  /**\r\n   * 检查快照是否允许被复用\r\n   */\r\n  can(route: ActivatedRouteSnapshot): boolean {\r\n    const url = this.getUrl(route);\r\n    if (url === this.removeUrlBuffer) return false;\r\n\r\n    if (route.data && typeof route.data.reuse === 'boolean')\r\n      return route.data.reuse;\r\n\r\n    if (this.mode !== ReuseTabMatchMode.URL) {\r\n      const menu = this.getMenu(url);\r\n      if (!menu) return false;\r\n      if (this.mode === ReuseTabMatchMode.Menu) {\r\n        if (menu.reuse === false) return false;\r\n      } else {\r\n        if (!menu.reuse || menu.reuse !== true) return false;\r\n      }\r\n      return true;\r\n    }\r\n    return this._excludes.findIndex(r => r.test(url)) === -1;\r\n  }\r\n  /**\r\n   * 刷新，触发一个 refresh 类型事件\r\n   */\r\n  refresh(data?: any) {\r\n    this._cachedChange.next({ active: 'refresh', data });\r\n  }\r\n  // endregion\r\n\r\n  // region: privates\r\n\r\n  private destroy(_handle: any) {\r\n    if (_handle && _handle.componentRef && _handle.componentRef.destroy)\r\n      _handle.componentRef.destroy();\r\n  }\r\n\r\n  private di(...args) {\r\n    if (!this.debug) return;\r\n    // tslint:disable-next-line:no-console\r\n    console.warn(...args);\r\n  }\r\n\r\n  // endregion\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    @Optional() private menuService: MenuService,\r\n  ) {}\r\n\r\n  private getMenu(url: string) {\r\n    const menus = this.menuService ? this.menuService.getPathByUrl(url) : [];\r\n    if (!menus || menus.length === 0) return null;\r\n    return menus.pop();\r\n  }\r\n\r\n  private runHook(method: string, url: string, comp: any) {\r\n    if (comp.instance && comp.instance.hasOwnProperty(method))\r\n      comp.instance[method]();\r\n  }\r\n\r\n  private hasInValidRoute(route: ActivatedRouteSnapshot) {\r\n    return (\r\n      !route.routeConfig ||\r\n      route.routeConfig.loadChildren ||\r\n      route.routeConfig.children\r\n    );\r\n  }\r\n\r\n  /**\r\n   * 决定是否允许路由复用，若 `true` 会触发 `store`\r\n   */\r\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\r\n    if (this.hasInValidRoute(route)) return false;\r\n    this.di('#shouldDetach', this.can(route), this.getUrl(route));\r\n    return this.can(route);\r\n  }\r\n\r\n  /**\r\n   * 存储\r\n   */\r\n  store(_snapshot: ActivatedRouteSnapshot, _handle: any) {\r\n    if (this.count >= this._max) this._cached.shift();\r\n    const url = this.getUrl(_snapshot);\r\n    const idx = this.index(url);\r\n\r\n    const item: ReuseTabCached = {\r\n      title: this.getTitle(url, _snapshot),\r\n      closable: this.getClosable(url, _snapshot),\r\n      url,\r\n      _snapshot,\r\n      _handle,\r\n    };\r\n    if (idx === -1) {\r\n      this._cached.push(item);\r\n    } else {\r\n      this._cached[idx] = item;\r\n    }\r\n    this.removeUrlBuffer = null;\r\n\r\n    this.di('#store', idx === -1 ? '[new]' : '[override]', url);\r\n\r\n    if (_handle && _handle.componentRef) {\r\n      this.runHook('_onReuseDestroy', url, _handle.componentRef);\r\n    }\r\n\r\n    this._cachedChange.next({ active: 'add', item, list: this._cached });\r\n  }\r\n\r\n  /**\r\n   * 决定是否允许应用缓存数据\r\n   */\r\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\r\n    if (this.hasInValidRoute(route)) return false;\r\n    const url = this.getUrl(route);\r\n    const data = this.get(url);\r\n    const ret = !!(data && data._handle);\r\n    this.di('#shouldAttach', ret, url);\r\n    return ret;\r\n  }\r\n\r\n  /**\r\n   * 提取复用数据\r\n   */\r\n  retrieve(route: ActivatedRouteSnapshot): {} {\r\n    if (this.hasInValidRoute(route)) return null;\r\n    const url = this.getUrl(route);\r\n    const data = this.get(url);\r\n    const ret = (data && data._handle) || null;\r\n    this.di('#retrieve', url, ret);\r\n    if (ret && ret.componentRef) {\r\n      this.runHook('_onReuseInit', url, ret.componentRef);\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  /**\r\n   * 决定是否应该进行复用路由处理\r\n   */\r\n  shouldReuseRoute(\r\n    future: ActivatedRouteSnapshot,\r\n    curr: ActivatedRouteSnapshot,\r\n  ): boolean {\r\n    let ret = future.routeConfig === curr.routeConfig;\r\n    if (!ret) return false;\r\n\r\n    const path = ((future.routeConfig && future.routeConfig.path) ||\r\n      '') as string;\r\n    if (path.length > 0 && ~path.indexOf(':')) {\r\n      const futureUrl = this.getUrl(future);\r\n      const currUrl = this.getUrl(curr);\r\n      ret = futureUrl === currUrl;\r\n    }\r\n    this.di('=====================');\r\n    this.di(\r\n      '#shouldReuseRoute',\r\n      ret,\r\n      `${this.getUrl(curr)}=>${this.getUrl(future)}`,\r\n      future,\r\n      curr,\r\n    );\r\n    return ret;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this._cached = [];\r\n    this._cachedChange.unsubscribe();\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  EventEmitter,\r\n  Output,\r\n  HostListener,\r\n  OnInit,\r\n} from '@angular/core';\r\nimport {\r\n  ReuseContextI18n,\r\n  ReuseContextCloseEvent,\r\n  ReuseItem,\r\n  CloseType,\r\n} from './interface';\r\n\r\n@Component({\r\n  selector: 'reuse-tab-context-menu',\r\n  template: `\r\n  <ul nz-menu>\r\n      <li nz-menu-item (click)=\"click($event, 'close')\" data-type=\"close\" [nzDisabled]=\"!item.closable\" [innerHTML]=\"i18n.close\"></li>\r\n      <li nz-menu-item (click)=\"click($event, 'closeOther')\" data-type=\"closeOther\" [innerHTML]=\"i18n.closeOther\"></li>\r\n      <li nz-menu-item (click)=\"click($event, 'closeRight')\" data-type=\"closeRight\" [nzDisabled]=\"item.last\" [innerHTML]=\"i18n.closeRight\"></li>\r\n      <li nz-menu-item (click)=\"click($event, 'clear')\" data-type=\"clear\" [innerHTML]=\"i18n.clear\"></li>\r\n  </ul>`,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class ReuseTabContextMenuComponent implements OnInit {\r\n  private _i18n: ReuseContextI18n;\r\n  @Input()\r\n  set i18n(value: ReuseContextI18n) {\r\n    this._i18n = Object.assign(\r\n      {\r\n        close: '关闭标签',\r\n        closeOther: '关闭其它标签',\r\n        closeRight: '关闭右侧标签',\r\n        clear: '清空',\r\n      },\r\n      value,\r\n    );\r\n  }\r\n  get i18n() {\r\n    return this._i18n;\r\n  }\r\n\r\n  @Input() item: ReuseItem;\r\n\r\n  @Input() event: MouseEvent;\r\n\r\n  @Output() close = new EventEmitter<ReuseContextCloseEvent>();\r\n\r\n  get includeNonCloseable() {\r\n    return this.event.ctrlKey;\r\n  }\r\n\r\n  private notify(type: CloseType, item: ReuseItem) {\r\n    this.close.next({\r\n      type,\r\n      item: this.item,\r\n      includeNonCloseable: this.includeNonCloseable,\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.includeNonCloseable) this.item.closable = true;\r\n  }\r\n\r\n  click(e: MouseEvent, type: CloseType) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    if (type === 'close' && !this.item.closable) return;\r\n    if (type === 'closeRight' && this.item.last) return;\r\n    this.notify(type, this.item);\r\n  }\r\n\r\n  @HostListener('document:click', ['$event'])\r\n  @HostListener('document:contextmenu', ['$event'])\r\n  closeMenu(event: MouseEvent): void {\r\n    if (event.type === 'click' && event.button === 2) return;\r\n    this.notify(null, null);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {\r\n  Overlay,\r\n  OverlayRef,\r\n  ScrollStrategyOptions,\r\n} from '@angular/cdk/overlay';\r\nimport { ComponentPortal } from '@angular/cdk/portal';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\nimport {\r\n  ReuseContextEvent,\r\n  ReuseContextI18n,\r\n  ReuseContextCloseEvent,\r\n} from './interface';\r\nimport { ReuseTabContextMenuComponent } from './reuse-tab-context-menu.component';\r\n\r\n@Injectable()\r\nexport class ReuseTabContextService {\r\n  private ref: OverlayRef;\r\n  i18n: ReuseContextI18n;\r\n\r\n  show: Subject<ReuseContextEvent> = new Subject<ReuseContextEvent>();\r\n  close: Subject<ReuseContextCloseEvent> = new Subject<\r\n    ReuseContextCloseEvent\r\n  >();\r\n\r\n  constructor(private overlay: Overlay) {}\r\n\r\n  remove() {\r\n    if (!this.ref) return;\r\n    this.ref.detach();\r\n    this.ref.dispose();\r\n    this.ref = null;\r\n  }\r\n\r\n  open(context: ReuseContextEvent) {\r\n    this.remove();\r\n    const { event, item } = context;\r\n    const fakeElement = {\r\n      getBoundingClientRect: (): ClientRect => ({\r\n        bottom: event.clientY,\r\n        height: 0,\r\n        left: event.clientX,\r\n        right: event.clientX,\r\n        top: event.clientY,\r\n        width: 0,\r\n      }),\r\n    };\r\n    const positionStrategy = this.overlay\r\n      .position()\r\n      .connectedTo(\r\n        { nativeElement: fakeElement },\r\n        { originX: 'start', originY: 'bottom' },\r\n        { overlayX: 'start', overlayY: 'top' },\r\n      )\r\n      .withFallbackPosition(\r\n        { originX: 'start', originY: 'top' },\r\n        { overlayX: 'start', overlayY: 'bottom' },\r\n      )\r\n      .withFallbackPosition(\r\n        { originX: 'end', originY: 'top' },\r\n        { overlayX: 'start', overlayY: 'top' },\r\n      )\r\n      .withFallbackPosition(\r\n        { originX: 'start', originY: 'top' },\r\n        { overlayX: 'end', overlayY: 'top' },\r\n      )\r\n      .withFallbackPosition(\r\n        { originX: 'end', originY: 'center' },\r\n        { overlayX: 'start', overlayY: 'center' },\r\n      )\r\n      .withFallbackPosition(\r\n        { originX: 'start', originY: 'center' },\r\n        { overlayX: 'end', overlayY: 'center' },\r\n      );\r\n    this.ref = this.overlay.create({\r\n      positionStrategy,\r\n      panelClass: 'reuse-tab-cm',\r\n      scrollStrategy: this.overlay.scrollStrategies.close(),\r\n    });\r\n    const comp = this.ref.attach(\r\n      new ComponentPortal(ReuseTabContextMenuComponent),\r\n    );\r\n    const instance = comp.instance;\r\n    instance.i18n = this.i18n;\r\n    instance.item = { ...item };\r\n    instance.event = event;\r\n\r\n    const sub$ = new Subscription();\r\n    sub$.add(\r\n      instance.close.subscribe((res: ReuseContextCloseEvent) => {\r\n        this.close.next(res);\r\n        this.remove();\r\n      }),\r\n    );\r\n    comp.onDestroy(() => sub$.unsubscribe());\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  OnChanges,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  EventEmitter,\r\n  OnInit,\r\n  SimpleChanges,\r\n  SimpleChange,\r\n  OnDestroy,\r\n  ElementRef,\r\n  Renderer2,\r\n  Inject,\r\n  Optional,\r\n} from '@angular/core';\r\nimport { Router, NavigationEnd, ActivatedRoute } from '@angular/router';\r\nimport { DOCUMENT } from '@angular/platform-browser';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { combineLatest } from 'rxjs/observable/combineLatest';\r\nimport { filter } from 'rxjs/operators';\r\nimport {\r\n  coerceNumberProperty,\r\n  coerceBooleanProperty,\r\n} from '@angular/cdk/coercion';\r\n\r\nimport { ALAIN_I18N_TOKEN, AlainI18NService } from '@delon/theme';\r\n\r\nimport { ReuseTabService } from './reuse-tab.service';\r\nimport {\r\n  ReuseTabCached,\r\n  ReuseTabNotify,\r\n  ReuseTabMatchMode,\r\n  ReuseItem,\r\n  ReuseContextI18n,\r\n  ReuseContextCloseEvent,\r\n  ReuseTitle,\r\n} from './interface';\r\nimport { ReuseTabContextService } from './reuse-tab-context.service';\r\n\r\n@Component({\r\n  selector: 'reuse-tab',\r\n  template: `<nz-tabset [nzSelectedIndex]=\"pos\" [nzAnimated]=\"false\" nzType=\"line\"> <nz-tab *ngFor=\"let i of list; let index = index\" [nzTitle]=\"titleTemplate\"> <ng-template #titleTemplate> <span [context-menu]=\"i\" (click)=\"to($event, index)\" class=\"name\">{{i.title}}</span> <i *ngIf=\"i.closable\" class=\"anticon anticon-close op\" (click)=\"_close($event, index, false)\"></i> </ng-template> </nz-tab> </nz-tabset> <reuse-tab-context [i18n]=\"i18n\" (change)=\"cmChange($event)\"></reuse-tab-context> `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n  providers: [ReuseTabContextService],\r\n})\r\nexport class ReuseTabComponent implements OnInit, OnChanges, OnDestroy {\r\n  private sub$: Subscription;\r\n  private i18n$: Subscription;\r\n  list: ReuseItem[] = [];\r\n  item: ReuseItem;\r\n  pos = 0;\r\n\r\n  // region: properties\r\n  /** 设置匹配模式 */\r\n  @Input() mode: ReuseTabMatchMode = ReuseTabMatchMode.Menu;\r\n  /** 选项文本国际化 */\r\n  @Input() i18n: ReuseContextI18n;\r\n  /** 是否Debug模式 */\r\n  @Input()\r\n  get debug() {\r\n    return this._debug;\r\n  }\r\n  set debug(value: any) {\r\n    this._debug = coerceBooleanProperty(value);\r\n  }\r\n  private _debug = false;\r\n  /** 允许最多复用多少个页面 */\r\n  @Input()\r\n  get max() {\r\n    return this._max;\r\n  }\r\n  set max(value: any) {\r\n    this._max = coerceNumberProperty(value);\r\n  }\r\n  private _max: number;\r\n  /** 排除规则，限 `mode=URL` */\r\n  @Input() excludes: RegExp[];\r\n  /** 允许关闭 */\r\n  @Input()\r\n  get allowClose() {\r\n    return this._allowClose;\r\n  }\r\n  set allowClose(value: any) {\r\n    this._allowClose = coerceBooleanProperty(value);\r\n  }\r\n  private _allowClose = true;\r\n  /** 是否固定 */\r\n  @Input()\r\n  get fixed() {\r\n    return this._fixed;\r\n  }\r\n  set fixed(value: any) {\r\n    this._fixed = coerceBooleanProperty(value);\r\n  }\r\n  private _fixed = true;\r\n  /** 总是显示当前页 */\r\n  @Input()\r\n  get showCurrent() {\r\n    return this._showCurrent;\r\n  }\r\n  set showCurrent(value: any) {\r\n    this._showCurrent = coerceBooleanProperty(value);\r\n  }\r\n  private _showCurrent = true;\r\n  /** 切换时回调 */\r\n  @Output() change: EventEmitter<ReuseItem> = new EventEmitter<ReuseItem>();\r\n  /** 关闭回调 */\r\n  @Output() close: EventEmitter<ReuseItem> = new EventEmitter<ReuseItem>();\r\n  // endregion\r\n\r\n  constructor(\r\n    public srv: ReuseTabService,\r\n    private cd: ChangeDetectorRef,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private el: ElementRef,\r\n    private render: Renderer2,\r\n    @Inject(DOCUMENT) private doc: any,\r\n    @Optional()\r\n    @Inject(ALAIN_I18N_TOKEN)\r\n    private i18nSrv: AlainI18NService,\r\n  ) {\r\n    const route$ = this.router.events.pipe(\r\n      filter(evt => evt instanceof NavigationEnd),\r\n    );\r\n    this.sub$ = <any>combineLatest(this.srv.change, route$).subscribe(\r\n      ([res, e]) => this.genList(res),\r\n    );\r\n    if (this.i18nSrv)\r\n      this.i18n$ = this.i18nSrv.change.subscribe(() => this.genList());\r\n  }\r\n\r\n  private genTit(title: ReuseTitle): string {\r\n    return title.i18n && this.i18nSrv\r\n      ? this.i18nSrv.fanyi(title.i18n)\r\n      : title.text;\r\n  }\r\n\r\n  private genList(notify?: ReuseTabNotify) {\r\n    const isClosed = notify && notify.active === 'close';\r\n    const beforeClosePos = isClosed\r\n      ? this.list.findIndex(w => w.url === notify.url)\r\n      : -1;\r\n    const ls = this.srv.items.map((item: ReuseTabCached, index: number) => {\r\n      return <ReuseItem>{\r\n        url: item.url,\r\n        title: this.genTit(item.title),\r\n        closable: this.allowClose && item.closable && this.srv.count > 0,\r\n        index,\r\n        active: false,\r\n        last: false,\r\n      };\r\n    });\r\n    if (this.showCurrent) {\r\n      const snapshot = this.route.snapshot;\r\n      const url = this.srv.getUrl(snapshot);\r\n      const idx = ls.findIndex(w => w.url === url);\r\n      // jump directly when the current exists in the list\r\n      // or create a new current item and jump\r\n      if (idx !== -1 || (isClosed && notify.url === url)) {\r\n        this.pos = isClosed\r\n          ? idx >= beforeClosePos\r\n            ? this.pos - 1\r\n            : this.pos\r\n          : idx;\r\n      } else {\r\n        const snapshotTrue = this.srv.getTruthRoute(snapshot);\r\n        ls.push(<ReuseItem>{\r\n          url,\r\n          title: this.genTit(this.srv.getTitle(url, snapshotTrue)),\r\n          closable:\r\n            this.allowClose &&\r\n            this.srv.count > 0 &&\r\n            this.srv.getClosable(url, snapshotTrue),\r\n          index: ls.length,\r\n          active: false,\r\n          last: false,\r\n        });\r\n        this.pos = ls.length - 1;\r\n      }\r\n      // fix unabled close last item\r\n      if (ls.length <= 1) ls[0].closable = false;\r\n    }\r\n\r\n    this.list = ls;\r\n\r\n    if (ls.length && isClosed) {\r\n      this.to(null, this.pos);\r\n    }\r\n\r\n    this.refStatus(false);\r\n    this.visibility();\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  private visibility() {\r\n    if (this.showCurrent) return;\r\n    this.render.setStyle(\r\n      this.el.nativeElement,\r\n      'display',\r\n      this.list.length === 0 ? 'none' : 'block',\r\n    );\r\n  }\r\n\r\n  // region: UI\r\n\r\n  cmChange(res: ReuseContextCloseEvent) {\r\n    switch (res.type) {\r\n      case 'close':\r\n        this._close(null, res.item.index, res.includeNonCloseable);\r\n        break;\r\n      case 'closeRight':\r\n        this.srv.closeRight(res.item.url, res.includeNonCloseable);\r\n        this.close.emit(null);\r\n        break;\r\n      case 'clear':\r\n      case 'closeOther':\r\n        this.srv.clear(res.includeNonCloseable);\r\n        this.close.emit(null);\r\n        break;\r\n    }\r\n  }\r\n\r\n  refStatus(dc = true) {\r\n    if (this.list.length) {\r\n      this.list[this.list.length - 1].last = true;\r\n      this.list.forEach((i, idx) => (i.active = this.pos === idx));\r\n    }\r\n    if (dc) this.cd.detectChanges();\r\n  }\r\n\r\n  to(e: Event, index: number) {\r\n    if (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n    index = Math.max(0, Math.min(index, this.list.length - 1));\r\n    const item = this.list[index];\r\n    this.router.navigateByUrl(item.url).then(res => {\r\n      if (!res) return;\r\n      this.pos = index;\r\n      this.item = item;\r\n      this.refStatus();\r\n      this.change.emit(item);\r\n    });\r\n  }\r\n\r\n  _close(e: Event, idx: number, includeNonCloseable: boolean) {\r\n    if (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n    const item = this.list[idx];\r\n    this.srv.close(item.url, includeNonCloseable);\r\n    this.close.emit(item);\r\n    this.cd.detectChanges();\r\n    return false;\r\n  }\r\n\r\n  // endregion\r\n\r\n  ngOnInit(): void {\r\n    this.setClass();\r\n\r\n    this.genList();\r\n  }\r\n\r\n  private setClass() {\r\n    const el = this.el.nativeElement;\r\n    const body = this.doc.querySelector('body');\r\n    const fixedCls = `fixed`;\r\n    const bodyCls = `has-reuse-tab`;\r\n    if (this.fixed) {\r\n      this.render.addClass(el, fixedCls);\r\n      this.render.addClass(body, bodyCls);\r\n    } else {\r\n      this.render.removeClass(el, fixedCls);\r\n      this.render.removeClass(body, bodyCls);\r\n    }\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    if (changes.max) this.srv.max = this.max;\r\n    if (changes.excludes) this.srv.excludes = this.excludes;\r\n    if (changes.mode) this.srv.mode = this.mode;\r\n    this.srv.debug = this.debug;\r\n\r\n    this.setClass();\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.sub$.unsubscribe();\r\n    if (this.i18n$) this.i18n$.unsubscribe();\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy,\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { ReuseContextI18n, ReuseContextCloseEvent } from './interface';\r\nimport { ReuseTabContextService } from './reuse-tab-context.service';\r\n\r\n@Component({\r\n  selector: 'reuse-tab-context',\r\n  template: ``,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class ReuseTabContextComponent implements OnDestroy {\r\n  private sub$: Subscription = new Subscription();\r\n\r\n  @Input()\r\n  set i18n(value: ReuseContextI18n) {\r\n    this.srv.i18n = value;\r\n  }\r\n\r\n  @Output() change = new EventEmitter<ReuseContextCloseEvent>();\r\n\r\n  constructor(private srv: ReuseTabContextService) {\r\n    this.sub$.add(srv.show.subscribe(context => this.srv.open(context)));\r\n    this.sub$.add(srv.close.subscribe(res => this.change.emit(res)));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.sub$.unsubscribe();\r\n  }\r\n}\r\n","import { Directive, HostListener, Input } from '@angular/core';\r\n\r\nimport { ReuseTabContextService } from './reuse-tab-context.service';\r\nimport { ReuseItem } from './interface';\r\n\r\n@Directive({\r\n  selector: '[context-menu]',\r\n})\r\nexport class ReuseTabContextDirective {\r\n  @Input('context-menu') item: ReuseItem;\r\n\r\n  constructor(private srv: ReuseTabContextService) {}\r\n\r\n  @HostListener('contextmenu', ['$event'])\r\n  onContextMenu(event: MouseEvent): void {\r\n    this.srv.show.next({\r\n      event,\r\n      item: this.item,\r\n    });\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nimport { ReuseTabComponent } from './reuse-tab.component';\nimport { ReuseTabService } from './reuse-tab.service';\nimport { ReuseTabContextComponent } from './reuse-tab-context.component';\nimport { ReuseTabContextDirective } from './reuse-tab-context.directive';\nimport { ReuseTabContextMenuComponent } from './reuse-tab-context-menu.component';\n\nconst COMPONENTS = [ReuseTabComponent];\nconst NOEXPORTS = [\n  ReuseTabContextMenuComponent,\n  ReuseTabContextComponent,\n  ReuseTabContextDirective,\n];\n\nimport { OverlayModule } from '@angular/cdk/overlay';\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\n\n@NgModule({\n  imports: [CommonModule, RouterModule, NgZorroAntdModule, OverlayModule],\n  declarations: [...COMPONENTS, ...NOEXPORTS],\n  entryComponents: [ReuseTabContextMenuComponent],\n  exports: [...COMPONENTS],\n})\nexport class AdReuseTabModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: AdReuseTabModule,\n      providers: [\n        ReuseTabService\n      ],\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { share } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class FullContentService {\r\n  private _change: BehaviorSubject<any> = new BehaviorSubject<any>(null);\r\n\r\n  /** 切换全屏工作区状态 */\r\n  toggle() {\r\n    this._change.next(true);\r\n  }\r\n\r\n  get change(): Observable<boolean> {\r\n    return this._change.pipe(share());\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  SimpleChange,\r\n  OnInit,\r\n  Inject,\r\n  HostBinding,\r\n  OnDestroy,\r\n  AfterViewInit,\r\n} from '@angular/core';\r\nimport {\r\n  coerceBooleanProperty,\r\n  coerceNumberProperty,\r\n} from '@angular/cdk/coercion';\r\nimport { DOCUMENT } from '@angular/platform-browser';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { FromEventObservable } from 'rxjs/observable/FromEventObservable';\r\nimport { debounceTime, filter, distinct } from 'rxjs/operators';\r\nimport { FullContentService } from './full-content.service';\r\nimport { Router, ActivationStart, ActivationEnd } from '@angular/router';\r\n\r\nconst cls = `ad-full-content-wrap`;\r\nconst fsCls = `ad-full-content-fs`;\r\nconst hideTitleCls = `ad-full-content-ht`;\r\n\r\n@Component({\r\n  selector: 'full-content',\r\n  template: `<ng-content></ng-content>`,\r\n  host: { '[class.ad-full-content]': 'true' },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class FullContentComponent\r\n  implements AfterViewInit, OnInit, OnChanges, OnDestroy {\r\n  private bodyEl: HTMLElement;\r\n  private inited = false;\r\n  private srv$: Subscription;\r\n  private route$: Subscription;\r\n  private id = `_full-content-${Math.random()\r\n    .toString(36)\r\n    .substring(2)}`;\r\n\r\n  @HostBinding('style.height.px') _height = 0;\r\n\r\n  // region: fields\r\n\r\n  @Input()\r\n  get fullscreen() {\r\n    return this._fullscreen;\r\n  }\r\n  set fullscreen(value: any) {\r\n    this._fullscreen = coerceBooleanProperty(value);\r\n  }\r\n  private _fullscreen;\r\n\r\n  @Input()\r\n  get hideTitle() {\r\n    return this._hideTitle;\r\n  }\r\n  set hideTitle(value: any) {\r\n    this._hideTitle = coerceBooleanProperty(value);\r\n  }\r\n  private _hideTitle = true;\r\n\r\n  @Input()\r\n  get padding() {\r\n    return this._padding;\r\n  }\r\n  set padding(value: any) {\r\n    this._padding = coerceNumberProperty(value);\r\n  }\r\n  private _padding = 24;\r\n\r\n  @Output()\r\n  fullscreenChange: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n\r\n  // endregion\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private router: Router,\r\n    private cd: ChangeDetectorRef,\r\n    private srv: FullContentService,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.inited = true;\r\n    this.bodyEl = this.doc.querySelector('body');\r\n    this.bodyEl.classList.add(cls);\r\n    (this.el.nativeElement as HTMLElement).id = this.id;\r\n    this.update();\r\n    this.installResizeEvent();\r\n    this.srv$ = <any>this.srv.change.subscribe(res => {\r\n      if (res) this.toggle();\r\n    });\r\n    this.route$ = <any>this.router.events\r\n      .pipe(\r\n        filter(\r\n          (e: any) =>\r\n            e instanceof ActivationStart || e instanceof ActivationEnd,\r\n        ),\r\n        debounceTime(200),\r\n      )\r\n      .subscribe(e => {\r\n        if (!!document.querySelector('#' + this.id)) {\r\n          this.bodyEl.classList.add(cls);\r\n          this.updateFsCls();\r\n        } else {\r\n          this.bodyEl.classList.remove(cls, fsCls, hideTitleCls);\r\n        }\r\n      });\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => this.updateHeight());\r\n  }\r\n\r\n  private updateFsCls() {\r\n    if (this.fullscreen) {\r\n      this.bodyEl.classList.add(fsCls);\r\n      if (this.hideTitle) this.bodyEl.classList.add(hideTitleCls);\r\n    } else {\r\n      this.bodyEl.classList.remove(fsCls);\r\n      if (this.hideTitle) this.bodyEl.classList.remove(hideTitleCls);\r\n    }\r\n  }\r\n\r\n  private update() {\r\n    this.updateFsCls();\r\n    this.fullscreenChange.emit(this.fullscreen);\r\n  }\r\n\r\n  private updateHeight() {\r\n    this._height =\r\n      this.bodyEl.getBoundingClientRect().height -\r\n      (this.el.nativeElement as HTMLElement).getBoundingClientRect().top -\r\n      this.padding;\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  toggle() {\r\n    this.fullscreen = !this.fullscreen;\r\n    this.update();\r\n    this.updateHeight();\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    if (this.inited) this.update();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.bodyEl.classList.remove(cls, fsCls, hideTitleCls);\r\n    this.uninstallResizeEvent();\r\n    this.srv$.unsubscribe();\r\n    this.route$.unsubscribe();\r\n  }\r\n\r\n  // region: resize\r\n\r\n  private scroll$: Subscription = null;\r\n  private installResizeEvent() {\r\n    this.scroll$ = <any>FromEventObservable.create(window, 'resize')\r\n      .pipe(debounceTime(200))\r\n      .subscribe(() => this.updateHeight());\r\n  }\r\n\r\n  private uninstallResizeEvent() {\r\n    this.scroll$.unsubscribe();\r\n  }\r\n\r\n  // endregion\r\n}\r\n","import { Directive, HostListener } from '@angular/core';\r\nimport { FullContentComponent } from './full-content.component';\r\n\r\n@Directive({\r\n  selector: '[full-toggle]',\r\n})\r\nexport class FullContentToggleDirective {\r\n  constructor(private parent: FullContentComponent) {}\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    this.parent.toggle();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FullContentComponent } from './full-content.component';\r\nimport { FullContentToggleDirective } from './full-content-toggle.directive';\r\nimport { FullContentService } from './full-content.service';\r\n\r\nconst COMPONENTS = [FullContentComponent, FullContentToggleDirective];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdFullContentModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: AdFullContentModule,\r\n      providers: [FullContentService],\r\n    };\r\n  }\r\n}\r\n","import { Directive, HostListener, Input } from '@angular/core';\r\nimport { XlsxService } from './xlsx.service';\r\nimport { XlsxExportOptions } from './interface';\r\n\r\n@Directive({ selector: '[xlsx]' })\r\nexport class XlsxDirective {\r\n  @Input('xlsx') data: XlsxExportOptions;\r\n\r\n  constructor(private srv: XlsxService) {}\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    this.srv.export(this.data);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DelonUtilModule } from '@delon/util';\nimport { XlsxService } from './xlsx.service';\nimport { XlsxDirective } from './xlsx.directive';\nimport { XlsxConfig, DA_XLSX_CONFIG } from './interface';\n\nconst COMPONENTS = [XlsxDirective];\n\n@NgModule({\n  imports: [CommonModule, DelonUtilModule],\n  declarations: [...COMPONENTS],\n  exports: [...COMPONENTS],\n})\nexport class AdXlsxModule {\n  static forRoot(config?: XlsxConfig): ModuleWithProviders {\n    return {\n      ngModule: AdXlsxModule,\n      providers: [XlsxService, { provide: DA_XLSX_CONFIG, useValue: config }],\n    };\n  }\n}\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport const DA_ZIP_CONFIG = new InjectionToken<ZipConfig>('DA_ZIP_CONFIG');\r\n\r\nexport interface ZipConfig {\r\n  /**\r\n   * Zip library path\r\n   * @default //cdn.bootcss.com/jszip/3.1.5/jszip.min.js\r\n   */\r\n  url?: string;\r\n  /**\r\n   * Defines which zip optional utils should get loaded\r\n   */\r\n  utils?: string[];\r\n}\r\n\r\nexport interface ZipWriteOptions {\r\n  /** save file name, default: `download.zip` */\r\n  filename?: string;\r\n  options?: any;\r\n  /** The optional function called on each internal update with the metadata. */\r\n  update?: (metadata: any) => void;\r\n  /** triggers when saveas */\r\n  callback?: () => void;\r\n}\r\n\r\nexport interface ZipSaveOptions {\r\n  /**\r\n   * 指定保存文件名，默认 `download.zip`\r\n   */\r\n  filename?: string;\r\n  /**\r\n   * JSZip `generateAsync` 方法的 `options` 选项\r\n   * @see https://stuk.github.io/jszip/documentation/api_jszip/generate_async.html\r\n   */\r\n  options?: any;\r\n  /**\r\n   * JSZip `generateAsync` 方法的 `onUpdate` 回调\r\n   * @see https://stuk.github.io/jszip/documentation/api_jszip/generate_async.html\r\n   */\r\n  update?: (percent: number, currentFile: string) => void;\r\n  /**\r\n   * 保存前回调方法\r\n   */\r\n  callback?: (blob: Blob) => void;\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { saveAs } from 'file-saver';\nimport { LazyService, LazyResult } from '@delon/util';\n\nimport {\n  ZipConfig,\n  DA_ZIP_CONFIG,\n  ZipWriteOptions,\n  ZipSaveOptions,\n} from './interface';\n\ndeclare var JSZip: any;\n\n@Injectable()\nexport class ZipService {\n  constructor(\n    @Inject(DA_ZIP_CONFIG) private config: ZipConfig,\n    private http: HttpClient,\n    private lazy: LazyService,\n  ) {}\n\n  private init(): Promise<LazyResult[]> {\n    const config = Object.assign(\n      {\n        url: `//cdn.bootcss.com/jszip/3.1.5/jszip.min.js`,\n        utils: [],\n      },\n      this.config,\n    );\n\n    return this.lazy.load([config.url].concat(config.utils));\n  }\n\n  private check(zip: any) {\n    if (!zip) throw new Error('get instance via `ZipService.create()`');\n  }\n\n  /** 解压 */\n  read(fileOrUrl: File | string, options?: any): Promise<any> {\n    return new Promise<any>((resolve, reject) => {\n      this.init().then(() => {\n        // from url\n        if (typeof fileOrUrl === 'string') {\n          this.http\n            .request('GET', fileOrUrl, { responseType: 'arraybuffer' })\n            .subscribe(\n              (res: ArrayBuffer) => {\n                JSZip.loadAsync(res, options).then(ret => resolve(ret));\n              },\n              (err: any) => {\n                reject(err);\n              },\n            );\n          return;\n        }\n        // from file\n        const reader: FileReader = new FileReader();\n        reader.onload = (e: any) => {\n          JSZip.loadAsync(e.target.result, options).then(ret => resolve(ret));\n        };\n        reader.readAsBinaryString(<File>fileOrUrl);\n      });\n    });\n  }\n\n  /** 创建 Zip 实例，用于创建压缩文件 */\n  create(): Promise<any> {\n    return new Promise<any>(resolve => {\n      this.init().then(() => {\n        const zipFile: any = new JSZip();\n        resolve(zipFile);\n      });\n    });\n  }\n\n  /**\n   * 下载URL资源并写入 zip\n   * @param zip Zip 实例\n   * @param path Zip 路径，例如： `text.txt`、`txt/hi.txt`\n   * @param url URL 地址\n   */\n  pushUrl(zip: any, path: string, url: string): Promise<void> {\n    this.check(zip);\n    return new Promise<void>((resolve, reject) => {\n      this.http.request('GET', url, { responseType: 'arraybuffer' }).subscribe(\n        (res: ArrayBuffer) => {\n          zip.file(path, res);\n          resolve();\n        },\n        (error: any) => {\n          reject({ url, error });\n        },\n      );\n    });\n  }\n\n  /**\n   * 保存Zip并执行打开保存对话框\n   *\n   * @param zip zip 对象，务必通过 `create()` 构建\n   * @param options 额外参数，\n   */\n  save(zip: any, options?: ZipSaveOptions): Promise<void> {\n    this.check(zip);\n    const opt = Object.assign({}, options);\n    return new Promise<void>((resolve, reject) => {\n      zip\n        .generateAsync(Object.assign({ type: 'blob' }, opt.options), opt.update)\n        .then(\n          (data: Blob) => {\n            if (opt.callback) opt.callback(data);\n            saveAs(data, opt.filename || 'download.zip');\n            resolve();\n          },\n          err => {\n            reject(err);\n          },\n        );\n    });\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DelonUtilModule } from '@delon/util';\n\nimport { ZipService } from './zip.service';\nimport { ZipConfig, DA_ZIP_CONFIG } from './interface';\n\n@NgModule({\n  imports: [CommonModule, DelonUtilModule],\n})\nexport class AdZipModule {\n  static forRoot(config?: ZipConfig): ModuleWithProviders {\n    return {\n      ngModule: AdZipModule,\n      providers: [ZipService, { provide: DA_ZIP_CONFIG, useValue: config }],\n    };\n  }\n}\n","import { NumberToChineseOptions } from './interface';\r\n\r\nexport function numberToChinese(\r\n  value: number | string,\r\n  rmb = true,\r\n  options?: NumberToChineseOptions,\r\n): string {\r\n  options = Object.assign(\r\n    {\r\n      minusSymbol: '负',\r\n      validThrow: false,\r\n    },\r\n    options,\r\n  );\r\n  if (typeof value === 'number') value = value.toString();\r\n  if (!/^-?\\d+(\\.\\d+)?$/.test(value) && options.validThrow)\r\n    throw new Error(`${value} is invalid number type`);\r\n  let integer: number | string, decimal: number | string;\r\n  [integer, decimal] = value.split('.');\r\n  let symbol = '';\r\n  if (integer.startsWith('-')) {\r\n    symbol = options.minusSymbol;\r\n    integer = integer.substr(1);\r\n  }\r\n  if (/^-?\\d+$/.test(value)) decimal = null;\r\n  integer = (+integer).toString();\r\n  const unit = {\r\n    num: rmb\r\n      ? ['', '壹', '贰', '叁', '肆', '伍', '陆', '柒', '捌', '玖', '点']\r\n      : ['', '一', '二', '三', '四', '五', '六', '七', '八', '九', '点'],\r\n    radice: rmb\r\n      ? [\r\n          '',\r\n          '拾',\r\n          '佰',\r\n          '仟',\r\n          '万',\r\n          '拾',\r\n          '佰',\r\n          '仟',\r\n          '亿',\r\n          '拾',\r\n          '佰',\r\n          '仟',\r\n          '万亿',\r\n          '拾',\r\n          '佰',\r\n          '仟',\r\n          '兆',\r\n          '拾',\r\n          '佰',\r\n          '仟',\r\n        ]\r\n      : [\r\n          '',\r\n          '十',\r\n          '百',\r\n          '千',\r\n          '万',\r\n          '十',\r\n          '百',\r\n          '千',\r\n          '亿',\r\n          '十',\r\n          '百',\r\n          '千',\r\n          '万亿',\r\n          '十',\r\n          '百',\r\n          '千',\r\n          '兆',\r\n          '十',\r\n          '百',\r\n          '千',\r\n        ],\r\n    dec: ['角', '分', '厘', '毫'],\r\n  };\r\n  if (rmb) value = (+value).toFixed(5).toString();\r\n  let integerRes = '';\r\n  const integerCount = integer.length;\r\n  if (integer === '0' || integerCount === 0) {\r\n    integerRes = '零';\r\n  } else {\r\n    let cnDesc = '';\r\n    for (let i = 0; i < integerCount; i++) {\r\n      const n = +integer[i],\r\n        j = integerCount - i - 1,\r\n        isZero = i > 1 && n !== 0 && integer[i - 1] === '0',\r\n        cnZero = isZero ? '零' : '',\r\n        isEmpptyUnit =\r\n          (n === 0 && j % 4 !== 0) || integer.substr(i - 3, 4) === '0000',\r\n        descMark = cnDesc;\r\n      let cnNum = unit.num[n];\r\n\r\n      cnDesc = isEmpptyUnit ? '' : unit.radice[j];\r\n      // 第一位是一十\r\n      if (i === 0 && cnNum === '一' && cnDesc === '十') cnNum = '';\r\n      const isChangeEr =\r\n        n > 1 &&\r\n        cnNum === '二' && // 去除首位\r\n        ['', '十', '百'].indexOf(cnDesc) === -1 && // 不读两\\两十\\两百\r\n        descMark !== '十'; // 不读十两\r\n      if (isChangeEr) cnNum = '两';\r\n      integerRes += cnZero + cnNum + cnDesc;\r\n    }\r\n  }\r\n\r\n  // 小数部分拼接\r\n  let decimalRes = '';\r\n  const decimalCount = decimal ? decimal.toString().length : 0;\r\n  if (decimal === null) {\r\n    decimalRes = rmb ? '整' : '';\r\n  } else if (decimal === '0') {\r\n    decimalRes = '零';\r\n  } else {\r\n    for (let i = 0; i < decimalCount; i++) {\r\n      if (rmb && i > unit.dec.length - 1) break;\r\n      const n = decimal[i],\r\n        cnZero = n === '0' ? '零' : '',\r\n        cnNum = unit.num[n],\r\n        cnDesc = rmb ? unit.dec[i] : '';\r\n      decimalRes += cnZero + cnNum + cnDesc;\r\n    }\r\n  }\r\n  const ret =\r\n    symbol +\r\n    (rmb\r\n      ? integerRes + (decimalRes === '零' ? '元整' : `元${decimalRes}`)\r\n      : integerRes + (decimalRes === '' ? '' : `点${decimalRes}`));\r\n  return ret;\r\n}\r\n","import { PipeTransform, Pipe } from '@angular/core';\r\nimport { CurrencyPipe } from '@angular/common';\r\nimport { numberToChinese } from './number-to-chinese';\r\nimport { NumberToChineseOptions } from './interface';\r\n\r\n@Pipe({ name: 'n2c' })\r\nexport class NumberToChinesePipe implements PipeTransform {\r\n  transform(\r\n    value: number | string,\r\n    rmb: boolean = true,\r\n    minusSymbol: string = '负',\r\n  ): string {\r\n    return numberToChinese(value, rmb, { minusSymbol });\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NumberToChinesePipe } from './number-to-chinese.pipe';\r\n\r\nconst PIPES = [NumberToChinesePipe];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: PIPES,\r\n  exports: PIPES,\r\n})\r\nexport class AdNumberToChineseModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdNumberToChineseModule, providers: [] };\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class AdLodopConfig {\r\n  /**\r\n   * 注册信息：主注册号\r\n   */\r\n  license: string;\r\n  /**\r\n   * 注册信息：附加注册号A\r\n   */\r\n  licenseA: string;\r\n  /**\r\n   * 注册信息：附加注册号B\r\n   */\r\n  licenseB?: string;\r\n  /**\r\n   * 注册信息：注册单位名称\r\n   */\r\n  companyName?: string;\r\n  /**\r\n   * Lodop 远程脚本URL地址，**注意**务必使用 `name` 属性指定变量值\r\n   *\r\n   * - http://localhost:18000/CLodopfuncs.js\r\n   * - https://localhost:8443/CLodopfuncs.js [默认]\r\n   */\r\n  url?: string;\r\n  /**\r\n   * Lodop 变量名，默认：`CLODOP`\r\n   */\r\n  name?: string;\r\n  /**\r\n   * 检查次数，默认 `100`，当检查超过时视为异常，这是因为 Lodop 需要连接 WebSocket\r\n   */\r\n  checkMaxCount?: number;\r\n}\r\n","import { Inject, Injectable, OnDestroy } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { of } from 'rxjs/observable/of';\nimport { Subject } from 'rxjs/Subject';\nimport { Observer } from 'rxjs/Observer';\n\nimport { LazyService } from '@delon/util';\n\nimport { Lodop, LodopResult, LodopPrintResult } from './interface';\nimport { AdLodopConfig } from './lodop.config';\n\n// TODO: zone\n@Injectable()\nexport class LodopService implements OnDestroy {\n  private _cog: AdLodopConfig;\n  private pending = false;\n  private _lodop: Lodop = null;\n  private _init: Subject<LodopResult> = new Subject<LodopResult>();\n  private _events: Subject<LodopPrintResult> = new Subject<LodopPrintResult>();\n\n  constructor(private defCog: AdLodopConfig, private scriptSrv: LazyService) {\n    this.cog = defCog;\n  }\n\n  /**\n   * 获取或重新设置配置\n   *\n   * **注：**重新设置会倒置重新加载脚本资源\n   */\n  get cog() {\n    return this._cog;\n  }\n  set cog(value: AdLodopConfig) {\n    this._cog = Object.assign(\n      {\n        url: 'https://localhost:8443/CLodopfuncs.js',\n        name: 'CLODOP',\n        companyName: '',\n        checkMaxCount: 100,\n      },\n      this.defCog,\n      value,\n    );\n  }\n\n  /** 事件变更通知 */\n  get events(): Observable<LodopPrintResult> {\n    return this._events.asObservable();\n  }\n\n  private check() {\n    if (!this._lodop) throw new Error(`请务必先调用 lodop 获取对象`);\n  }\n\n  private request(): void {\n    this.pending = true;\n\n    const url = `${this.cog.url}?name=${this.cog.name}`;\n    let checkMaxCount = this.cog.checkMaxCount;\n    const onResolve = (status, error?: any) => {\n      this._init.next({\n        ok: status === 'ok',\n        status,\n        error,\n        lodop: this._lodop,\n      });\n    };\n    const checkStatus = () => {\n      --checkMaxCount;\n      if (this._lodop.webskt && this._lodop.webskt.readyState === 1) {\n        onResolve('ok');\n      } else {\n        if (checkMaxCount < 0) {\n          onResolve('check-limit');\n          return;\n        }\n        setTimeout(() => checkStatus(), 100);\n      }\n    };\n\n    this.scriptSrv.load(url).then((res: any[]) => {\n      if (res.length === 1 && res[0].status !== 'ok') {\n        this.pending = false;\n        onResolve('script-load-error', res[0]);\n        return;\n      }\n      this._lodop =\n        window.hasOwnProperty(this.cog.name) &&\n        (window[this.cog.name] as Lodop);\n      if (this._lodop === null) {\n        onResolve('load-variable-name-error', { name: this.cog.name });\n        return;\n      }\n      this._lodop.SET_LICENSES(\n        this.cog.companyName,\n        this.cog.license,\n        this.cog.licenseA,\n        this.cog.licenseB,\n      );\n      checkStatus();\n    });\n  }\n\n  /** 重置 lodop 对象 */\n  reset() {\n    this._lodop = null;\n    this.pending = false;\n    this.request();\n  }\n\n  /** 获取 lodop 对象 */\n  get lodop(): Observable<LodopResult> {\n    if (this._lodop) return of(<LodopResult>{ ok: true, lodop: this._lodop });\n    if (this.pending) return this._init.asObservable();\n\n    this.request();\n\n    return this._init.asObservable();\n  }\n\n  /** 获取打印机列表 */\n  get printer(): string[] {\n    this.check();\n    const ret: string[] = [];\n    const count = this._lodop.GET_PRINTER_COUNT();\n    for (let index = 0; index < count; index++) {\n      ret.push(this._lodop.GET_PRINTER_NAME(index));\n    }\n    return ret;\n  }\n\n  /**\n   * 附加代码至 `lodop` 对象上，字符串类支持 `{{key}}` 的动态参数\n   *\n   * **注：** 代码是指打印设计所产生字符串数据\n   *\n   * @param code 代码\n   * @param contextObj 动态参数上下文对象\n   * @param parser 自定义解析表达式，默认：`/LODOP\\.([^(]+)\\(([^\\n]+)\\);/i`\n   */\n  attachCode(code: string, contextObj?: Object, parser?: RegExp): void {\n    this.check();\n    if (!parser) parser = /LODOP\\.([^(]+)\\(([^\\n]+)\\);/i;\n    code.split('\\n').forEach(line => {\n      const res = parser.exec(line.trim());\n      if (!res) return;\n      const fn = this._lodop[res[1]];\n      if (fn) {\n        let arr: Array<any>;\n        try {\n          const fakeFn = new Function(`return [${res[2]}]`);\n          arr = fakeFn() as any[];\n        } catch {}\n\n        if (Array.isArray(arr) && contextObj) {\n          for (let i = 0; i < arr.length; i++) {\n            if (typeof arr[i] === 'string') {\n              arr[i] = arr[i].replace(\n                /{{(.*?)}}/g,\n                (match, key) => contextObj[key.trim()] || '',\n              );\n            }\n          }\n        }\n        fn.apply(this._lodop, arr);\n      }\n    });\n  }\n\n  /**\n   * 打开打印设计关闭后自动返回代码\n   *\n   * **注：** 自动监听 `On_Return` 事件，运行后会移除\n   */\n  design(): Promise<string> {\n    this.check();\n    const tid = this._lodop.PRINT_DESIGN();\n    return new Promise(resolve => {\n      this._lodop.On_Return = (taskID: string, value: boolean | string) => {\n        if (tid !== taskID) return;\n        this._lodop.On_Return = null;\n        resolve('' + value);\n      };\n    });\n  }\n\n  private printBuffer: any[] = [];\n  private printDo() {\n    const data = this.printBuffer.shift();\n    if (!data) return;\n    this.attachCode(data.code, data.item, data.parser);\n    const tid = this._lodop.PRINT();\n    this._lodop.On_Return = (taskID: string, value: boolean | string) => {\n      if (tid !== taskID) return;\n      this._lodop.On_Return = null;\n      this._events.next(\n        Object.assign(\n          <LodopPrintResult>{\n            ok: value === true,\n            error: value === true ? null : value,\n          },\n          data,\n        ),\n      );\n      this.printDo();\n    };\n  }\n\n  /**\n   * 立即打印，一般用于批量套打\n   *\n   * @param code 代码\n   * @param contextObj 动态参数上下文对象\n   * @param parser 自定义解析表达式，默认：`/LODOP\\.([^(]+)\\(([^\\n]+)\\);/i`\n   */\n  print(code: string, contextObj: Object | Object[], parser?: RegExp): void {\n    this.check();\n    if (contextObj) {\n      this.printBuffer.push(\n        ...(Array.isArray(contextObj) ? contextObj : [contextObj]).map(item => {\n          return { code, parser, item };\n        }),\n      );\n    }\n    this.printDo();\n  }\n\n  ngOnDestroy(): void {\n    this._init.unsubscribe();\n    this._events.unsubscribe();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { DelonUtilModule } from '@delon/util';\n\nimport { AdLodopConfig } from './lodop.config';\nimport { LodopService } from './lodop.service';\n\n@NgModule({\n  imports: [DelonUtilModule],\n})\nexport class AdLodopModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: AdLodopModule,\n      providers: [LodopService, AdLodopConfig],\n    };\n  }\n}\n","import {\r\n  Component,\r\n  Input,\r\n  HostListener,\r\n  OnInit,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Renderer2,\r\n  ElementRef,\r\n} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'quick-menu',\r\n  template: `\r\n  <div class=\"ad-quick-menu__inner\">\r\n    <div class=\"ad-quick-menu__ctrl\" [ngStyle]=\"ctrlStyle\">\r\n      <i [ngClass]=\"icon\"></i>\r\n    </div>\r\n    <ng-content></ng-content>\r\n  </div>\r\n  `,\r\n  host: { '[class.ad-quick-menu]': 'true' },\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class QuickMenuComponent implements OnInit, OnChanges {\r\n  // region: fields\r\n\r\n  @Input()\r\n  icon:\r\n    | string\r\n    | string[]\r\n    | { [key: string]: string } = 'anticon anticon-question-circle-o';\r\n\r\n  @Input() top = 120;\r\n\r\n  @Input() width = 200;\r\n\r\n  @Input() bgColor = '#fff';\r\n\r\n  @Input() borderColor = '#ddd';\r\n\r\n  // endregion\r\n\r\n  constructor(\r\n    private cd: ChangeDetectorRef,\r\n    private el: ElementRef,\r\n    private render: Renderer2,\r\n  ) {}\r\n\r\n  private show = false;\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    this.show = !this.show;\r\n    this.setStyle();\r\n  }\r\n\r\n  ctrlStyle: { [key: string]: string } = {};\r\n  private setStyle() {\r\n    this.ctrlStyle = {\r\n      'background-color': this.bgColor,\r\n      'border-color': this.borderColor,\r\n    };\r\n\r\n    const res: string[] = [\r\n      `top:${this.top}px`,\r\n      `width:${this.width}px`,\r\n      `background-color:${this.bgColor}`,\r\n      `border-color:${this.borderColor}`,\r\n      `margin-right:-${this.show ? 0 : this.width}px`,\r\n    ];\r\n    this.render.setAttribute(this.el.nativeElement, 'style', res.join(';'));\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  private initFlag = false;\r\n  ngOnInit(): void {\r\n    this.initFlag = true;\r\n    this.setStyle();\r\n  }\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (this.initFlag) this.setStyle();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { QuickMenuComponent } from './quick-menu.component';\r\n\r\nconst COMPONENTS = [QuickMenuComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdQuickMenuModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdQuickMenuModule, providers: [] };\r\n  }\r\n}\r\n","export class AdQRConfig {\r\n  /** 背景，默认：`white` */\r\n  background = 'white';\r\n  /** 背景透明级别，范围：`0-1` 之间，默认：`1.0` */\r\n  backgroundAlpha = 1.0;\r\n  /** 前景，默认：`black` */\r\n  foreground = 'black';\r\n  /** 前景透明级别，范围：`0-1` 之间，默认：`1.0` */\r\n  foregroundAlpha = 1.0;\r\n  /** 误差校正级别，默认：`L` */\r\n  level: 'L' | 'M' | 'Q' | 'H' = 'L';\r\n  /** 二维码输出图片MIME类型，默认：`image/png` */\r\n  mime = 'image/png';\r\n  /** 内边距（单位：px），默认：`10` */\r\n  padding = 10;\r\n  /** 大小（单位：px），默认：`220` */\r\n  size = 220;\r\n}\r\n","import { AdQRConfig } from './qr.config';\r\nimport { Injectable } from '@angular/core';\r\n\r\ndeclare var QRious: any;\r\n\r\n@Injectable()\r\nexport class QRService {\r\n  /** 当前qr实例 */\r\n  readonly qr: any;\r\n  /** 背景 */\r\n  background: string;\r\n  /** 背景透明级别，范围：`0-1` 之间 */\r\n  backgroundAlpha = 1.0;\r\n  /** 前景 */\r\n  foreground: string;\r\n  /** 前景透明级别，范围：`0-1` 之间 */\r\n  foregroundAlpha: number;\r\n  /** 误差校正级别 */\r\n  level: string;\r\n  /** 二维码输出图片MIME类型 */\r\n  mime: string;\r\n  /** 内边距（单位：px） */\r\n  padding: number;\r\n  /** 大小（单位：px） */\r\n  size: number;\r\n  /** 值 */\r\n  value: string;\r\n\r\n  constructor(cog: AdQRConfig) {\r\n    Object.assign(this, cog);\r\n    this.qr = new QRious();\r\n  }\r\n\r\n  /**\r\n   * 生成二维码，并返回Base64编码\r\n   *\r\n   * @param [value] 重新指定值\r\n   */\r\n  refresh(value?: string | Object): string {\r\n    this.qr.set(typeof value === 'object' ? value : {\r\n      background: this.background,\r\n      backgroundAlpha: this.backgroundAlpha,\r\n      foreground: this.foreground,\r\n      foregroundAlpha: this.foregroundAlpha,\r\n      level: this.level,\r\n      padding: this.padding,\r\n      size: this.size,\r\n      value: value || this.value,\r\n    });\r\n    return this.dataURL;\r\n  }\r\n\r\n  /**\r\n   * 返回当前二维码Base64编码\r\n   */\r\n  get dataURL(): string {\r\n    return this.qr.toDataURL();\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  ChangeDetectionStrategy,\r\n  OnChanges,\r\n  ChangeDetectorRef,\r\n  SimpleChanges,\r\n  HostBinding,\r\n  Output,\r\n  EventEmitter,\r\n} from '@angular/core';\r\nimport { QRService } from './qr.service';\r\nimport { AdQRConfig } from './qr.config';\r\n\r\n@Component({\r\n  selector: 'qr',\r\n  template: `\r\n  <img src=\"{{dataURL}}\">\r\n  `,\r\n  preserveWhitespaces: false,\r\n  host: { '[class.ad-qr]': 'true' },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class QRComponent implements OnChanges {\r\n  dataURL: string;\r\n  // region: fields\r\n\r\n  /** 背景 */\r\n  @Input() background: string;\r\n  /** 背景透明级别，范围：`0-1` 之间 */\r\n  @Input() backgroundAlpha: number;\r\n  /** 前景 */\r\n  @Input() foreground: string;\r\n  /** 前景透明级别，范围：`0-1` 之间 */\r\n  @Input() foregroundAlpha: number;\r\n  /** 误差校正级别 */\r\n  @Input() level: string;\r\n  /** 二维码输出图片MIME类型 */\r\n  @Input() mime: string;\r\n  /** 内边距（单位：px） */\r\n  @Input() padding: number;\r\n  /** 大小（单位：px） */\r\n  @HostBinding('style.height.px')\r\n  @HostBinding('style.width.px')\r\n  @Input() size: number;\r\n  /** 值 */\r\n  @Input() value: string;\r\n  /** 变更时回调 */\r\n  @Output() change = new EventEmitter<string>();\r\n\r\n  // endregion\r\n\r\n  constructor(\r\n    cog: AdQRConfig,\r\n    private srv: QRService,\r\n    private cd: ChangeDetectorRef,\r\n  ) {\r\n    Object.assign(this, cog);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.dataURL = this.srv.refresh({\r\n      background: this.background,\r\n      backgroundAlpha: this.backgroundAlpha,\r\n      foreground: this.foreground,\r\n      foregroundAlpha: this.foregroundAlpha,\r\n      level: this.level,\r\n      mime: this.mime,\r\n      padding: this.padding,\r\n      size: this.size,\r\n      value: this.value\r\n    });\r\n    this.cd.detectChanges();\r\n    this.change.emit(this.dataURL);\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AdQRConfig } from './qr.config';\r\nimport { QRComponent } from './qr.component';\r\nimport { QRService } from './qr.service';\r\n\r\nconst COMPONENTS = [QRComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdQRModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdQRModule, providers: [AdQRConfig, QRService] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  NgZone,\r\n  TemplateRef,\r\n  OnInit,\r\n  HostListener,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { FromEventObservable } from 'rxjs/observable/FromEventObservable';\r\nimport {\r\n  coerceBooleanProperty,\r\n  coerceNumberProperty,\r\n} from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-bar',\r\n  template: `\r\n  <ng-container *ngIf=\"_title; else _titleTpl\"><h4>{{_title}}</h4></ng-container>\r\n  <div #container></div>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class G2BarComponent implements OnDestroy, OnChanges, OnInit {\r\n  // region: fields\r\n  _title = '';\r\n  _titleTpl: TemplateRef<any>;\r\n  @Input()\r\n  set title(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._title = null;\r\n      this._titleTpl = value;\r\n    } else this._title = value;\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  @Input() color = 'rgba(24, 144, 255, 0.85)';\r\n\r\n  @HostBinding('style.height.px')\r\n  @Input()\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(value: any) {\r\n    this._height = coerceNumberProperty(value);\r\n  }\r\n  private _height = 0;\r\n\r\n  @Input() padding: number[];\r\n  @Input() data: Array<{ x: any; y: any; [key: string]: any }>;\r\n\r\n  @Input()\r\n  get autoLabel() {\r\n    return this._autoLabel;\r\n  }\r\n  set autoLabel(value: any) {\r\n    this._autoLabel = coerceBooleanProperty(value);\r\n  }\r\n  private _autoLabel = true;\r\n\r\n  // endregion\r\n\r\n  @HostBinding('class.g2-chart') private _cls = true;\r\n\r\n  @ViewChild('container') private node: ElementRef;\r\n\r\n  chart: any;\r\n\r\n  constructor(private el: ElementRef, private cd: ChangeDetectorRef) {\r\n    this.cd.detach();\r\n  }\r\n\r\n  install() {\r\n    if (!this.data || (this.data && this.data.length < 1)) return;\r\n    // this.uninstall();\r\n    this.node.nativeElement.innerHTML = '';\r\n\r\n    let padding = Object.assign([], this.padding);\r\n    if (padding.length <= 0)\r\n      padding = [32, 0, this.autoHideXLabels ? 8 : 32, 40];\r\n\r\n    const chart = new G2.Chart({\r\n      container: this.node.nativeElement,\r\n      forceFit: true,\r\n      height: +this.height - 22,\r\n      legend: null,\r\n      padding: padding,\r\n    });\r\n\r\n    chart.axis('x', !this.autoHideXLabels);\r\n    chart.axis('y', {\r\n      title: false,\r\n      line: false,\r\n      tickLine: false,\r\n    });\r\n\r\n    chart.source(this.data, {\r\n      x: {\r\n        type: 'cat',\r\n      },\r\n      y: {\r\n        min: 0,\r\n      },\r\n    });\r\n\r\n    chart.tooltip({\r\n      showTitle: false,\r\n    });\r\n    chart\r\n      .interval()\r\n      .position('x*y')\r\n      .color(this.color)\r\n      .tooltip('x*y', (x, y) => {\r\n        return {\r\n          name: x,\r\n          value: y,\r\n        };\r\n      });\r\n    chart.render();\r\n    setTimeout(() => {\r\n      chart.forceFit();\r\n      chart.repaint();\r\n    }, 30);\r\n    this.chart = chart;\r\n  }\r\n\r\n  uninstall() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = null;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.installResizeEvent();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.resize();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.uninstallResizeEvent();\r\n    this.uninstall();\r\n  }\r\n\r\n  // region: resize\r\n\r\n  private autoHideXLabels = false;\r\n  private scroll$: Subscription = null;\r\n  private installResizeEvent() {\r\n    if (!this.autoLabel || this.scroll$) return;\r\n\r\n    this.scroll$ = <any>FromEventObservable.create(window, 'resize')\r\n      .pipe(debounceTime(200))\r\n      .subscribe(() => this.resize());\r\n  }\r\n\r\n  private uninstallResizeEvent() {\r\n    if (this.scroll$) this.scroll$.unsubscribe();\r\n  }\r\n\r\n  resize() {\r\n    const canvasWidth = this.el.nativeElement.clientWidth;\r\n    const minWidth = this.data.length * 30;\r\n\r\n    if (canvasWidth <= minWidth) {\r\n      if (!this.autoHideXLabels) {\r\n        this.autoHideXLabels = true;\r\n        this.install();\r\n        return;\r\n      }\r\n    } else if (this.autoHideXLabels) {\r\n      this.autoHideXLabels = false;\r\n      this.install();\r\n      return;\r\n    }\r\n    if (!this.chart) this.install();\r\n  }\r\n\r\n  // endregion\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { G2BarComponent } from './bar.component';\r\n\r\nconst COMPONENTS = [G2BarComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2BarModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2BarModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  ViewEncapsulation,\r\n  TemplateRef,\r\n  Input,\r\n  ContentChild,\r\n} from '@angular/core';\r\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-card',\r\n  template: `\r\n  <nz-card [nzBodyStyle]=\"{padding: '20px 24px 8px 24px'}\" [nzBordered]=\"bordered\">\r\n    <nz-spin [nzSpinning]=\"loading\">\r\n      <div class=\"chart-card\">\r\n        <div class=\"chart-top\">\r\n          <div class=\"avatar\"><ng-container *ngIf=\"_avatar; else _avatarTpl\">{{ _avatar }}</ng-container></div>\r\n          <div class=\"meta-wrap\">\r\n            <div class=\"meta\">\r\n              <span class=\"title\" *ngIf=\"_title; else _titleTpl\">{{ _title }}</span>\r\n              <span class=\"action\" *ngIf=\"_action || _actionTpl\">\r\n                <ng-container *ngIf=\"_action; else _actionTpl\">{{ _action }}</ng-container>\r\n              </span>\r\n            </div>\r\n            <p *ngIf=\"total\" class=\"total\" [innerHTML]=\"total\"></p>\r\n          </div>\r\n        </div>\r\n        <div class=\"desc\" [ngStyle]=\"{'height':_height}\">\r\n          <div [ngClass]=\"{'fixed': !!_orgHeight }\">\r\n            <ng-content></ng-content>\r\n          </div>\r\n        </div>\r\n        <div class=\"footer\" *ngIf=\"_footer || _footerTpl\">\r\n          <ng-container *ngIf=\"_footer; else _footerTpl\">{{ _footer }}</ng-container>\r\n        </div>\r\n      </div>\r\n    </nz-spin>\r\n  </nz-card>`,\r\n  host: { '[class.ad-g2-card]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class G2CardComponent {\r\n  // region fields\r\n\r\n  /** 是否显示边框 */\r\n  @Input()\r\n  get bordered() {\r\n    return this._bordered;\r\n  }\r\n  set bordered(value: any) {\r\n    this._bordered = coerceBooleanProperty(value);\r\n  }\r\n  private _bordered = false;\r\n\r\n  _avatar = '';\r\n  _avatarTpl: TemplateRef<any>;\r\n  @Input()\r\n  set avatar(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._avatar = null;\r\n      this._avatarTpl = value;\r\n    } else this._avatar = value;\r\n  }\r\n\r\n  _title = '';\r\n  _titleTpl: TemplateRef<any>;\r\n  @Input()\r\n  set title(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._title = null;\r\n      this._titleTpl = value;\r\n    } else this._title = value;\r\n  }\r\n\r\n  _action = '';\r\n  _actionTpl: TemplateRef<any>;\r\n  @Input()\r\n  set action(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._action = null;\r\n      this._actionTpl = value;\r\n    } else this._action = value;\r\n  }\r\n\r\n  @Input() total = '';\r\n\r\n  _height = 'auto';\r\n  _orgHeight: any;\r\n  @Input()\r\n  set contentHeight(value: number | string) {\r\n    this._orgHeight = value;\r\n    this._height =\r\n      typeof value === 'number' ? (this._height = `${value}px`) : value;\r\n  }\r\n\r\n  _footer = '';\r\n  _footerTpl: TemplateRef<any>;\r\n  @Input()\r\n  set footer(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._footer = null;\r\n      this._footerTpl = value;\r\n    } else this._footer = value;\r\n  }\r\n\r\n  /** 是否显示Loading */\r\n  @Input()\r\n  get loading() {\r\n    return this._loading;\r\n  }\r\n  set loading(value: any) {\r\n    this._loading = coerceBooleanProperty(value);\r\n  }\r\n  private _loading = false;\r\n\r\n  // endregion\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nimport { G2CardComponent } from './card.component';\r\n\r\nconst COMPONENTS = [G2CardComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, NgZorroAntdModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2CardModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2CardModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy,\r\n  EventEmitter,\r\n  Output,\r\n  HostBinding,\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { FromEventObservable } from 'rxjs/observable/FromEventObservable';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-chart',\r\n  template: ``,\r\n})\r\nexport class G2ChartComponent implements OnInit, OnDestroy {\r\n  // region: fields\r\n\r\n  @HostBinding('style.height.px')\r\n  @Input()\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(value: any) {\r\n    this._height = coerceNumberProperty(value);\r\n  }\r\n  private _height;\r\n\r\n  @Input()\r\n  get resizeTime() {\r\n    return this._resizeTime;\r\n  }\r\n  set resizeTime(value: any) {\r\n    this._resizeTime = coerceNumberProperty(value);\r\n  }\r\n  private _resizeTime = 0;\r\n\r\n  @Output() render: EventEmitter<ElementRef> = new EventEmitter<ElementRef>();\r\n\r\n  @Output() resize: EventEmitter<ElementRef> = new EventEmitter<ElementRef>();\r\n\r\n  @Output() destroy: EventEmitter<ElementRef> = new EventEmitter<ElementRef>();\r\n\r\n  // endregion\r\n\r\n  constructor(private el: ElementRef) {}\r\n\r\n  private renderChart() {\r\n    this.el.nativeElement.innerHTML = '';\r\n    this.render.emit(this.el);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    setTimeout(() => this.renderChart(), 200);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy.emit(this.el);\r\n    this.uninstallResizeEvent();\r\n  }\r\n\r\n  // region: resize\r\n\r\n  private resize$: Subscription = null;\r\n\r\n  private installResizeEvent() {\r\n    if (this.resizeTime <= 0 || !this.resize$) return;\r\n\r\n    if (this.resizeTime <= 200) this.resizeTime = 200;\r\n\r\n    this.resize$ = <any>FromEventObservable.create(window, 'resize')\r\n      .pipe(debounceTime(this.resizeTime))\r\n      .subscribe(() => this.resize.emit(this.el));\r\n  }\r\n\r\n  private uninstallResizeEvent() {\r\n    if (this.resize$) this.resize$.unsubscribe();\r\n  }\r\n\r\n  // endregion\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { G2ChartComponent } from './chart.component';\r\n\r\nconst COMPONENTS = [G2ChartComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2ChartModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2ChartModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnInit,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  NgZone,\r\n  TemplateRef,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  SimpleChange,\r\n} from '@angular/core';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-gauge',\r\n  template: `<div #container></div>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class G2GaugeComponent implements OnInit, OnDestroy, OnChanges {\r\n  // region: fields\r\n\r\n  @Input() title: string;\r\n  @Input()\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(value: any) {\r\n    this._height = coerceNumberProperty(value);\r\n  }\r\n  private _height;\r\n  @Input() color = '#2F9CFF';\r\n  @Input() bgColor = '#F0F2F5';\r\n  @Input() format: Function;\r\n\r\n  @Input()\r\n  get percent() {\r\n    return this._percent;\r\n  }\r\n  set percent(value: any) {\r\n    this._percent = coerceNumberProperty(value);\r\n  }\r\n  private _percent: number;\r\n\r\n  // endregion\r\n\r\n  @ViewChild('container') node: ElementRef;\r\n\r\n  chart: any;\r\n  initFlag = false;\r\n\r\n  constructor(private cd: ChangeDetectorRef) {\r\n    this.cd.detach();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initFlag = true;\r\n    this.install();\r\n  }\r\n\r\n  private createData() {\r\n    return [{ name: this.title, value: +this.percent }];\r\n  }\r\n\r\n  private draw() {\r\n    if (!this.chart) return;\r\n    this.chart.guide().clear();\r\n    const data = this.createData();\r\n    // 绘制仪表盘背景\r\n    this.chart.guide().arc({\r\n      zIndex: 0,\r\n      top: false,\r\n      start: [0, 0.95],\r\n      end: [100, 0.95],\r\n      style: {\r\n        // 底灰色\r\n        stroke: this.bgColor,\r\n        lineWidth: 12,\r\n      },\r\n    });\r\n    // 绘制指标\r\n    this.chart.guide().arc({\r\n      zIndex: 1,\r\n      start: [0, 0.95],\r\n      end: [data[0].value, 0.95],\r\n      style: {\r\n        stroke: this.color,\r\n        lineWidth: 12,\r\n      },\r\n    });\r\n    this.chart.changeData(data);\r\n  }\r\n\r\n  install() {\r\n    this.node.nativeElement.innerHTML = '';\r\n    const Shape = G2.Shape;\r\n    // 自定义Shape 部分\r\n    Shape.registerShape('point', 'pointer', {\r\n      drawShape(cfg, group) {\r\n        let point = cfg.points[0]; // 获取第一个标记点\r\n        point = this.parsePoint(point);\r\n        const center = this.parsePoint({\r\n          // 获取极坐标系下画布中心点\r\n          x: 0,\r\n          y: 0,\r\n        });\r\n        // 绘制指针\r\n        group.addShape('line', {\r\n          attrs: {\r\n            x1: center.x,\r\n            y1: center.y,\r\n            x2: point.x,\r\n            y2: point.y,\r\n            stroke: cfg.color,\r\n            lineWidth: 2,\r\n            lineCap: 'round',\r\n          },\r\n        });\r\n\r\n        const { origin } = cfg;\r\n        group.addShape('text', {\r\n          attrs: {\r\n            x: center.x,\r\n            y: center.y + 80,\r\n            text: `${origin._origin.value}%`,\r\n            textAlign: 'center',\r\n            fontSize: 24,\r\n            fill: 'rgba(0, 0, 0, 0.85)',\r\n          },\r\n        });\r\n        return group.addShape('circle', {\r\n          attrs: {\r\n            x: center.x,\r\n            y: center.y,\r\n            r: 9.75,\r\n            stroke: cfg.color,\r\n            lineWidth: 2,\r\n            fill: '#fff',\r\n          },\r\n        });\r\n      },\r\n    });\r\n\r\n    const data = this.createData();\r\n    const chart = new G2.Chart({\r\n      container: this.node.nativeElement,\r\n      forceFit: true,\r\n      height: this.height,\r\n      padding: [10, 10, 30, 10],\r\n    });\r\n    chart.source(data);\r\n\r\n    chart.coord('polar', {\r\n      startAngle: -1.2 * Math.PI,\r\n      endAngle: 0.2 * Math.PI,\r\n    });\r\n    chart.scale('value', {\r\n      min: 0,\r\n      max: 100,\r\n      nice: true,\r\n      tickCount: 6,\r\n    });\r\n\r\n    chart.axis('1', false);\r\n    // 刻度值\r\n    chart.axis('value', {\r\n      zIndex: 2,\r\n      line: null,\r\n      label: {\r\n        offset: -12,\r\n        formatter: this.format,\r\n      },\r\n      tickLine: null,\r\n      grid: null,\r\n    });\r\n    chart.legend(false);\r\n    chart\r\n      .point({\r\n        generatePoints: true,\r\n      })\r\n      .position('value*1')\r\n      .shape('pointer')\r\n      .color(this.color)\r\n      .active(false);\r\n\r\n    this.chart = chart;\r\n    setTimeout(() => {\r\n      chart.forceFit();\r\n      chart.repaint();\r\n    });\r\n    this.draw();\r\n  }\r\n\r\n  uninstall() {\r\n    if (this.chart) this.chart.destroy();\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    if (this.initFlag) this.draw();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.uninstall();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { G2GaugeComponent } from './gauge.component';\r\n\r\nconst COMPONENTS = [G2GaugeComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2GaugeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2GaugeModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  ChangeDetectorRef,\r\n  ChangeDetectionStrategy,\r\n} from '@angular/core';\r\nimport {\r\n  coerceNumberProperty,\r\n  coerceBooleanProperty,\r\n} from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-mini-area',\r\n  template: `<div #container></div>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class G2MiniAreaComponent implements OnDestroy, OnChanges {\r\n  // region: fields\r\n\r\n  @Input() color = 'rgba(24, 144, 255, 0.2)';\r\n  @Input() borderColor = '#1890FF';\r\n  @Input()\r\n  get borderWidth() {\r\n    return this._borderWidth;\r\n  }\r\n  set borderWidth(value: any) {\r\n    this._borderWidth = coerceNumberProperty(value);\r\n  }\r\n  private _borderWidth = 2;\r\n\r\n  @HostBinding('style.height.px')\r\n  @Input()\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(value: any) {\r\n    this._height = coerceNumberProperty(value);\r\n  }\r\n  private _height;\r\n\r\n  @Input()\r\n  get fit() {\r\n    return this._fit;\r\n  }\r\n  set fit(value: any) {\r\n    this._fit = coerceBooleanProperty(value);\r\n  }\r\n  private _fit = true;\r\n\r\n  @Input()\r\n  get line() {\r\n    return this._line;\r\n  }\r\n  set line(value: any) {\r\n    this._line = coerceBooleanProperty(value);\r\n  }\r\n  private _line = false;\r\n\r\n  @Input()\r\n  get animate() {\r\n    return this._animate;\r\n  }\r\n  set animate(value: any) {\r\n    this._animate = coerceBooleanProperty(value);\r\n  }\r\n  private _animate = true;\r\n\r\n  @Input() xAxis: any;\r\n  @Input() yAxis: any;\r\n  @Input() padding: number[] = [8, 8, 8, 8];\r\n  @Input() data: Array<{ x: number; y: number; [key: string]: any }>;\r\n\r\n  // endregion\r\n\r\n  @ViewChild('container') node: ElementRef;\r\n\r\n  chart: any;\r\n\r\n  constructor(private cd: ChangeDetectorRef) {\r\n    this.cd.detach();\r\n  }\r\n\r\n  install() {\r\n    if (!this.data || (this.data && this.data.length < 1)) return;\r\n\r\n    this.node.nativeElement.innerHTML = '';\r\n\r\n    const chart = new G2.Chart({\r\n      container: this.node.nativeElement,\r\n      forceFit: this.fit,\r\n      height: +this.height,\r\n      animate: this.animate,\r\n      padding: this.padding,\r\n      legend: null,\r\n    });\r\n\r\n    if (!this.xAxis && !this.yAxis) {\r\n      chart.axis(false);\r\n    }\r\n\r\n    if (this.xAxis) {\r\n      chart.axis('x', this.xAxis);\r\n    } else {\r\n      chart.axis('x', false);\r\n    }\r\n\r\n    if (this.yAxis) {\r\n      chart.axis('y', this.yAxis);\r\n    } else {\r\n      chart.axis('y', false);\r\n    }\r\n\r\n    const dataConfig = {\r\n      x: {\r\n        type: 'cat',\r\n        range: [0, 1],\r\n        xAxis: this.xAxis,\r\n      },\r\n      y: {\r\n        min: 0,\r\n        yAxis: this.yAxis,\r\n      },\r\n    };\r\n\r\n    chart.tooltip({\r\n      showTitle: false,\r\n      hideMarkders: false,\r\n      'g2-tooltip': { padding: 4 },\r\n      'g2-tooltip-list-item': { margin: `0px 4px` },\r\n    });\r\n\r\n    const view = chart.view();\r\n    view.source(this.data, dataConfig);\r\n\r\n    view\r\n      .area()\r\n      .position('x*y')\r\n      .color(this.color)\r\n      .tooltip('x*y', (x, y) => {\r\n        return {\r\n          name: x,\r\n          value: y,\r\n        };\r\n      })\r\n      .shape('smooth')\r\n      .style({ fillOpacity: 1 });\r\n\r\n    if (this.line) {\r\n      const view2 = chart.view();\r\n      view2.source(this.data, dataConfig);\r\n      view2\r\n        .line()\r\n        .position('x*y')\r\n        .color(this.borderColor)\r\n        .size(this.borderWidth)\r\n        .shape('smooth');\r\n      view2.tooltip(false);\r\n    }\r\n    chart.render();\r\n    setTimeout(() => {\r\n      chart.forceFit();\r\n      chart.repaint();\r\n    });\r\n    this.chart = chart;\r\n  }\r\n\r\n  uninstall() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = null;\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.install();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.uninstall();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { G2MiniAreaComponent } from './mini-area.component';\r\n\r\nconst COMPONENTS = [G2MiniAreaComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2MiniAreaModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2MiniAreaModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n} from '@angular/core';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-mini-bar',\r\n  template: `<div #container></div>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class G2MiniBarComponent implements OnDestroy, OnChanges {\r\n  // region: fields\r\n\r\n  @Input() color = '#1890FF';\r\n\r\n  @HostBinding('style.height.px')\r\n  @Input()\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(value: any) {\r\n    this._height = coerceNumberProperty(value);\r\n  }\r\n  private _height = 0;\r\n\r\n  @Input()\r\n  get borderWidth() {\r\n    return this._borderWidth;\r\n  }\r\n  set borderWidth(value: any) {\r\n    this._borderWidth = coerceNumberProperty(value);\r\n  }\r\n  private _borderWidth = 5;\r\n\r\n  @Input() padding: number[] = [8, 8, 8, 8];\r\n\r\n  @Input() data: Array<{ x: number; y: number; [key: string]: any }>;\r\n\r\n  // endregion\r\n\r\n  @ViewChild('container') node: ElementRef;\r\n\r\n  chart: any;\r\n\r\n  constructor(private cd: ChangeDetectorRef) {\r\n    this.cd.detach();\r\n  }\r\n\r\n  install() {\r\n    if (!this.data || (this.data && this.data.length < 1)) return;\r\n\r\n    this.node.nativeElement.innerHTML = '';\r\n\r\n    const chart = new G2.Chart({\r\n      container: this.node.nativeElement,\r\n      forceFit: true,\r\n      height: +this.height,\r\n      padding: this.padding,\r\n      legend: null,\r\n    });\r\n\r\n    chart.axis(false);\r\n\r\n    chart.source(this.data, {\r\n      x: {\r\n        type: 'cat',\r\n      },\r\n      y: {\r\n        min: 0,\r\n      },\r\n    });\r\n\r\n    chart.tooltip({\r\n      showTitle: false,\r\n      hideMarkders: false,\r\n      crosshairs: false,\r\n      'g2-tooltip': { padding: 4 },\r\n      'g2-tooltip-list-item': { margin: `0px 4px` },\r\n    });\r\n    chart\r\n      .interval()\r\n      .position('x*y')\r\n      .size(this.borderWidth)\r\n      .color(this.color)\r\n      .tooltip('x*y', (x, y) => {\r\n        return {\r\n          name: x,\r\n          value: y,\r\n        };\r\n      });\r\n\r\n    chart.render();\r\n    setTimeout(() => {\r\n      chart.forceFit();\r\n      chart.repaint();\r\n    });\r\n\r\n    this.chart = chart;\r\n  }\r\n\r\n  uninstall() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = null;\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.install();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.uninstall();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { G2MiniBarComponent } from './mini-bar.component';\r\n\r\nconst COMPONENTS = [G2MiniBarComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2MiniBarModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2MiniBarModule, providers: [] };\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-mini-progress',\r\n  template: `\r\n  <nz-tooltip [nzTitle]=\"'目标值: ' + target + '%'\">\r\n    <div nz-tooltip class=\"target\" [ngStyle]=\"{'left.%': target}\">\r\n      <span [ngStyle]=\"{'background-color': color}\"></span>\r\n      <span [ngStyle]=\"{'background-color': color}\"></span>\r\n    </div>\r\n  </nz-tooltip>\r\n  <div class=\"progress-wrap\">\r\n    <div class=\"progress\" [ngStyle]=\"{'background-color': color, 'width.%': percent, 'height.px':strokeWidth}\"></div>\r\n  </div>\r\n  `,\r\n  host: { '[class.ad-g2-progress]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class G2ProgressComponent {\r\n  // region: fields\r\n\r\n  @Input() color = '#1890FF';\r\n\r\n  @Input()\r\n  get target() {\r\n    return this._target;\r\n  }\r\n  set target(value: any) {\r\n    this._target = Math.min(Math.max(coerceNumberProperty(value), 0), 100);\r\n  }\r\n  private _target: number;\r\n\r\n  @Input()\r\n  get strokeWidth() {\r\n    return this._strokeWidth;\r\n  }\r\n  set strokeWidth(value: any) {\r\n    this._strokeWidth = coerceNumberProperty(value);\r\n  }\r\n  private _strokeWidth: number;\r\n\r\n  @Input()\r\n  get percent() {\r\n    return this._percent;\r\n  }\r\n  set percent(value: any) {\r\n    this._percent = Math.min(Math.max(coerceNumberProperty(value), 0), 100);\r\n  }\r\n  private _percent: number;\r\n\r\n  // endregion\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nimport { G2ProgressComponent } from './mini-progress.component';\r\n\r\nconst COMPONENTS = [G2ProgressComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, NgZorroAntdModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2MiniProgressModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2MiniProgressModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  NgZone,\r\n  TemplateRef,\r\n  OnInit,\r\n  HostListener,\r\n  ViewEncapsulation,\r\n  Output,\r\n  EventEmitter,\r\n  ContentChild,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { FromEventObservable } from 'rxjs/observable/FromEventObservable';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport {\r\n  coerceNumberProperty,\r\n  coerceBooleanProperty,\r\n} from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-pie',\r\n  template: `\r\n  <div class=\"chart\">\r\n    <div #container></div>\r\n    <div *ngIf=\"subTitle || total\" class=\"total\">\r\n      <h4 *ngIf=\"subTitle\" class=\"pie-sub-title\" [innerHTML]=\"subTitle\"></h4>\r\n      <div *ngIf=\"total\" class=\"pie-stat\" [innerHTML]=\"total\"></div>\r\n    </div>\r\n  </div>\r\n  <ul *ngIf=\"hasLegend && legendData?.length\" class=\"legend\">\r\n    <li *ngFor=\"let item of legendData; let index = index\" (click)=\"handleLegendClick(index)\">\r\n      <span class=\"dot\" [ngStyle]=\"{'background-color': !item.checked ? '#aaa' : item.color}\"></span>\r\n      <span class=\"legend-title\">{{item.x}}</span>\r\n      <nz-divider nzType=\"vertical\"></nz-divider>\r\n      <span class=\"percent\">{{item.percent}}%</span>\r\n      <span class=\"value\" [innerHTML]=\"valueFormat ? valueFormat(item.y) : item.y\"></span>\r\n    </li>\r\n  </ul>`,\r\n  host: { '[class.ad-pie]': 'true' },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class G2PieComponent implements OnDestroy, OnChanges, OnInit {\r\n  // region: fields\r\n\r\n  @Input()\r\n  get animate() {\r\n    return this._animate;\r\n  }\r\n  set animate(value: any) {\r\n    this._animate = coerceBooleanProperty(value);\r\n  }\r\n  private _animate = true;\r\n\r\n  @Input() color = 'rgba(24, 144, 255, 0.85)';\r\n  @Input() subTitle: string;\r\n  @Input() total: string;\r\n\r\n  @Input()\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(value: any) {\r\n    this._height = coerceNumberProperty(value);\r\n  }\r\n  private _height = 0;\r\n\r\n  @HostBinding('class.has-legend')\r\n  @Input()\r\n  get hasLegend() {\r\n    return this._hasLegend;\r\n  }\r\n  set hasLegend(value: any) {\r\n    this._hasLegend = coerceBooleanProperty(value);\r\n  }\r\n  private _hasLegend = false;\r\n\r\n  @HostBinding('class.legend-block')\r\n  @Input()\r\n  get legendBlock() {\r\n    return this._legendBlock;\r\n  }\r\n  set legendBlock(value: any) {\r\n    this._legendBlock = coerceBooleanProperty(value);\r\n  }\r\n  private _legendBlock = false;\r\n\r\n  @Input() inner = 0.75;\r\n  @Input() padding: number[] = [12, 0, 12, 0];\r\n\r\n  @Input()\r\n  get percent() {\r\n    return this._percent;\r\n  }\r\n  set percent(value: any) {\r\n    this._percent = coerceNumberProperty(value);\r\n  }\r\n  private _percent: number;\r\n\r\n  @Input()\r\n  get tooltip() {\r\n    return this._tooltip;\r\n  }\r\n  set tooltip(value: any) {\r\n    this._tooltip = coerceBooleanProperty(value);\r\n  }\r\n  private _tooltip = true;\r\n\r\n  @Input()\r\n  get lineWidth() {\r\n    return this._lineWidth;\r\n  }\r\n  set lineWidth(value: any) {\r\n    this._lineWidth = coerceNumberProperty(value);\r\n  }\r\n  private _lineWidth = 0;\r\n\r\n  @Input()\r\n  get select() {\r\n    return this._select;\r\n  }\r\n  set select(value: any) {\r\n    this._select = coerceBooleanProperty(value);\r\n  }\r\n  private _select = true;\r\n\r\n  @Input() data: Array<{ x: number | string; y: number; [key: string]: any }>;\r\n  @Input() valueFormat: Function;\r\n  @Input() colors: any[];\r\n\r\n  // endregion\r\n\r\n  @ViewChild('container') node: ElementRef;\r\n\r\n  chart: any;\r\n  initFlag = false;\r\n  legendData: any[] = [];\r\n\r\n  constructor(private el: ElementRef, private cd: ChangeDetectorRef) {}\r\n\r\n  install() {\r\n    let formatColor;\r\n    if (typeof this.percent !== 'undefined') {\r\n      this.select = false;\r\n      this.tooltip = false;\r\n      formatColor = value =>\r\n        value === '占比' ? this.color || 'rgba(24, 144, 255, 0.85)' : '#F0F2F5';\r\n\r\n      /* eslint no-param-reassign: */\r\n      this.data = [\r\n        {\r\n          x: '占比',\r\n          y: +this.percent,\r\n        },\r\n        {\r\n          x: '反比',\r\n          y: 100 - +this.percent,\r\n        },\r\n      ];\r\n    }\r\n\r\n    if (!this.data || (this.data && this.data.length < 1)) return;\r\n\r\n    this.node.nativeElement.innerHTML = '';\r\n\r\n    const chart = new G2.Chart({\r\n      container: this.node.nativeElement,\r\n      forceFit: true,\r\n      height: this.height,\r\n      padding: this.padding,\r\n      animate: this.animate,\r\n    });\r\n\r\n    if (!this.tooltip) {\r\n      chart.tooltip(false);\r\n    } else {\r\n      chart.tooltip({\r\n        showTitle: false,\r\n        itemTpl:\r\n          '<li><span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>{name}: {value} %</li>',\r\n      });\r\n    }\r\n\r\n    chart.axis(false);\r\n    chart.legend(false);\r\n\r\n    const dv = new DataSet.DataView();\r\n    dv.source(this.data).transform({\r\n      type: 'percent',\r\n      field: 'y',\r\n      dimension: 'x',\r\n      as: 'percent',\r\n    });\r\n    chart.source(dv, {\r\n      x: {\r\n        type: 'cat',\r\n        range: [0, 1],\r\n      },\r\n      y: {\r\n        min: 0,\r\n      },\r\n    });\r\n\r\n    chart.coord('theta', { innerRadius: this.inner });\r\n\r\n    chart\r\n      .intervalStack()\r\n      .position('y')\r\n      .style({ lineWidth: this.lineWidth, stroke: '#fff' })\r\n      .tooltip('x*percent', (item, percent) => {\r\n        return {\r\n          name: item,\r\n          value: percent,\r\n        };\r\n      })\r\n      .color('x', this.percent ? formatColor : this.colors)\r\n      .select(this.select);\r\n\r\n    chart.render();\r\n    setTimeout(() => {\r\n      chart.forceFit();\r\n      chart.repaint();\r\n    });\r\n\r\n    this.chart = chart;\r\n    if (this.hasLegend) {\r\n      this.legendData = chart\r\n        .getAllGeoms()[0]\r\n        ._attrs.dataArray.map((item: any) => {\r\n          const origin = item[0]._origin;\r\n          origin.color = item[0].color;\r\n          origin.checked = true;\r\n          origin.percent = (origin.percent * 100).toFixed(2);\r\n          return origin;\r\n        });\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n\r\n  uninstall() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = null;\r\n    }\r\n  }\r\n\r\n  handleLegendClick(i: number) {\r\n    this.legendData[i].checked = !this.legendData[i].checked;\r\n\r\n    if (this.chart) {\r\n      this.chart.filter('x', (val: any, item: any) => item.checked);\r\n      this.chart.repaint();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initFlag = true;\r\n    setTimeout(() => this.install(), 100);\r\n    this.installResizeEvent();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (this.initFlag) this.install();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.uninstallResizeEvent();\r\n    this.uninstall();\r\n  }\r\n\r\n  // region: resize\r\n\r\n  private scroll$: Subscription = null;\r\n  private installResizeEvent() {\r\n    if (!this.hasLegend) return;\r\n\r\n    this.scroll$ = <any>FromEventObservable.create(window, 'resize')\r\n      .pipe(debounceTime(200))\r\n      .subscribe(() => this.resize());\r\n  }\r\n\r\n  private uninstallResizeEvent() {\r\n    if (this.scroll$) this.scroll$.unsubscribe();\r\n  }\r\n\r\n  resize() {\r\n    if (this.el.nativeElement.clientWidth <= 380) {\r\n      if (!this.legendBlock) {\r\n        this.legendBlock = true;\r\n      }\r\n    } else if (this.legendBlock) {\r\n      this.legendBlock = false;\r\n    }\r\n    if (!this.chart) this.install();\r\n  }\r\n\r\n  // endregion\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nimport { G2PieComponent } from './pie.component';\r\n\r\nconst COMPONENTS = [G2PieComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, NgZorroAntdModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2PieModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2PieModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  NgZone,\r\n  TemplateRef,\r\n  OnInit,\r\n  HostListener,\r\n  Output,\r\n  EventEmitter,\r\n  ContentChild,\r\n  SimpleChange,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n} from '@angular/core';\r\nimport {\r\n  coerceNumberProperty,\r\n  coerceBooleanProperty,\r\n} from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-radar',\r\n  template: `\r\n  <h4 *ngIf=\"_title; else _titleTpl\">{{ _title }}</h4>\r\n  <div #container></div>\r\n  <div nz-row class=\"legend\" *ngIf=\"hasLegend\">\r\n    <div nz-col [nzSpan]=\"24 / legendData.length\" *ngFor=\"let i of legendData; let idx = index\" (click)=\"handleLegendClick(idx)\">\r\n      <div class=\"legend-item\">\r\n        <p>\r\n          <i class=\"dot\" [ngStyle]=\"{'background-color': !i.checked ? '#aaa' : i.color}\"></i>\r\n          <span>{{i.name}}</span>\r\n        </p>\r\n        <h6>{{i.value}}</h6>\r\n      </div>\r\n    </div>\r\n  </div>`,\r\n  host: { '[class.ad-radar]': 'true' },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class G2RadarComponent implements OnDestroy, OnChanges, OnInit {\r\n  // region: fields\r\n\r\n  _title = '';\r\n  _titleTpl: TemplateRef<any>;\r\n  @Input()\r\n  set title(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._title = null;\r\n      this._titleTpl = value;\r\n    } else this._title = value;\r\n  }\r\n\r\n  @HostBinding('style.height.px')\r\n  @Input()\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(value: any) {\r\n    this._height = coerceNumberProperty(value);\r\n  }\r\n  private _height = 0;\r\n\r\n  @Input() padding: number[] = [44, 30, 16, 30];\r\n\r\n  @Input()\r\n  get hasLegend() {\r\n    return this._hasLegend;\r\n  }\r\n  set hasLegend(value: any) {\r\n    this._hasLegend = coerceBooleanProperty(value);\r\n  }\r\n  private _hasLegend = true;\r\n\r\n  @Input()\r\n  get tickCount() {\r\n    return this._tickCount;\r\n  }\r\n  set tickCount(value: any) {\r\n    this._tickCount = coerceNumberProperty(value);\r\n  }\r\n  private _tickCount = 4;\r\n\r\n  @Input()\r\n  data: Array<{\r\n    name: string;\r\n    label: string;\r\n    value: number;\r\n    [key: string]: any;\r\n  }> = [];\r\n\r\n  // endregion\r\n\r\n  @ViewChild('container') node: ElementRef;\r\n\r\n  chart: any;\r\n  initFlag = false;\r\n  legendData: any[] = [];\r\n\r\n  constructor(private el: ElementRef, private cd: ChangeDetectorRef) {}\r\n\r\n  handleLegendClick(i: number) {\r\n    this.legendData[i].checked = !this.legendData[i].checked;\r\n\r\n    if (this.chart) {\r\n      // const filterItem = this.legendData.filter(l => l.checked).map(l => l.name);\r\n      this.chart.filter(\r\n        'name',\r\n        (val: any) => this.legendData.find(w => w.name === val).checked,\r\n      );\r\n      this.chart.repaint();\r\n    }\r\n  }\r\n\r\n  install() {\r\n    if (!this.data || (this.data && this.data.length < 1)) return;\r\n\r\n    this.node.nativeElement.innerHTML = '';\r\n\r\n    const colors = [\r\n      '#1890FF',\r\n      '#FACC14',\r\n      '#2FC25B',\r\n      '#8543E0',\r\n      '#F04864',\r\n      '#13C2C2',\r\n      '#fa8c16',\r\n      '#a0d911',\r\n    ];\r\n\r\n    const chart = new G2.Chart({\r\n      container: this.node.nativeElement,\r\n      forceFit: true,\r\n      height: +this.height - (this.hasLegend ? 80 : 22),\r\n      padding: this.padding,\r\n    });\r\n    chart.source(this.data, {\r\n      value: {\r\n        min: 0,\r\n        tickCount: this.tickCount,\r\n      },\r\n    });\r\n\r\n    chart.coord('polar');\r\n    chart.legend(false);\r\n\r\n    chart.axis('label', {\r\n      line: null,\r\n      labelOffset: 8,\r\n      labels: {\r\n        label: {\r\n          fill: 'rgba(0, 0, 0, .65)',\r\n        },\r\n      },\r\n      grid: {\r\n        line: {\r\n          stroke: '#e9e9e9',\r\n          lineWidth: 1,\r\n          lineDash: [0, 0],\r\n        },\r\n      },\r\n    });\r\n\r\n    chart.axis('value', {\r\n      grid: {\r\n        type: 'polygon',\r\n        line: {\r\n          stroke: '#e9e9e9',\r\n          lineWidth: 1,\r\n          lineDash: [0, 0],\r\n        },\r\n      },\r\n      labels: {\r\n        label: {\r\n          fill: 'rgba(0, 0, 0, .65)',\r\n        },\r\n      },\r\n    });\r\n\r\n    chart\r\n      .line()\r\n      .position('label*value')\r\n      .color('name', colors);\r\n    chart\r\n      .point()\r\n      .position('label*value')\r\n      .color('name', colors)\r\n      .shape('circle')\r\n      .size(3);\r\n\r\n    chart.render();\r\n    setTimeout(() => {\r\n      chart.forceFit();\r\n      chart.repaint();\r\n    });\r\n\r\n    this.chart = chart;\r\n\r\n    if (this.hasLegend) {\r\n      this.legendData = chart\r\n        .getAllGeoms()[0]\r\n        ._attrs.dataArray.map((item: any) => {\r\n          const origin = item[0]._origin;\r\n          const result = {\r\n            name: origin.name,\r\n            color: item[0].color,\r\n            checked: true,\r\n            value: item.reduce((p, n) => p + n._origin.value, 0),\r\n          };\r\n\r\n          return result;\r\n        });\r\n      this.cd.detectChanges();\r\n    }\r\n  }\r\n\r\n  uninstall() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = null;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initFlag = true;\r\n    this.install();\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    if (this.initFlag) this.install();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.uninstall();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nimport { G2RadarComponent } from './radar.component';\r\n\r\nconst COMPONENTS = [G2RadarComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, NgZorroAntdModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2RadarModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2RadarModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  NgZone,\r\n  TemplateRef,\r\n  OnInit,\r\n  HostListener,\r\n  ViewEncapsulation,\r\n  SimpleChange,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { FromEventObservable } from 'rxjs/observable/FromEventObservable';\r\nimport {\r\n  coerceNumberProperty,\r\n  coerceBooleanProperty,\r\n} from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-tag-cloud',\r\n  template: `<div #container [ngStyle]=\"{'height.px': height}\"></div>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class G2TagCloudComponent implements OnDestroy, OnChanges, OnInit {\r\n  // region: fields\r\n\r\n  @Input() color = 'rgba(24, 144, 255, 0.85)';\r\n\r\n  @Input()\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(value: any) {\r\n    this._height = coerceNumberProperty(value);\r\n    this.cd.detectChanges();\r\n  }\r\n  private _height = 0;\r\n\r\n  @Input() padding = 0;\r\n  @Input() data: { name: string; value: number; [key: string]: any }[];\r\n\r\n  @Input()\r\n  get autoLabel() {\r\n    return this._autoLabel;\r\n  }\r\n  set autoLabel(value: any) {\r\n    this._autoLabel = coerceBooleanProperty(value);\r\n  }\r\n  private _autoLabel = true;\r\n\r\n  // endregion\r\n\r\n  @ViewChild('container') node: ElementRef;\r\n\r\n  chart: any;\r\n  initFlag = false;\r\n\r\n  constructor(private el: ElementRef, private cd: ChangeDetectorRef) {}\r\n\r\n  private initTagCloud() {\r\n    // 给point注册一个词云的shape\r\n    G2.Shape.registerShape('point', 'cloud', {\r\n      drawShape(cfg, container) {\r\n        const attrs = Object.assign(\r\n          {},\r\n          {\r\n            fillOpacity: cfg.opacity,\r\n            fontSize: cfg.origin._origin.size,\r\n            rotate: cfg.origin._origin.rotate,\r\n            text: cfg.origin._origin.text,\r\n            textAlign: 'center',\r\n            fontFamily: cfg.origin._origin.font,\r\n            fill: cfg.color,\r\n            textBaseline: 'Alphabetic',\r\n          },\r\n          cfg.style,\r\n        );\r\n        return container.addShape('text', {\r\n          attrs: Object.assign(attrs, {\r\n            x: cfg.x,\r\n            y: cfg.y,\r\n          }),\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  renderChart() {\r\n    if (!this.data || (this.data && this.data.length < 1)) return;\r\n\r\n    this.node.nativeElement.innerHTML = '';\r\n    const dv = new DataSet.View().source(this.data);\r\n    const range = dv.range('value');\r\n    const min = range[0];\r\n    const max = range[1];\r\n    const height = +this.height;\r\n    const width = +this.el.nativeElement.offsetWidth;\r\n\r\n    dv.transform({\r\n      type: 'tag-cloud',\r\n      fields: ['name', 'value'],\r\n      size: [width, height],\r\n      padding: this.padding,\r\n      timeInterval: 5000, // max execute time\r\n      rotate() {\r\n        let random = ~~(Math.random() * 4) % 4;\r\n        if (random === 2) {\r\n          random = 0;\r\n        }\r\n        return random * 90; // 0, 90, 270\r\n      },\r\n      fontSize(d) {\r\n        if (d.value) {\r\n          return (d.value - min) / (max - min) * (80 - 24) + 24;\r\n        }\r\n        return 0;\r\n      },\r\n    });\r\n    const chart = new G2.Chart({\r\n      container: this.node.nativeElement,\r\n      width: width,\r\n      height: height,\r\n      padding: this.padding,\r\n      forceFit: true,\r\n    });\r\n    chart.source(dv, {\r\n      x: { nice: false },\r\n      y: { nice: false },\r\n    });\r\n    chart.legend(false);\r\n    chart.axis(false);\r\n    chart.tooltip({\r\n      showTitle: false,\r\n    });\r\n    chart.coord().reflect();\r\n    chart\r\n      .point()\r\n      .position('x*y')\r\n      .color('text')\r\n      .shape('cloud')\r\n      .tooltip('value*category');\r\n\r\n    chart.render();\r\n    setTimeout(() => {\r\n      chart.forceFit();\r\n      chart.repaint();\r\n    });\r\n\r\n    this.chart = chart;\r\n  }\r\n\r\n  uninstall() {\r\n    if (this.chart) {\r\n      this.chart.destroy();\r\n      this.chart = null;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initFlag = true;\r\n    this.initTagCloud();\r\n    this.renderChart();\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    if (this.initFlag) this.renderChart();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.uninstall();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nimport { G2TagCloudComponent } from './tag-cloud.component';\r\n\r\nconst COMPONENTS = [G2TagCloudComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, NgZorroAntdModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2TagCloudModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2TagCloudModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  NgZone,\r\n  OnInit,\r\n  TemplateRef,\r\n  SimpleChange,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n} from '@angular/core';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-timeline',\r\n  template: `\r\n  <ng-container *ngIf=\"_title; else _titleTpl\"><h4>{{_title}}</h4></ng-container>\r\n  <div #container></div>\r\n  <div #slider></div>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class G2TimelineComponent implements OnDestroy, OnChanges, OnInit {\r\n  // region: fields\r\n\r\n  _title = '';\r\n  _titleTpl: TemplateRef<any>;\r\n  @Input()\r\n  set title(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._title = null;\r\n      this._titleTpl = value;\r\n    } else this._title = value;\r\n  }\r\n\r\n  @Input() data: Array<{ x: Date; y1: number; y2: number; [key: string]: any }>;\r\n  @Input() titleMap: { y1: string; y2: string };\r\n  @Input()\r\n  colorMap: { y1: string; y2: string } = { y1: '#1890FF', y2: '#2FC25B' };\r\n\r\n  @Input()\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(value: any) {\r\n    this._height = coerceNumberProperty(value);\r\n  }\r\n  private _height = 400;\r\n\r\n  @Input() padding: number[] = [60, 20, 40, 40];\r\n\r\n  @Input()\r\n  get borderWidth() {\r\n    return this._borderWidth;\r\n  }\r\n  set borderWidth(value: any) {\r\n    this._borderWidth = coerceNumberProperty(value);\r\n  }\r\n  private _borderWidth = 2;\r\n\r\n  // endregion\r\n\r\n  @ViewChild('container') node: ElementRef;\r\n  @ViewChild('slider') sliderNode: ElementRef;\r\n\r\n  chart: any;\r\n  initFlag = false;\r\n  slider: any;\r\n\r\n  constructor(private cd: ChangeDetectorRef) {\r\n    cd.detach();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initFlag = true;\r\n    this.install();\r\n  }\r\n\r\n  install() {\r\n    if (!this.data || (this.data && this.data.length < 1)) return;\r\n\r\n    // clean\r\n    this.sliderNode.nativeElement.innerHTML = '';\r\n    this.node.nativeElement.innerHTML = '';\r\n\r\n    const MAX = 8;\r\n    const begin = this.data.length > MAX ? (this.data.length - MAX) / 2 : 0;\r\n\r\n    const ds = new DataSet({\r\n      state: {\r\n        start: this.data[begin - 1].x,\r\n        end: this.data[begin - 1 + MAX].x,\r\n      },\r\n    });\r\n    const dv = ds.createView().source(this.data);\r\n    dv.source(this.data).transform({\r\n      type: 'filter',\r\n      callback(obj) {\r\n        const time = new Date(obj.x).getTime(); // !注意：时间格式，建议转换为时间戳进行比较\r\n        return time >= ds.state.start && time <= ds.state.end;\r\n      },\r\n    });\r\n\r\n    const chart = new G2.Chart({\r\n      container: this.node.nativeElement,\r\n      forceFit: true,\r\n      height: +this.height,\r\n      padding: this.padding,\r\n    });\r\n    chart.axis('x', { title: false });\r\n    chart.axis('y1', {\r\n      title: false,\r\n    });\r\n    chart.axis('y2', false);\r\n\r\n    let max;\r\n    if (this.data[0] && this.data[0].y1 && this.data[0].y2) {\r\n      max = Math.max(\r\n        this.data.sort((a, b) => b.y1 - a.y1)[0].y1,\r\n        this.data.sort((a, b) => b.y2 - a.y2)[0].y2,\r\n      );\r\n    }\r\n    chart.source(dv, {\r\n      x: {\r\n        type: 'timeCat',\r\n        tickCount: MAX,\r\n        mask: 'HH:mm',\r\n        range: [0, 1],\r\n      },\r\n      y1: {\r\n        alias: this.titleMap.y1,\r\n        max,\r\n        min: 0,\r\n      },\r\n      y2: {\r\n        alias: this.titleMap.y2,\r\n        max,\r\n        min: 0,\r\n      },\r\n    });\r\n\r\n    chart.legend({\r\n      position: 'top',\r\n      custom: true,\r\n      clickable: false,\r\n      items: [\r\n        { value: this.titleMap.y1, fill: this.colorMap.y1 },\r\n        { value: this.titleMap.y2, fill: this.colorMap.y2 },\r\n      ],\r\n    });\r\n\r\n    chart\r\n      .line()\r\n      .position('x*y1')\r\n      .color(this.colorMap.y1)\r\n      .size(this.borderWidth);\r\n    chart\r\n      .line()\r\n      .position('x*y2')\r\n      .color(this.colorMap.y2)\r\n      .size(this.borderWidth);\r\n    chart.render();\r\n    setTimeout(() => {\r\n      chart.forceFit();\r\n      chart.repaint();\r\n    }, 60);\r\n\r\n    const sliderPadding = Object.assign([], this.padding);\r\n    sliderPadding[0] = 0;\r\n    const slider = new Slider({\r\n      container: this.sliderNode.nativeElement,\r\n      height: 26,\r\n      padding: sliderPadding,\r\n      scales: {\r\n        x: {\r\n          type: 'time',\r\n          tickCount: 16,\r\n          mask: 'HH:MM',\r\n        },\r\n      },\r\n      backgroundChart: {\r\n        type: 'line',\r\n      },\r\n      start: ds.state.start,\r\n      end: ds.state.end,\r\n      xAxis: 'x',\r\n      yAxis: 'y1',\r\n      data: this.data,\r\n      onChange({ startValue, endValue }) {\r\n        ds.setState('start', startValue);\r\n        ds.setState('end', endValue);\r\n      },\r\n    });\r\n    slider.render();\r\n    setTimeout(() => {\r\n      slider.forceFit();\r\n      slider.repaint();\r\n    }, 60);\r\n\r\n    this.chart = chart;\r\n    this.slider = slider;\r\n  }\r\n\r\n  uninstall() {\r\n    if (this.chart) this.chart.destroy();\r\n    if (this.slider) this.slider.destroy();\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    if (this.initFlag) this.install();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.uninstall();\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nimport { G2TimelineComponent } from './timeline.component';\r\n\r\nconst COMPONENTS = [G2TimelineComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, NgZorroAntdModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2TimelineModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2TimelineModule, providers: [] };\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  HostBinding,\r\n  ViewChild,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  NgZone,\r\n  TemplateRef,\r\n  OnInit,\r\n  HostListener,\r\n  ViewEncapsulation,\r\n  Renderer2,\r\n  SimpleChange,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n} from '@angular/core';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { debounceTime } from 'rxjs/operators';\r\nimport { FromEventObservable } from 'rxjs/observable/FromEventObservable';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'g2-water-wave',\r\n  template: `\r\n  <div [ngStyle]=\"{'height.px': height, 'width.px': height, 'overflow': 'hidden'}\">\r\n    <canvas #container class=\"canvas-wrap\" width=\"{{height*2}}\" height=\"{{height*2}}\"></canvas>\r\n  </div>\r\n  <div class=\"text\" [ngStyle]=\"{'width.px': height}\">\r\n    <ng-container *ngIf=\"_title; else _titleTpl\"><span>{{_title}}</span></ng-container>\r\n    <h4>{{percent}}%</h4>\r\n  </div>`,\r\n  host: { '[class.ad-water-wave]': 'true' },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  preserveWhitespaces: false,\r\n})\r\nexport class G2WaterWaveComponent implements OnDestroy, OnChanges, OnInit {\r\n  // region: fields\r\n\r\n  _title = '';\r\n  _titleTpl: TemplateRef<any>;\r\n  @Input()\r\n  set title(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._title = null;\r\n      this._titleTpl = value;\r\n    } else this._title = value;\r\n  }\r\n\r\n  @Input() color = '#1890FF';\r\n\r\n  @Input()\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(value: any) {\r\n    this._height = coerceNumberProperty(value);\r\n  }\r\n  private _height = 160;\r\n\r\n  @Input()\r\n  get percent() {\r\n    return this._percent;\r\n  }\r\n  set percent(value: any) {\r\n    this._percent = coerceNumberProperty(value);\r\n  }\r\n  private _percent: number;\r\n\r\n  // endregion\r\n\r\n  @ViewChild('container') node: ElementRef;\r\n\r\n  initFlag = false;\r\n  timer: any;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    private cd: ChangeDetectorRef,\r\n  ) {}\r\n\r\n  renderChart() {\r\n    const data = this.percent / 100;\r\n    if (!data) return;\r\n\r\n    this.node.nativeElement.innerHTML = '';\r\n    const self = this;\r\n\r\n    const canvas = this.node.nativeElement as HTMLCanvasElement;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    const canvasWidth = canvas.width;\r\n    const canvasHeight = canvas.height;\r\n    const radius = canvasWidth / 2;\r\n    const lineWidth = 2;\r\n    const cR = radius - lineWidth;\r\n\r\n    ctx.beginPath();\r\n    ctx.lineWidth = lineWidth * 2;\r\n\r\n    const axisLength = canvasWidth - lineWidth;\r\n    const unit = axisLength / 8;\r\n    const range = 0.2; // 振幅\r\n    let currRange = range;\r\n    const xOffset = lineWidth;\r\n    let sp = 0; // 周期偏移量\r\n    let currData = 0;\r\n    const waveupsp = 0.005; // 水波上涨速度\r\n\r\n    let arcStack = [];\r\n    const bR = radius - lineWidth;\r\n    const circleOffset = -(Math.PI / 2);\r\n    let circleLock = true;\r\n\r\n    for (\r\n      let i = circleOffset;\r\n      i < circleOffset + 2 * Math.PI;\r\n      i += 1 / (8 * Math.PI)\r\n    ) {\r\n      arcStack.push([radius + bR * Math.cos(i), radius + bR * Math.sin(i)]);\r\n    }\r\n\r\n    const cStartPoint = arcStack.shift();\r\n    ctx.strokeStyle = this.color;\r\n    ctx.moveTo(cStartPoint[0], cStartPoint[1]);\r\n\r\n    function drawSin() {\r\n      ctx.beginPath();\r\n      ctx.save();\r\n\r\n      const sinStack = [];\r\n      for (let i = xOffset; i <= xOffset + axisLength; i += 20 / axisLength) {\r\n        const x = sp + (xOffset + i) / unit;\r\n        const y = Math.sin(x) * currRange;\r\n        const dx = i;\r\n        const dy = 2 * cR * (1 - currData) + (radius - cR) - unit * y;\r\n\r\n        ctx.lineTo(dx, dy);\r\n        sinStack.push([dx, dy]);\r\n      }\r\n\r\n      const startPoint = sinStack.shift();\r\n\r\n      ctx.lineTo(xOffset + axisLength, canvasHeight);\r\n      ctx.lineTo(xOffset, canvasHeight);\r\n      ctx.lineTo(startPoint[0], startPoint[1]);\r\n\r\n      const gradient = ctx.createLinearGradient(0, 0, 0, canvasHeight);\r\n      gradient.addColorStop(0, '#ffffff');\r\n      gradient.addColorStop(1, '#1890FF');\r\n      ctx.fillStyle = gradient;\r\n      ctx.fill();\r\n      ctx.restore();\r\n    }\r\n\r\n    function render() {\r\n      ctx.clearRect(0, 0, canvasWidth, canvasHeight);\r\n      if (circleLock) {\r\n        if (arcStack.length) {\r\n          const temp = arcStack.shift();\r\n          ctx.lineTo(temp[0], temp[1]);\r\n          ctx.stroke();\r\n        } else {\r\n          circleLock = false;\r\n          ctx.lineTo(cStartPoint[0], cStartPoint[1]);\r\n          ctx.stroke();\r\n          arcStack = null;\r\n\r\n          ctx.globalCompositeOperation = 'destination-over';\r\n          ctx.beginPath();\r\n          ctx.lineWidth = lineWidth;\r\n          ctx.arc(radius, radius, bR, 0, 2 * Math.PI, true);\r\n\r\n          ctx.beginPath();\r\n          ctx.save();\r\n          ctx.arc(radius, radius, radius - 3 * lineWidth, 0, 2 * Math.PI, true);\r\n\r\n          ctx.restore();\r\n          ctx.clip();\r\n          ctx.fillStyle = '#1890FF';\r\n        }\r\n      } else {\r\n        if (data >= 0.85) {\r\n          if (currRange > range / 4) {\r\n            const t = range * 0.01;\r\n            currRange -= t;\r\n          }\r\n        } else if (data <= 0.1) {\r\n          if (currRange < range * 1.5) {\r\n            const t = range * 0.01;\r\n            currRange += t;\r\n          }\r\n        } else {\r\n          if (currRange <= range) {\r\n            const t = range * 0.01;\r\n            currRange += t;\r\n          }\r\n          if (currRange >= range) {\r\n            const t = range * 0.01;\r\n            currRange -= t;\r\n          }\r\n        }\r\n        if (data - currData > 0) {\r\n          currData += waveupsp;\r\n        }\r\n        if (data - currData < 0) {\r\n          currData -= waveupsp;\r\n        }\r\n\r\n        sp += 0.07;\r\n        drawSin();\r\n      }\r\n      self.timer = requestAnimationFrame(render);\r\n    }\r\n\r\n    render();\r\n  }\r\n\r\n  uninstall() {}\r\n\r\n  private updateRadio(radio: number) {\r\n    this.renderer.setStyle(\r\n      this.el.nativeElement,\r\n      'transform',\r\n      `scale(${radio})`,\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initFlag = true;\r\n    this.cd.detectChanges();\r\n    this.updateRadio(1);\r\n    this.installResizeEvent();\r\n    setTimeout(() => this.resize(), 130);\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    if (this.initFlag) {\r\n      this.cd.detectChanges();\r\n      this.renderChart();\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.timer) cancelAnimationFrame(this.timer);\r\n    this.uninstallResizeEvent();\r\n    this.uninstall();\r\n  }\r\n\r\n  // region: resize\r\n\r\n  private autoHideXLabels = false;\r\n  private scroll$: Subscription = null;\r\n  private installResizeEvent() {\r\n    if (this.scroll$) return;\r\n\r\n    this.scroll$ = <any>FromEventObservable.create(window, 'resize')\r\n      .pipe(debounceTime(500))\r\n      .subscribe(() => this.resize());\r\n  }\r\n\r\n  private uninstallResizeEvent() {\r\n    if (this.scroll$) this.scroll$.unsubscribe();\r\n  }\r\n\r\n  resize() {\r\n    const { offsetWidth } = this.el.nativeElement.parentNode;\r\n    this.updateRadio(offsetWidth < this.height ? offsetWidth / this.height : 1);\r\n    this.renderChart();\r\n  }\r\n\r\n  // endregion\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgZorroAntdModule } from 'ng-zorro-antd';\r\n\r\nimport { G2WaterWaveComponent } from './water-wave.component';\r\n\r\nconst COMPONENTS = [G2WaterWaveComponent];\r\n\r\n@NgModule({\r\n  imports: [CommonModule, NgZorroAntdModule],\r\n  declarations: [...COMPONENTS],\r\n  exports: [...COMPONENTS],\r\n})\r\nexport class AdG2WaterWaveModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: AdG2WaterWaveModule, providers: [] };\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\n// region: all modules\r\nimport { AdErrorCollectModule } from './error-collect/error-collect.module';\r\nimport { AdFooterToolbarModule } from './footer-toolbar/footer-toolbar.module';\r\nimport { AdSidebarNavModule } from './sidebar-nav/sidebar-nav.module';\r\nimport { AdDownFileModule } from './down-file/down-file.module';\r\nimport { AdImageModule } from './image/image.module';\r\nimport { AdAvatarListModule } from './avatar-list/avatar-list.module';\r\nimport { AdDescListModule } from './desc-list/desc-list.module';\r\nimport { AdEllipsisModule } from './ellipsis/ellipsis.module';\r\nimport { AdGlobalFooterModule } from './global-footer/global-footer.module';\r\nimport { AdExceptionModule } from './exception/exception.module';\r\nimport { AdNoticeIconModule } from './notice-icon/notice-icon.module';\r\nimport { AdNumberInfoModule } from './number-info/number-info.module';\r\nimport { AdPageHeaderModule } from './page-header/page-header.module';\r\nimport { AdResultModule } from './result/result.module';\r\nimport { AdStandardFormRowModule } from './standard-form-row/standard-form-row.module';\r\nimport { AdTagSelectModule } from './tag-select/tag-select.module';\r\nimport { AdTrendModule } from './trend/trend.module';\r\nimport { AdCountDownModule } from './count-down/count-down.module';\r\nimport { AdSimpleTableModule } from './simple-table/simple-table.module';\r\nimport { AdReuseTabModule } from './reuse-tab/reuse-tab.module';\r\nimport { AdFullContentModule } from './full-content/full-content.module';\r\nimport { AdXlsxModule } from './xlsx/xlsx.module';\r\nimport { AdZipModule } from './zip/zip.module';\r\nimport { AdNumberToChineseModule } from './number-to-chinese/number-to-chinese.module';\r\nimport { AdLodopModule } from './lodop/lodop.module';\r\nimport { AdQuickMenuModule } from './quick-menu/quick-menu.module';\r\nimport { AdQRModule } from './qr/qr.module';\r\n// charts\r\nimport { AdG2BarModule } from './charts/bar/bar.module';\r\nimport { AdG2CardModule } from './charts/card/card.module';\r\nimport { AdG2ChartModule } from './charts/chart/chart.module';\r\nimport { AdG2GaugeModule } from './charts/gauge/gauge.module';\r\nimport { AdG2MiniAreaModule } from './charts/mini-area/mini-area.module';\r\nimport { AdG2MiniBarModule } from './charts/mini-bar/mini-bar.module';\r\nimport { AdG2MiniProgressModule } from './charts/mini-progress/mini-progress.module';\r\nimport { AdG2PieModule } from './charts/pie/pie.module';\r\nimport { AdG2RadarModule } from './charts/radar/radar.module';\r\nimport { AdG2TagCloudModule } from './charts/tag-cloud/tag-cloud.module';\r\nimport { AdG2TimelineModule } from './charts/timeline/timeline.module';\r\nimport { AdG2WaterWaveModule } from './charts/water-wave/water-wave.module';\r\n\r\nconst MODULES = [\r\n  AdErrorCollectModule,\r\n  AdFooterToolbarModule,\r\n  AdSidebarNavModule,\r\n  AdDownFileModule,\r\n  AdImageModule,\r\n  AdAvatarListModule,\r\n  AdDescListModule,\r\n  AdEllipsisModule,\r\n  AdGlobalFooterModule,\r\n  AdExceptionModule,\r\n  AdNoticeIconModule,\r\n  AdNumberInfoModule,\r\n  AdPageHeaderModule,\r\n  AdResultModule,\r\n  AdStandardFormRowModule,\r\n  AdTagSelectModule,\r\n  AdTrendModule,\r\n  AdCountDownModule,\r\n  AdSimpleTableModule,\r\n  AdReuseTabModule,\r\n  AdFullContentModule,\r\n  AdXlsxModule,\r\n  AdZipModule,\r\n  AdNumberToChineseModule,\r\n  AdLodopModule,\r\n  AdQuickMenuModule,\r\n  AdQRModule,\r\n  // charts\r\n  AdG2BarModule,\r\n  AdG2CardModule,\r\n  AdG2ChartModule,\r\n  AdG2GaugeModule,\r\n  AdG2MiniAreaModule,\r\n  AdG2MiniBarModule,\r\n  AdG2MiniProgressModule,\r\n  AdG2PieModule,\r\n  AdG2RadarModule,\r\n  AdG2TagCloudModule,\r\n  AdG2TimelineModule,\r\n  AdG2WaterWaveModule,\r\n];\r\n\r\n// endregion\r\n\r\n@NgModule({\r\n  imports: [\r\n    AdErrorCollectModule.forRoot(),\r\n    AdFooterToolbarModule.forRoot(),\r\n    AdSidebarNavModule.forRoot(),\r\n    AdDownFileModule.forRoot(),\r\n    AdImageModule.forRoot(),\r\n    AdAvatarListModule.forRoot(),\r\n    AdDescListModule.forRoot(),\r\n    AdEllipsisModule.forRoot(),\r\n    AdExceptionModule.forRoot(),\r\n    AdExceptionModule.forRoot(),\r\n    AdNoticeIconModule.forRoot(),\r\n    AdNumberInfoModule.forRoot(),\r\n    AdPageHeaderModule.forRoot(),\r\n    AdResultModule.forRoot(),\r\n    AdStandardFormRowModule.forRoot(),\r\n    AdTagSelectModule.forRoot(),\r\n    AdTrendModule.forRoot(),\r\n    AdCountDownModule.forRoot(),\r\n    AdSimpleTableModule.forRoot(),\r\n    AdReuseTabModule.forRoot(),\r\n    AdFullContentModule.forRoot(),\r\n    AdXlsxModule.forRoot(),\r\n    AdZipModule.forRoot(),\r\n    AdNumberToChineseModule.forRoot(),\r\n    AdLodopModule.forRoot(),\r\n    AdQuickMenuModule.forRoot(),\r\n    AdQRModule.forRoot(),\r\n    // charts\r\n    AdG2BarModule.forRoot(),\r\n    AdG2CardModule.forRoot(),\r\n    AdG2ChartModule.forRoot(),\r\n    AdG2GaugeModule.forRoot(),\r\n    AdG2MiniAreaModule.forRoot(),\r\n    AdG2MiniBarModule.forRoot(),\r\n    AdG2MiniProgressModule.forRoot(),\r\n    AdG2PieModule.forRoot(),\r\n    AdG2RadarModule.forRoot(),\r\n    AdG2TagCloudModule.forRoot(),\r\n    AdG2TimelineModule.forRoot(),\r\n    AdG2WaterWaveModule.forRoot(),\r\n  ],\r\n  exports: MODULES,\r\n})\r\nexport class DelonABCRootModule {}\r\n\r\n@NgModule({ exports: MODULES })\r\nexport class DelonABCModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return { ngModule: DelonABCRootModule };\r\n  }\r\n}\r\n","import { RouteReuseStrategy, ActivatedRouteSnapshot } from '@angular/router';\r\nimport { ReuseTabService } from './reuse-tab.service';\r\n\r\nexport class ReuseTabStrategy implements RouteReuseStrategy {\r\n  constructor(private srv: ReuseTabService) {}\r\n\r\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\r\n    return this.srv.shouldDetach(route);\r\n  }\r\n  store(route: ActivatedRouteSnapshot, handle: {}): void {\r\n    this.srv.store(route, handle);\r\n  }\r\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\r\n    return this.srv.shouldAttach(route);\r\n  }\r\n  retrieve(route: ActivatedRouteSnapshot): {} {\r\n    return this.srv.retrieve(route);\r\n  }\r\n  shouldReuseRoute(\r\n    future: ActivatedRouteSnapshot,\r\n    curr: ActivatedRouteSnapshot,\r\n  ): boolean {\r\n    return this.srv.shouldReuseRoute(future, curr);\r\n  }\r\n}\r\n"],"names":["DOCUMENT","COMPONENTS","router","http","DIRECTIVES","ZORROMODULES","acl","of","BehaviorSubject","overlay","Subject","Subscription","combineLatest","FromEventObservable"],"mappings":"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"}