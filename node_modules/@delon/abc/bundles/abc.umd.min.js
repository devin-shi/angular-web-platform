/**
 * @license ng-alain(cipchk@qq.com) v1.0.0-beta.10
 * (c) 2018 Cipchk http://ng-alain.com/
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/platform-browser"),require("@angular/cdk/coercion"),require("@angular/router"),require("ng-zorro-antd"),require("rxjs/operators"),require("@delon/theme"),require("@angular/common/http"),require("file-saver"),require("@delon/util"),require("ngx-countdown"),require("date-fns/format"),require("date-fns/add_seconds"),require("@angular/forms"),require("@delon/acl"),require("rxjs/observable/of"),require("rxjs/observable/combineLatest"),require("rxjs/BehaviorSubject"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("rxjs/Subscription"),require("rxjs/Subject"),require("rxjs/observable/FromEventObservable")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/platform-browser","@angular/cdk/coercion","@angular/router","ng-zorro-antd","rxjs/operators","@delon/theme","@angular/common/http","file-saver","@delon/util","ngx-countdown","date-fns/format","date-fns/add_seconds","@angular/forms","@delon/acl","rxjs/observable/of","rxjs/observable/combineLatest","rxjs/BehaviorSubject","@angular/cdk/overlay","@angular/cdk/portal","rxjs/Subscription","rxjs/Subject","rxjs/observable/FromEventObservable"],e):e((t.delon=t.delon||{},t.delon.abc={}),t.ng.core,t.ng.common,t.ng.platformBrowser,t.ng.cdk.coercion,t.ng.router,t.ngZorro.antd,t.Rx.Observable.prototype,t.delon.theme,t.ng.common.http,t.saveAs,t.delon.util,t.ngxCountDown,t["date-fns/format/index"],t["date-fns/add_seconds/index"],t.ng.forms,t.delon.acl,t.Rx.Observable,t.Rx.Observable,t.Rx,t.ng.cdk.overlay,t.ng.cdk.portal,t.Rx,t.Rx,t.Rx.Observable)}(this,function(t,d,n,e,i,p,o,u,r,s,a,f,c,l,h,g,y,m,b,v,_,C,x,I,O){"use strict";l=l&&l.hasOwnProperty("default")?l.default:l,h=h&&h.hasOwnProperty("default")?h.default:h;var P=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},k=function(){function t(){this.freq=500,this.offsetTop=145}return t.decorators=[{type:d.Injectable}],t}(),M=function(){function t(t,e,n,i,o){this.el=e,this.renderer=n,this.cd=i,this.doc=o,this.$time=null,this._freq=500,this._offsetTop=145,this._hiden=!0,this.count=0,Object.assign(this,t)}return Object.defineProperty(t.prototype,"freq",{get:function(){return this._freq},set:function(t){this._freq=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetTop",{get:function(){return this._offsetTop},set:function(t){this._offsetTop=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errEls",{get:function(){return this.formEl.querySelectorAll(".has-error")},enumerable:!0,configurable:!0}),t.prototype.update=function(){var t=this.errEls.length;t!==this.count&&(this.count=t,this._hiden=0===t,this.cd.markForCheck())},t.prototype._click=function(){if(0===this.count)return!1;var t=this.errEls;(this.findParent(t[0],"[nz-form-control]")||t[0]).scrollIntoView(!0),this.doc.documentElement.scrollTop-=this.offsetTop},t.prototype.install=function(){var t=this;this.uninstall(),this.$time=setInterval(function(){return t.update()},this.freq),this.update()},t.prototype.uninstall=function(){clearInterval(this.$time)},t.prototype.findParent=function(t,e){for(var n=null;t;){if(t.querySelector(e)){n=t;break}t=t.parentElement}return n},t.prototype.ngOnInit=function(){if(this.formEl=this.findParent(this.el.nativeElement,"form"),null===this.formEl)throw new Error("未找到有效 form 元素");this.el.nativeElement.classList.add("error-collect","pr-lg","text-error","point"),this.install()},t.prototype.ngOnDestroy=function(){this.uninstall()},t.decorators=[{type:d.Component,args:[{selector:"error-collect, [error-collect]",template:'\n  <i class="anticon anticon-exclamation-circle"></i>\n  <span class="pl-sm">{{count}}</span>',changeDetection:d.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:k},{type:d.ElementRef},{type:d.Renderer2},{type:d.ChangeDetectorRef},{type:void 0,decorators:[{type:d.Inject,args:[e.DOCUMENT]}]}]},t.propDecorators={freq:[{type:d.Input}],offsetTop:[{type:d.Input}],_hiden:[{type:d.HostBinding,args:["class.d-none"]}],_click:[{type:d.HostListener,args:["click"]}]},t}(),T=[M],R=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[k]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:T.slice(),exports:T.slice()}]}],t}(),z="ad-footer-toolbar",w=function(){function t(t,e,n){this.el=t,this.renderer=e,this.doc=n,this._errorCollect=!1}return Object.defineProperty(t.prototype,"errorCollect",{get:function(){return this._errorCollect},set:function(t){this._errorCollect=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.el.nativeElement.classList.add(z),this.renderer.addClass(this.el.nativeElement,z),this.doc.querySelector("body").classList.add("has-"+z)},t.prototype.ngOnDestroy=function(){this.doc.querySelector("body").classList.remove("has-"+z)},t.decorators=[{type:d.Component,args:[{selector:"footer-toolbar",template:'\n  <div class="left"><ng-container *ngIf="extra" [ngTemplateOutlet]="extra"></ng-container></div>\n  <div class="right">\n    <error-collect *ngIf="errorCollect"></error-collect>\n    <ng-content></ng-content>\n  </div>\n  ',preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:d.Renderer2},{type:void 0,decorators:[{type:d.Inject,args:[e.DOCUMENT]}]}]},t.propDecorators={errorCollect:[{type:d.Input}],extra:[{type:d.ContentChild,args:["extra"]}]},t}(),S=[w],E=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,R],declarations:S.slice(),exports:S.slice()}]}],t}(),j="nav-floating-show",D="nav-floating",A=function(){function t(t,e,n,i,o,r,s,a){this.menuSrv=t,this.settings=e,this.router=n,this.locationStrategy=i,this.render=o,this.cd=r,this.doc=s,this.list=[],this.autoCloseUnderPad=!0,this.select=new d.EventEmitter,this.rootEl=a.nativeElement}return t.prototype.ngOnInit=function(){var e=this;this.bodyEl=this.doc.querySelector("body"),this.menuSrv.openedByUrl(this.router.url),this.genFloatingContainer(),this.change$=this.menuSrv.change.subscribe(function(t){e.list=t,e.cd.detectChanges()}),this.installUnderPad()},t.prototype.floatingAreaClickHandle=function(t){t.stopPropagation(),t.preventDefault();var e=t.target;if("A"!==e.nodeName)return!1;var n=e.getAttribute("href");n&&n.startsWith("#")&&(n=n.slice(1));var i=this.locationStrategy.getBaseHref();return i&&(n=n.slice(i.length)),this.router.navigateByUrl(n),this.onSelect(this.menuSrv.getPathByUrl(n).pop()),this.hideAll(),!1},t.prototype.clearFloatingContainer=function(){this.floatingEl&&(this.floatingEl.removeEventListener("click",this.floatingAreaClickHandle.bind(this)),this.floatingEl.hasOwnProperty("remove")?this.floatingEl.remove():this.floatingEl.parentNode&&this.floatingEl.parentNode.removeChild(this.floatingEl))},t.prototype.genFloatingContainer=function(){this.clearFloatingContainer(),this.floatingEl=this.render.createElement("div"),this.floatingEl.classList.add(D+"-container"),this.floatingEl.addEventListener("click",this.floatingAreaClickHandle.bind(this),!1),this.bodyEl.appendChild(this.floatingEl)},t.prototype.genSubNode=function(t,e){var n="_sidebar-nav-"+e.__id,i=t.nextElementSibling.cloneNode(!0);return i.id=n,i.classList.add(D),i.addEventListener("mouseleave",function(){i.classList.remove(j)},!1),this.floatingEl.appendChild(i),i},t.prototype.hideAll=function(){for(var t=this.floatingEl.querySelectorAll("."+D),e=0;e<t.length;e++)t[e].classList.remove(j)},t.prototype.calPos=function(t,e){var n=t.getBoundingClientRect(),i=Math.max(this.doc.documentElement.scrollTop,this.bodyEl.scrollTop),o=n.top+i,r=n.right+5;e.style.top=o+"px",e.style.left=r+"px"},t.prototype.showSubMenu=function(t,e){if(!0===this.settings.layout.collapsed){t.preventDefault();var n=t.target;this.genFloatingContainer();var i=this.genSubNode(n,e);this.hideAll(),i.classList.add(j),this.calPos(n,i)}},t.prototype.onSelect=function(t){this.select.emit(t)},t.prototype.toggleOpen=function(n){this.menuSrv.visit(function(t,e){t!==n&&(t._open=!1)});for(var t=n.__parent;t;)t._open=!0,t=t.__parent;n._open=!n._open,this.cd.markForCheck()},t.prototype.onClick=function(){this.hideAll()},t.prototype.ngOnDestroy=function(){this.change$.unsubscribe(),this.route$&&this.route$.unsubscribe(),this.clearFloatingContainer()},t.prototype.installUnderPad=function(){var e=this;this.autoCloseUnderPad&&(this.route$=this.router.events.pipe(u.filter(function(t){return t instanceof p.NavigationEnd})).subscribe(function(t){return e.underPad()}),this.underPad())},t.prototype.underPad=function(){window.innerWidth<992&&!this.settings.layout.collapsed&&this.settings.setLayout("collapsed",!0)},t.decorators=[{type:d.Component,args:[{selector:"sidebar-nav",template:'<ul class="nav"> <ng-container *ngFor="let group of list"> <ng-template [ngIf]="group._hidden !== true"> <li class="nav-group-title"> <span>{{ group.text }}</span> </li> <ng-container *ngFor="let child1 of group.children"> <li *ngIf="child1._hidden !== true" [routerLinkActive]="[\'nav-item-selected\']" [class.nav-submenu-open]="child1._open"> \x3c!-- link --\x3e <a *ngIf="child1._type === 1" (click)="onSelect(child1)" [routerLink]="child1.link" [target]="child1.target"> <i *ngIf="!settings.layout.collapsed" class="{{ child1.icon }}"></i> <nz-tooltip *ngIf="settings.layout.collapsed" nzPlacement="right" [nzTitle]="child1.text"> <span nz-tooltip> <i class="{{ child1.icon }}"></i> </span> </nz-tooltip> <span>{{ child1.text }}</span> </a> \x3c!-- external link --\x3e <a *ngIf="child1._type === 2" href="{{ child1.externalLink }}" target="{{child1.target}}"> <i *ngIf="!settings.layout.collapsed" class="{{ child1.icon }}"></i> <nz-tooltip *ngIf="settings.layout.collapsed" nzPlacement="right" [nzTitle]="child1.text"> <span nz-tooltip> <i class="{{ child1.icon }}"></i> </span> </nz-tooltip> <span>{{ child1.text }}</span> </a> \x3c!-- has children link --\x3e <a *ngIf="child1._type === 3" class="nav-sub-title" (click)="toggleOpen(child1)" (mouseenter)="showSubMenu($event, child1)"> <i class="{{ child1.icon }}"></i> <span>{{ child1.text }}</span> </a> \x3c!-- badge --\x3e <div *ngIf="child1.badge" title="{{child1.badge}}" class="badge badge-{{child1.badge_status}}" [class.badge-dot]="child1.badge_dot"> <em>{{child1.badge}}</em> </div> \x3c!-- Level 2 --\x3e <ul *ngIf="child1._type === 3" class="nav nav-sub nav-depth{{child1._depth}}"> <ng-container *ngFor="let child2 of child1.children"> <li *ngIf="child2._hidden !== true" [routerLinkActive]="[\'nav-item-selected\']" [class.nav-submenu-open]="child2._open"> \x3c!-- link --\x3e <a *ngIf="child2._type === 1" (click)="onSelect(child2)" [routerLink]="child2.link" [target]="child2.target">{{ child2.text }}</a> \x3c!-- external link --\x3e <a *ngIf="child2._type === 2" href="{{ child2.externalLink }}" target="{{ child2.target }}">{{ child2.text }}</a> \x3c!-- has children link --\x3e <a *ngIf="child2._type === 3" class="nav-sub-title" (click)="toggleOpen(child2)"> {{ child2.text }} </a> \x3c!-- badge --\x3e <div *ngIf="child2.badge" title="{{child2.badge}}" class="badge badge-{{child2.badge_status}}" [class.badge-dot]="child2.badge_dot"> <em>{{child2.badge}}</em> </div> \x3c!-- Level 3 --\x3e <ul *ngIf="child2._type === 3" class="nav nav-sub nav-depth{{child2._depth}}"> <ng-container *ngFor="let child3 of child2.children"> <li *ngIf="child3._hidden !== true" [routerLinkActive]="[\'nav-item-selected\']" [class.nav-submenu-open]="child3._open"> \x3c!-- link --\x3e <a *ngIf="child3._type === 1" (click)="onSelect(child3)" [routerLink]="child3.link" [target]="child3.target">{{ child3.text }}</a> \x3c!-- external link --\x3e <a *ngIf="child3._type === 2" href="{{ child3.externalLink }}" target="{{ child3.target }}">{{ child3.text }}</a> \x3c!-- badge --\x3e <div *ngIf="child3.badge" title="{{child3.badge}}" class="badge badge-{{child3.badge_status}}" [class.badge-dot]="child3.badge_dot"> <em>{{child3.badge}}</em> </div> </li> </ng-container> </ul> </li> </ng-container> </ul> </li> </ng-container> </ng-template> </ng-container> </ul> ',changeDetection:d.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:r.MenuService},{type:r.SettingsService},{type:p.Router},{type:n.LocationStrategy},{type:d.Renderer2},{type:d.ChangeDetectorRef},{type:void 0,decorators:[{type:d.Inject,args:[n.DOCUMENT]}]},{type:d.ElementRef}]},t.propDecorators={autoCloseUnderPad:[{type:d.Input}],select:[{type:d.Output}],onClick:[{type:d.HostListener,args:["document:click",["$event.target"]]}]},t}(),N=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,p.RouterModule,o.NgZorroAntdModule],declarations:[A],exports:[A]}]}],t}(),L=function(){function t(t,e){this.el=t,this.http=e,this.httpMethod="get",this.success=new d.EventEmitter,this.error=new d.EventEmitter}return t.prototype._click=function(){var n=this;this.el.nativeElement.disabled=!0,this.http.request(this.httpMethod,this.httpUrl,{params:this.httpData||{},responseType:"blob",observe:"response"}).subscribe(function(t){if(200!==t.status||t.body.size<=0)n.error.emit(t);else{var e=n.fileName||t.headers.get("filename")||t.headers.get("x-filename");a.saveAs(t.body,decodeURI(e)),n.success.emit(t),n.el.nativeElement.disabled=!1}},function(t){n.error.emit(t),n.el.nativeElement.disabled=!1})},t.decorators=[{type:d.Directive,args:[{selector:"[down-file]"}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:s.HttpClient}]},t.propDecorators={httpData:[{type:d.Input,args:["http-data"]}],httpMethod:[{type:d.Input,args:["http-method"]}],httpUrl:[{type:d.Input,args:["http-url"]}],fileName:[{type:d.Input,args:["file-name"]}],success:[{type:d.Output}],error:[{type:d.Output}],_click:[{type:d.HostListener,args:["click"]}]},t}(),F=[L],B=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:F.slice(),exports:F.slice()}]}],t}(),H=function(){function t(){this.size=64,this.error="./assets/img/logo.svg"}return t.decorators=[{type:d.Injectable}],t}(),q=function(){function t(t,e,n){this.el=t,this.render=e,this.size=64,this.error="./assets/img/logo.svg",this.inited=!1,Object.assign(this,f.deepCopy(n))}return t.prototype.ngOnInit=function(){this.update(),this.updateError(),this.inited=!0},t.prototype.ngOnChanges=function(t){this.inited&&(t.error?this.updateError():this.update())},t.prototype.update=function(){var t=this.src;if(t.includes("qlogo.cn")){var e=t.split("/"),n=e[e.length-1];e[e.length-1]="0"===n||+n!==this.size?this.size.toString():n,t=e.join("/")}var i=t.startsWith("http:"),o=t.startsWith("https:");(i||o)&&(t=t.substr(i?5:6)),this.render.setAttribute(this.el.nativeElement,"src",t)},t.prototype.updateError=function(){this.render.setAttribute(this.el.nativeElement,"onerror","this.src='"+this.error+"';")},t.decorators=[{type:d.Directive,args:[{selector:"[_src]"}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:d.Renderer2},{type:H}]},t.propDecorators={src:[{type:d.Input,args:["_src"]}],size:[{type:d.Input}],error:[{type:d.Input}]},t}(),W=[q],$=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[H]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,f.DelonUtilModule],declarations:W.slice(),exports:W.slice()}]}],t}(),G=function(){function t(){}return t.decorators=[{type:d.Component,args:[{selector:"avatar-list-item, [avatar-list-item]",template:""}]}],t.propDecorators={src:[{type:d.Input}],text:[{type:d.Input}],icon:[{type:d.Input}],tips:[{type:d.Input}]},t}(),U=function(){function t(){this._size="",this._avatarSize=""}return Object.defineProperty(t.prototype,"size",{set:function(t){switch(this._size="default"===t?"":t,t){case"large":case"small":case"default":this._avatarSize=t;break;default:this._avatarSize="small"}},enumerable:!0,configurable:!0}),t.decorators=[{type:d.Component,args:[{selector:"avatar-list",template:'\n  <ul>\n    <li *ngFor="let i of _items" class="item" [ngClass]="_size">\n      <nz-tooltip *ngIf="i.tips" [nzTitle]="i.tips">\n        <nz-avatar nz-tooltip [nzSrc]="i.src" [nzText]="i.text" [nzIcon]="i.icon" [nzSize]="_avatarSize"></nz-avatar>\n      </nz-tooltip>\n      <nz-avatar *ngIf="!i.tips" [nzSrc]="i.src" [nzText]="i.text" [nzIcon]="i.icon" [nzSize]="_avatarSize"></nz-avatar>\n    </li>\n  </ul>\n  ',host:{"[class.ad-avatar-list]":"true"},preserveWhitespaces:!1}]}],t.propDecorators={size:[{type:d.Input}],_items:[{type:d.ContentChildren,args:[G]}]},t}(),V=[U,G],X=[o.NgZorroAntdModule],Z=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule].concat(X),declarations:V.slice(),exports:V.slice()}]}],t}(),Y=function(){function t(){this._term=""}return Object.defineProperty(t.prototype,"term",{set:function(t){t instanceof d.TemplateRef?(this._term=null,this._termTpl=t):this._term=t},enumerable:!0,configurable:!0}),t.decorators=[{type:d.Component,args:[{selector:"desc-list-item",template:'\n  <ng-template #tpl>\n    <div class="ad-desc-list__term" *ngIf="_term || _termTpl">\n      <ng-container *ngIf="_term; else _termTpl">{{_term}}</ng-container>\n    </div>\n    <div class="ad-desc-list__detail"><ng-content></ng-content></div>\n  </ng-template>\n  ',preserveWhitespaces:!1}]}],t.propDecorators={term:[{type:d.Input}],tpl:[{type:d.ViewChild,args:["tpl"]}]},t}(),Q=function(){function t(){this.layout="horizontal",this.gutter=32}return t.decorators=[{type:d.Injectable}],t}(),K=function(){function t(t,e,n){this.el=e,this.renderer=n,this._title="",this._gutter=32,this.layout="horizontal",this._xs=24,this._sm=12,this._md=8,this._col=3,this._classMap=[],Object.assign(this,t)}return Object.defineProperty(t.prototype,"title",{set:function(t){t instanceof d.TemplateRef?(this._title=null,this._titleTpl=t):this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gutter",{get:function(){return this._gutter},set:function(t){this._gutter=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._col},set:function(t){this._col=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),t.prototype.setClass=function(){var e=this;this._classMap.forEach(function(t){return e.renderer.removeClass(e.el.nativeElement,t)}),this._classMap=["desc-list",this.layout],this.size&&this._classMap.push(this.size),this._classMap.forEach(function(t){return e.renderer.addClass(e.el.nativeElement,t)})},t.prototype.setResponsive=function(){var t={1:{xs:24},2:{xs:24,sm:12},3:{xs:24,sm:12,md:8},4:{xs:24,sm:12,md:6}}[4<this.col?4:this.col];this._xs=t.xs,this._sm=t.sm,this._md=t.md},t.prototype.ngOnInit=function(){this.setClass()},t.prototype.ngOnChanges=function(t){this.setClass(),t.col&&this.setResponsive()},t.decorators=[{type:d.Component,args:[{selector:"desc-list",template:'\n  <div *ngIf="_title || _titleTpl" class="ad-desc-list__title">\n    <ng-container *ngIf="_title; else _titleTpl">{{_title}}</ng-container>\n  </div>\n  <div nz-row [nzGutter]="gutter">\n    <div nz-col [nzXs]="_xs" [nzSm]="_sm" [nzMd]="_md" *ngFor="let i of _items">\n      <ng-template [ngTemplateOutlet]="i.tpl"></ng-template>\n    </div>\n  </div>\n  ',host:{"[class.ad-desc-list]":"true"},preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:Q},{type:d.ElementRef},{type:d.Renderer2}]},t.propDecorators={title:[{type:d.Input}],size:[{type:d.Input}],gutter:[{type:d.Input}],layout:[{type:d.Input}],col:[{type:d.Input}],_items:[{type:d.ContentChildren,args:[Y]}]},t}(),J=[K,Y],tt=[o.NgZorroAntdModule],et=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Q]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule].concat(tt),declarations:J.slice(),exports:J.slice()}]}],t}(),nt=function(){function t(){this._lines=3}return Object.defineProperty(t.prototype,"lines",{get:function(){return this._lines},set:function(t){this._lines=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),t.decorators=[{type:d.Component,args:[{selector:"ellipsis",template:"<ng-content></ng-content>",host:{"[class.ad-ellipsis]":"true"}}]}],t.propDecorators={lines:[{type:d.Input},{type:d.HostBinding,args:["style.-webkit-line-clamp"]}]},t}(),it=[nt],ot=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:it.slice(),exports:it.slice()}]}],t}(),rt=function(){function t(){}return t.decorators=[{type:d.Component,args:[{selector:"global-footer",template:'\n  <div *ngIf="links && links.length > 0" class="links">\n    <a *ngFor="let i of links" routerLink="{{i.href}}" [attr.target]="i.blankTarget">{{i.title}}</a>\n  </div>\n  <div class="copyright"><ng-content></ng-content></div>\n  ',host:{"[class.ad-global-footer]":"true"},preserveWhitespaces:!1}]}],t.propDecorators={links:[{type:d.Input}]},t}(),st=[rt],at=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,p.RouterModule],declarations:st.slice(),exports:st.slice()}]}],t}(),ct=function(){function t(){this._img="",this._title="",this._desc=""}return Object.defineProperty(t.prototype,"type",{set:function(t){var e={403:{img:"https://gw.alipayobjects.com/zos/rmsportal/wZcnGqRDyhPOEYFcZDnb.svg",title:"403",desc:"抱歉，你无权访问该页面"},404:{img:"https://gw.alipayobjects.com/zos/rmsportal/KpnpchXsobRgLElEozzI.svg",title:"404",desc:"抱歉，你访问的页面不存在"},500:{img:"https://gw.alipayobjects.com/zos/rmsportal/RVRUAYdCGeYNBWoKiIwB.svg",title:"500",desc:"抱歉，服务器出错了"}}[t];e&&(this._img=e.img,this._title=e.title,this._desc=e.desc)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"img",{set:function(t){this._img=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{set:function(t){this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"desc",{set:function(t){this._desc=t},enumerable:!0,configurable:!0}),t.decorators=[{type:d.Component,args:[{selector:"exception",template:'\n  <div class="img-block">\n    <div class="img" [ngStyle]="{\'background-image\': \'url(\' + _img + \')\'}"></div>\n  </div>\n  <div class="cont">\n    <h1 [innerHTML]="_title"></h1>\n    <div class="desc" [innerHTML]="_desc"></div>\n    <ng-template #defaultActions>\n      <button nz-button [routerLink]="[\'/\']" [nzType]="\'primary\'">返回首页</button>\n      <ng-content></ng-content>\n    </ng-template>\n    <div class="actions" *ngIf="actions; else defaultActions">\n      <ng-template [ngTemplateOutlet]="actions"></ng-template>\n      <ng-content></ng-content>\n    </div>\n  </div>\n  ',host:{"[class.ad-exception]":"true"},preserveWhitespaces:!1}]}],t.propDecorators={type:[{type:d.Input}],img:[{type:d.Input}],title:[{type:d.Input}],desc:[{type:d.Input}],actions:[{type:d.ContentChild,args:["actions"]}]},t}(),lt=[ct],pt=[o.NgZorroAntdModule],ut=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,p.RouterModule].concat(pt),declarations:lt.slice(),exports:lt.slice()}]}],t}(),ht=function(){function t(){this.data=[],this._loading=!1,this.select=new d.EventEmitter,this.clear=new d.EventEmitter,this._popoverVisible=!1,this.popoverVisibleChange=new d.EventEmitter}return Object.defineProperty(t.prototype,"count",{get:function(){return this._count},set:function(t){this._count=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(t){this._loading=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"popoverVisible",{get:function(){return this._popoverVisible},set:function(t){this._popoverVisible=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.onVisibleChange=function(t){this.popoverVisibleChange.emit(t)},t.prototype.onSelect=function(t){this.select.emit(t)},t.prototype.onClear=function(t){this.clear.emit(t)},t.decorators=[{type:d.Component,args:[{selector:"notice-icon",template:'\n  <nz-badge *ngIf="data?.length === 0" [nzCount]="count">\n    <i class="anticon anticon-bell"></i>\n  </nz-badge>\n  <nz-popover *ngIf="data?.length > 0"\n    [nzVisible]="popoverVisible" (nzVisibleChange)="onVisibleChange($event)" nzTrigger="click"\n    nzPlacement="bottomRight"\n    nzOverlayClassName="ad-notice-icon-con">\n    <div nz-popover class="item">\n      <nz-badge [nzCount]="count">\n        <i class="anticon anticon-bell"></i>\n      </nz-badge>\n    </div>\n    <ng-template #nzTemplate>\n      <nz-spin [nzSpinning]="loading" [nzDelay]="0">\n        <nz-tabset>\n          <nz-tab *ngFor="let i of data" [nzTitle]="i.title">\n            <notice-icon-tab\n              [data]="i"\n              (select)="onSelect($event)"\n              (clear)="onClear($event)"></notice-icon-tab>\n          </nz-tab>\n        </nz-tabset>\n      </nz-spin>\n    </ng-template>\n  </nz-popover>\n  ',host:{"[class.ad-notice-icon]":"true"},preserveWhitespaces:!1}]}],t.propDecorators={data:[{type:d.Input}],count:[{type:d.Input}],loading:[{type:d.Input}],select:[{type:d.Output}],clear:[{type:d.Output}],popoverVisible:[{type:d.Input}],popoverVisibleChange:[{type:d.Output}]},t}(),dt=function(){function t(){this.select=new d.EventEmitter,this.clear=new d.EventEmitter}return t.prototype.onClick=function(t){this.select.emit({title:this.data.title,item:t})},t.prototype.onClear=function(){this.clear.emit(this.data.title)},t.decorators=[{type:d.Component,args:[{selector:"notice-icon-tab",template:'\n  <div *ngIf="data.list?.length === 0; else listTpl" class="not-found">\n    <img *ngIf="data.emptyImage" src="{{data.emptyImage}}" alt="not found" />\n    <p>{{data.emptyText || \'无通知\'}}</p>\n  </div>\n  <ng-template #listTpl>\n    <nz-list [nzDataSource]="data.list" [nzRenderItem]="item">\n      <ng-template #item let-item>\n        <nz-list-item (click)="onClick(item)" [ngClass]="{\'read\': item.read}">\n          <nz-list-item-meta\n            [nzTitle]="nzTitle"\n            [nzDescription]="nzDescription"\n            [nzAvatar]="item.avatar">\n            <ng-template #nzTitle>\n              {{item.title}}\n              <div class="extra" *ngIf="item.extra"><nz-tag [nzColor]="item.color">{{item.extra}}</nz-tag></div>\n            </ng-template>\n            <ng-template #nzDescription>\n              <div *ngIf="item.description" class="description">{{item.description}}</div>\n              <div *ngIf="item.datetime" class="datetime">{{item.datetime}}</div>\n            </ng-template>\n          </nz-list-item-meta>\n        </nz-list-item>\n      </ng-template>\n    </nz-list>\n    <div class="clear" (click)="onClear()">{{ data.clearText || \'清空\' }}</div>\n  </ng-template>\n  ',preserveWhitespaces:!1}]}],t.propDecorators={data:[{type:d.Input}],select:[{type:d.Output}],clear:[{type:d.Output}]},t}(),ft=[ht],gt=[o.NgZorroAntdModule],yt=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule].concat(gt),declarations:ft.concat([dt]),exports:ft.slice()}]}],t}(),mt=function(){function t(t,e,n){this.el=t,this.renderer=e,this.cd=n,this._title="",this._subTitle="",this._total="",this._isSubTotal=!1,this._subTotal="",this.theme="light",this._gap=8,this._classMap=[]}return Object.defineProperty(t.prototype,"title",{set:function(t){t instanceof d.TemplateRef?(this._title=null,this._titleTpl=t):this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subTitle",{set:function(t){t instanceof d.TemplateRef?(this._subTitle=null,this._subTitleTpl=t):this._subTitle=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{set:function(t){t instanceof d.TemplateRef?(this._total=null,this._totalTpl=t):this._total=""+t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subTotal",{set:function(t){t instanceof d.TemplateRef?(this._subTotal=null,this._subTotalTpl=t):this._subTotal=t,this._isSubTotal=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),t.prototype.setClass=function(){var e=this;this._classMap.forEach(function(t){return e.renderer.removeClass(e.el.nativeElement,t)}),this._classMap=["number-info"],this.theme&&this._classMap.push(this.theme),this._classMap.forEach(function(t){return e.renderer.addClass(e.el.nativeElement,t)}),this.cd.detectChanges()},t.prototype.ngOnChanges=function(t){this.setClass()},t.decorators=[{type:d.Component,args:[{selector:"number-info",template:'\n  <div *ngIf="_title || _titleTpl" class="title"><ng-container *ngIf="_title; else _titleTpl">{{_title}}</ng-container></div>\n  <div *ngIf="_subTitle || _subTitleTpl" class="sub-title"><ng-container *ngIf="_subTitle; else _subTitleTpl">{{_subTitle}}</ng-container></div>\n  <div class="value" [ngStyle]="{\'margin-top.px\': gap}">\n    <span><ng-container *ngIf="_total; else _totalTpl">{{_total}}</ng-container><em class="suffix" *ngIf="suffix">{{suffix}}</em></span>\n    <span *ngIf="status || _isSubTotal" class="sub-total">\n      <ng-container *ngIf="_subTotal; else _subTotalTpl">{{_subTotal}}</ng-container>\n      <i *ngIf="status" class="anticon anticon-caret-{{status}}"></i>\n    </span>\n  </div>\n  ',host:{"[class.ad-number-info]":"true"},preserveWhitespaces:!1,changeDetection:d.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:d.Renderer2},{type:d.ChangeDetectorRef}]},t.propDecorators={title:[{type:d.Input}],subTitle:[{type:d.Input}],total:[{type:d.Input}],subTotal:[{type:d.Input}],suffix:[{type:d.Input}],status:[{type:d.Input}],theme:[{type:d.Input}],gap:[{type:d.Input}]},t}(),bt=[mt],vt=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:bt.slice(),exports:bt.slice()}]}],t}(),_t=function(){function t(){this.home="首页",this.home_link="/",this.autoBreadcrumb=!0}return t.decorators=[{type:d.Injectable}],t}(),Ct=function(){function t(t,e,n,i,o){this.renderer=e,this.route=n,this.menuSrv=i,this.i18nSrv=o,this._autoBreadcrumb=!0,this.paths=[],Object.assign(this,t)}return Object.defineProperty(t.prototype,"autoBreadcrumb",{get:function(){return this._autoBreadcrumb},set:function(t){this._autoBreadcrumb=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.genBreadcrumb=function(){var n=this;if(!this.breadcrumb&&this.autoBreadcrumb&&this.menuSrv){var t=this.menuSrv.getPathByUrl(this.route.url);if(!(t.length<=0)){var i=[];t.forEach(function(t){if(void 0===t.hideInBreadcrumb||!t.hideInBreadcrumb){var e=t.text;t.i18n&&n.i18nSrv&&(e=n.i18nSrv.fanyi(t.i18n)),i.push({title:e,link:t.link&&[t.link]})}}),this.home&&i.splice(0,0,{title:this.home_i18n&&this.i18nSrv&&this.i18nSrv.fanyi(this.home_i18n)||this.home,link:[this.home_link]}),this.paths=i}}},t.prototype.checkContent=function(){f.isEmpty(this.conTpl.nativeElement)?this.renderer.setAttribute(this.conTpl.nativeElement,"hidden",""):this.renderer.removeAttribute(this.conTpl.nativeElement,"hidden")},t.prototype.ngOnInit=function(){this.genBreadcrumb()},t.prototype.ngAfterViewInit=function(){this.checkContent()},t.prototype.ngOnChanges=function(t){t.autoBreadcrumb&&!t.autoBreadcrumb.firstChange&&this.genBreadcrumb()},t.decorators=[{type:d.Component,args:[{selector:"page-header",template:'\n  <ng-container *ngIf="!breadcrumb; else breadcrumb">\n    <nz-breadcrumb *ngIf="paths && paths.length > 0">\n      <nz-breadcrumb-item *ngFor="let i of paths">\n        <ng-container *ngIf="i.link"><a [routerLink]="i.link">{{i.title}}</a></ng-container>\n        <ng-container *ngIf="!i.link">{{i.title}}</ng-container>\n      </nz-breadcrumb-item>\n    </nz-breadcrumb>\n  </ng-container>\n  <div class="detail">\n    <div *ngIf="logo" class="logo"><ng-template [ngTemplateOutlet]="logo"></ng-template></div>\n    <div class="main">\n      <div class="row">\n        <h1 *ngIf="title" class="title">{{title}}</h1>\n        <div *ngIf="action" class="action"><ng-template [ngTemplateOutlet]="action"></ng-template></div>\n      </div>\n      <div class="row">\n        <div class="desc" (cdkObserveContent)="checkContent()" #conTpl><ng-content></ng-content><ng-template [ngTemplateOutlet]="content"></ng-template></div>\n        <div *ngIf="extra" class="extra"><ng-template [ngTemplateOutlet]="extra"></ng-template></div>\n      </div>\n    </div>\n  </div>\n  <ng-template [ngTemplateOutlet]="tab"></ng-template>\n  ',host:{"[class.content__title]":"true","[class.ad-page-header]":"true"},preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:_t},{type:d.Renderer2},{type:p.Router},{type:r.MenuService,decorators:[{type:d.Optional}]},{type:void 0,decorators:[{type:d.Optional},{type:d.Inject,args:[r.ALAIN_I18N_TOKEN]}]}]},t.propDecorators={conTpl:[{type:d.ViewChild,args:["conTpl"]}],title:[{type:d.Input}],home:[{type:d.Input}],home_link:[{type:d.Input}],home_i18n:[{type:d.Input}],autoBreadcrumb:[{type:d.Input}],breadcrumb:[{type:d.ContentChild,args:["breadcrumb"]}],logo:[{type:d.ContentChild,args:["logo"]}],action:[{type:d.ContentChild,args:["action"]}],content:[{type:d.ContentChild,args:["content"]}],extra:[{type:d.ContentChild,args:["extra"]}],tab:[{type:d.ContentChild,args:["tab"]}]},t}(),xt=[Ct],It=[o.NgZorroAntdModule],Ot=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[_t]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,p.RouterModule,f.DelonUtilModule].concat(It),declarations:xt.slice(),exports:xt.slice()}]}],t}(),Pt=function(){function t(){this._type="",this._icon="",this._title="",this._description="",this._extra=""}return Object.defineProperty(t.prototype,"type",{set:function(t){switch(this._type=t){case"success":this._icon="check-circle";break;case"error":this._icon="close-circle";break;default:this._icon=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{set:function(t){t instanceof d.TemplateRef?(this._title=null,this._titleTpl=t):this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"description",{set:function(t){t instanceof d.TemplateRef?(this._description=null,this._descriptionTpl=t):this._description=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extra",{set:function(t){t instanceof d.TemplateRef?(this._extra=null,this._extraTpl=t):this._extra=t},enumerable:!0,configurable:!0}),t.decorators=[{type:d.Component,args:[{selector:"result",template:'\n  <div class="icon"><i class="anticon anticon-{{_icon}} {{_type}}"></i></div>\n  <div class="title"><ng-container *ngIf="_title; else _titleTpl">{{_title}}</ng-container></div>\n  <div *ngIf="_description || _descriptionTpl" class="description"><ng-container *ngIf="_description; else _descriptionTpl">{{_description}}</ng-container></div>\n  <div *ngIf="_extra || _extraTpl" class="extra">\n    <ng-container *ngIf="_extra; else _extraTpl">{{_extra}}</ng-container>\n  </div>\n  <div class="actions"><ng-content></ng-content></div>\n  ',host:{"[class.ad-result]":"true"},preserveWhitespaces:!1}]}],t.propDecorators={type:[{type:d.Input}],title:[{type:d.Input}],description:[{type:d.Input}],extra:[{type:d.Input}]},t}(),kt=[Pt],Mt=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:kt.slice(),exports:kt.slice()}]}],t}(),Tt=function(){function t(t,e){this.el=t,this.renderer=e,this._classMap=[]}return Object.defineProperty(t.prototype,"block",{get:function(){return this._block},set:function(t){this._block=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._last},set:function(t){this._last=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},set:function(t){this._grid=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.setClass=function(){var e=this;this._classMap.forEach(function(t){return e.renderer.removeClass(e.el.nativeElement,t)}),this._classMap=["standard-form-row"],this.block&&this._classMap.push("block"),this.grid&&this._classMap.push("grid"),this.last&&this._classMap.push("last"),this._classMap.forEach(function(t){return e.renderer.addClass(e.el.nativeElement,t)})},t.prototype.ngOnChanges=function(t){this.setClass()},t.decorators=[{type:d.Component,args:[{selector:"standard-form-row",template:'\n  <div *ngIf="title" class="label"><span>{{title}}</span></div>\n  <div class="control"><ng-content></ng-content></div>\n  ',host:{"[class.ad-standard-form-row]":"true"},preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:d.Renderer2}]},t.propDecorators={title:[{type:d.Input}],block:[{type:d.Input}],last:[{type:d.Input}],grid:[{type:d.Input}]},t}(),Rt=[Tt],zt=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:Rt.slice(),exports:Rt.slice()}]}],t}(),wt=function(){function t(){this._expandable=!0,this.expand=!1,this.change=new d.EventEmitter}return Object.defineProperty(t.prototype,"expandable",{get:function(){return this._expandable},set:function(t){this._expandable=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.trigger=function(){this.expand=!this.expand,this.change.emit(this.expand)},t.decorators=[{type:d.Component,args:[{selector:"tag-select",template:"\n    <ng-content></ng-content>\n    <a *ngIf=\"expandable\" class=\"trigger\" (click)=\"trigger()\">{{expand ? '收起' : '展开'}}<i class=\"anticon anticon-{{expand ? 'up' : 'down'}} ml-sm\"></i></a>",host:{"[class.ad-tag-select]":"true"},preserveWhitespaces:!1}]}],t.propDecorators={expandable:[{type:d.HostBinding,args:["class.has-expand"]},{type:d.Input}],expand:[{type:d.HostBinding,args:["class.expanded"]}],change:[{type:d.Output}]},t}(),St=[wt],Et=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:St.slice(),exports:St.slice()}]}],t}(),jt=function(){function t(){this._colorful=!0}return Object.defineProperty(t.prototype,"colorful",{get:function(){return this._colorful},set:function(t){this._colorful=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.decorators=[{type:d.Component,args:[{selector:"trend",template:'\n  <ng-content></ng-content>\n  <span *ngIf="flag" class="{{flag}}"><i class="anticon anticon-caret-{{flag}}"></i></span>\n  ',host:{"[class.ad-trend]":"true","[class.grey]":"!colorful"},preserveWhitespaces:!1}]}],t.propDecorators={flag:[{type:d.Input}],colorful:[{type:d.Input}]},t}(),Dt=[jt],At=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:Dt.slice(),exports:Dt.slice()}]}],t}(),Nt=function(){function t(){this.begin=new d.EventEmitter,this.notify=new d.EventEmitter,this.end=new d.EventEmitter}return Object.defineProperty(t.prototype,"target",{set:function(t){this.config={template:"$!h!:$!m!:$!s!",stopTime:"number"==typeof t?h(new Date,t).valueOf():l(t,"x")}},enumerable:!0,configurable:!0}),t.prototype._start=function(){this.begin.emit()},t.prototype._notify=function(t){this.notify.emit(t)},t.prototype._finished=function(){this.end.emit()},t.decorators=[{type:d.Component,args:[{selector:"count-down",template:'\n    <countdown *ngIf="config" [config]="config"\n      (start)="_start()"\n      (finished)="_finished()"\n      (notify)="_notify($event)"></countdown>\n  ',preserveWhitespaces:!1}]}],t.propDecorators={config:[{type:d.Input}],target:[{type:d.Input}],begin:[{type:d.Output}],notify:[{type:d.Output}],end:[{type:d.Output}]},t}(),Lt=[Nt],Ft=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,c.CountdownModule],declarations:Lt.slice(),exports:Lt.slice()}]}],t}(),Bt=function(){function t(){this.pageSizeOptions=[10,20,30,40,50],this.showTotal="共 {{total}} 条"}return t.decorators=[{type:d.Injectable}],t}(),Ht=new d.InjectionToken("DA_XLSX_CONFIG"),qt=function(){function t(t,e,n){this.config=t,this.http=e,this.lazy=n}return t.prototype.init=function(){var t=Object.assign({url:"//cdn.bootcss.com/xlsx/0.11.17/xlsx.full.min.js",modules:[]},this.config);return this.lazy.load([t.url].concat(t.modules))},t.prototype.read=function(n){var i={};return n.SheetNames.forEach(function(t){var e=n.Sheets[t];i[t]=XLSX.utils.sheet_to_json(e,{header:1})}),i},t.prototype.import=function(i){var o=this;return new Promise(function(n,e){o.init().then(function(){if("string"!=typeof i){var t=new FileReader;t.onload=function(t){var e=XLSX.read(t.target.result,{type:"binary"});n(o.read(e))},t.readAsArrayBuffer(i)}else o.http.request("GET",i,{responseType:"arraybuffer"}).subscribe(function(t){var e=XLSX.read(new Uint8Array(t),{type:"array"});n(o.read(e))},function(t){e(t)})})})},t.prototype.export=function(e){return this.init().then(function(){var i=XLSX.utils.book_new();Array.isArray(e.sheets)?e.sheets.forEach(function(t,e){var n=XLSX.utils.aoa_to_sheet(t.data);XLSX.utils.book_append_sheet(i,n,t.name||"Sheet"+(e+1))}):(i.SheetNames=Object.keys(e.sheets),i.Sheets=e.sheets),e.callback&&e.callback(i);var t=XLSX.write(i,Object.assign({bookType:"xlsx",type:"array"},e.opts));a.saveAs(new Blob([t],{type:"application/octet-stream"}),e.filename||"export.xlsx")})},t.decorators=[{type:d.Injectable}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:d.Inject,args:[Ht]}]},{type:s.HttpClient},{type:f.LazyService}]},t}(),Wt=function(){function t(t){this.xlsxSrv=t}return t.prototype._stGet=function(t,e){var n={t:"s",v:""};if(e.format)n.v=e.format(t,e);else{var i=f.deepGet(t,e.index,"");if(void 0===i)n.v="";else switch(n.v=i,e.type){case"currency":n.t="n";break;case"date":n.t="d";break;case"yn":n.v=n===e.ynTruth?e.ynYes||"是":e.ynNo||"否"}}return n},t.prototype.genSheet=function(t){for(var e={},n=e[t.sheetname||"Sheet1"]={},i=t._c.filter(function(t){return!1!==t.exported&&t.index&&(!t.buttons||0===t.buttons.length)}),o=i.length,r=t._d.length,s=0;s<o;s++)n[String.fromCharCode(65+s)+"1"]={t:"s",v:i[s].title};for(s=0;s<r;s++)for(var a=0;a<o;a++)n[""+String.fromCharCode(65+a)+(s+2)]=this._stGet(t._d[s],i[a]);return n["!ref"]="A1:"+String.fromCharCode(65+o-1)+(r+1),e},t.prototype.export=function(t){if(!this.xlsxSrv)throw new Error("muse be import 'AdXlsxModule' module, but got null");var e=this.genSheet(t);return this.xlsxSrv.export({sheets:e,filename:t.filename,callback:t.callback})},t.decorators=[{type:d.Injectable}],t.ctorParameters=function(){return[{type:qt,decorators:[{type:d.Optional}]}]},t}(),$t=function(){function t(t,e,n,i,o,r,s,a,c,l,p,u,h){this.defConfig=t,this.http=e,this.el=n,this.renderer=i,this.exportSrv=o,this.acl=r,this.i18nSrv=s,this.modal=a,this.currenty=c,this.date=l,this.yn=p,this.number=u,this.doc=h,this._inited=!1,this._data=[],this._isAjax=!1,this._isPagination=!0,this._classMap=[],this._allChecked=!1,this._indeterminate=!1,this._columns=[],this.reqMehtod="GET",this._reqReName={pi:"pi",ps:"ps"},this.reqError=new d.EventEmitter,this._resReName={total:["total"],list:["list"]},this.columns=[],this._ps=10,this._pi=1,this._total=0,this._loading=!1,this._loadingDelay=0,this._bordered=!1,this.size="default",this._showSizeChanger=!1,this._showQuickJumper=!1,this._totalTpl="",this._isPageIndexReset=!0,this.pagePlacement="right",this._toTopInChange=!0,this._toTopOffset=100,this._multiSort=!1,this.change=new d.EventEmitter,this.checkboxChange=new d.EventEmitter,this.radioChange=new d.EventEmitter,this.sortChange=new d.EventEmitter,this.filterChange=new d.EventEmitter,this._sortMap={},this._sortColumn=null,Object.assign(this,f.deepCopy(t))}return Object.defineProperty(t.prototype,"reqReName",{get:function(){return this._reqReName},set:function(t){this._reqReName=Object.assign(this._reqReName,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resReName",{get:function(){return this._resReName},set:function(t){var e={};t?(t.list?e.list=Array.isArray(t.list)?t.list:t.list.split("."):e.list=["list"],t.total?e.total=Array.isArray(t.total)?t.total:t.total.split("."):e.total=["total"]):e={total:["total"],list:["list"]},this._resReName=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ps",{get:function(){return this._ps},set:function(t){this._ps=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pi",{get:function(){return this._pi},set:function(t){this._pi=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this._total},set:function(t){this._total=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPagination",{get:function(){return this._showPagination},set:function(t){this._showPagination=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(t){this._loading=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadingDelay",{get:function(){return this._loadingDelay},set:function(t){this._loadingDelay=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bordered",{get:function(){return this._bordered},set:function(t){this._bordered=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSizeChanger",{get:function(){return this._showSizeChanger},set:function(t){this._showSizeChanger=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showQuickJumper",{get:function(){return this._showQuickJumper},set:function(t){this._showQuickJumper=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTotal",{set:function(t){"string"==typeof t&&t.length?this._totalTpl=t:i.coerceBooleanProperty(t)?this._totalTpl="共 {{total}} 条":this._totalTpl=""},enumerable:!0,configurable:!0}),t.prototype.renderTotal=function(t,e){return this._totalTpl?this._totalTpl.replace("{{total}}",t).replace("{{range[0]}}",e[0]).replace("{{range[1]}}",e[1]):""},Object.defineProperty(t.prototype,"isPageIndexReset",{get:function(){return this._isPageIndexReset},set:function(t){this._isPageIndexReset=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toTopInChange",{get:function(){return this._toTopInChange},set:function(t){this._toTopInChange=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toTopOffset",{get:function(){return this._toTopOffset},set:function(t){this._toTopOffset=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"multiSort",{get:function(){return this._multiSort},set:function(t){this._multiSort=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.getAjaxData=function(t){var e,i=this,n=Object.assign(((e={})[this.reqReName.pi]=this.pi,e[this.reqReName.ps]=this.ps,e),this.extraParams,this.getReqSortMap(),this.getReqFilterMap());return this.http.request(this.reqMehtod||"GET",t||this._url,{params:n,body:this.reqBody,headers:this.reqHeaders}).pipe(u.map(function(t){var e=f.deepGet(t,i.resReName.list,[]);if(null==e||!Array.isArray(e))return[];var n=i.resReName.total&&f.deepGet(t,i.resReName.total,null);return i.total=null==n?i.total||0:+n,e}))},t.prototype.load=function(t,e){void 0===t&&(t=1),-1!==t&&(this.pi=t),this.extraParams=e||null,this._change("pi")},t.prototype.reload=function(t){this.load(-1,t)},t.prototype.reset=function(t){this.load(1,t)},t.prototype._change=function(t){this._inited&&(this._genAjax(),this._genData(),this._toTop(),this.change.emit({type:t,pi:this.pi,ps:this.ps,total:this.total}))},t.prototype._genAjax=function(t){var e=this;void 0===t&&(t=!1),this._isAjax&&((this.loading=!0)===t&&(this.pi=1),this.getAjaxData().subscribe(function(t){return e._subscribeData(t)},function(t){e.loading=!1,e.reqError.emit(t)}))},t.prototype._genData=function(t){if(void 0===t&&(t=!1),!this._isAjax){var e=this.data||[];e=e.slice(0);var n=this.getSorterFn();if(n&&(e=this.recursiveSort(e,n)),this._columns.filter(function(t){return t.filters&&t.filters.length}).forEach(function(t){var n=t.filters.filter(function(t){return t.checked});if(0!==n.length){var i=t.filter;e=e.filter(function(e){return n.some(function(t){return i(t,e)})})}}),t)if(this.isPageIndexReset)this.pi=1;else{var i=Math.ceil(e.length/this.ps);this.pi=this.pi?this.pi>i?i:this.pi:1}this.total=e.length,this._isPagination=void 0===this.showPagination?0<this.ps&&this.total>this.ps:this.showPagination,this._subscribeData(this._isPagination?e.slice((this.pi-1)*this.ps,this.pi*this.ps):e)}},t.prototype._toTop=function(){this.toTopInChange&&(this.scroll?this.el.nativeElement.querySelector(".ant-table-body").scrollTo(0,0):(this.el.nativeElement.scrollIntoView&&this.el.nativeElement.scrollIntoView(),this.doc.documentElement.scrollTop-=this.toTopOffset))},t.prototype._get=function(t,e){if(e.format)return e.format(t,e);var n=f.deepGet(t,e.index,e.default);if(void 0===n)return e.default;var i=n;switch(e.type){case"img":i='<img src="'+n+'" class="img">';break;case"number":i=this.number.transform(n,e.numberDigits);break;case"currency":i=this.currenty.transform(n);break;case"date":i=this.date.transform(n,e.dateFormat);break;case"yn":i=this.yn.transform(n===e.ynTruth,e.ynYes,e.ynNo)}return i||e.default},t.prototype._click=function(t,e,n){return t.preventDefault(),t.stopPropagation(),n.click&&n.click(e,this),!1},t.prototype.getDataObs=function(t){return t||Array.isArray(this.data)?m.of(t||this.data):this.data},t.prototype.processData=function(){var e=this;if(!this.data)return this._isAjax=!1,void(this.data=[]);this._isAjax=!1,"string"==typeof this.data?(this._url=this.data,this._isAjax=!0,this._genAjax(!0)):Array.isArray(this.data)?this._genData(!0):this.data$||(this.data$=this.data.pipe(u.tap(function(){return e.loading=!0})).subscribe(function(t){e.data=t,e._genData(!0)}))},t.prototype._subscribeData=function(t){this.preDataChange&&(t=this.preDataChange(t)),this.loading=!1,this._data=t,this._refCheck()},t.prototype.getReqSortMap=function(){var n=this,i={};if(!this._sortOrder)return i;if(this.multiSort)Object.keys(this._sortMap).forEach(function(t){var e=n._sortMap[t];e.v&&(i[e.key]=(e.column.sortReName||n.sortReName||{})[e.v]||e.v)});else{var t=this._sortMap[this._sortIndex];i[t.key]=(this._sortColumn.sortReName||this.sortReName||{})[t.v]||t.v}return i},t.prototype.recursiveSort=function(t,n){var i=this,o="children";return t.sort(n).map(function(t){return t[o]?P({},t,((e={})[o]=i.recursiveSort(t[o],n),e)):t;var e})},t.prototype.getSorterFn=function(){var i=this;if(this._sortOrder&&this._sortColumn&&"function"==typeof this._sortColumn.sorter)return function(t,e){var n=i._sortColumn.sorter(t,e);return 0!==n?"descend"===i._sortOrder?-n:n:0}},t.prototype.sort=function(e,n){var i=this;this._sortIndex===e&&this._sortOrder===n||(this._sortColumn=this._columns[e],this._sortOrder=n,this._sortIndex=e,this.multiSort?this._sortMap[e].v=n:Object.keys(this._sortMap).forEach(function(t){return i._sortMap[t].v=+t===e?n:null}),this._genAjax(!0),this._genData(!0),this.sortChange.emit({value:n,map:this.getReqSortMap(),column:this._sortColumn}))},t.prototype.getReqFilterMap=function(){var i={};return this._columns.filter(function(t){return!0===t.filtered}).forEach(function(t){var e=t.filters.filter(function(t){return!0===t.checked}),n={};t.filterReName?n=t.filterReName(t.filters,t):n[t.filterKey||t.indexKey]=e.map(function(t){return t.value}).join(","),i=Object.assign(i,n)}),i},t.prototype.handleFilter=function(t){t.filtered=-1!==t.filters.findIndex(function(t){return t.checked}),this._genAjax(!0),this._genData(!0),this.filterChange.emit(t)},t.prototype.filterConfirm=function(t){this.handleFilter(t)},t.prototype.filterClear=function(t){t.filters.forEach(function(t){return t.checked=!1}),this.handleFilter(t)},t.prototype.filterRadio=function(t,e,n){t.filters.forEach(function(t){return t.checked=!1}),e.checked=n},t.prototype.clearCheck=function(){return this._checkAll(!1)},t.prototype._checkAll=function(e){return e=void 0===e?this._allChecked:e,this._data.filter(function(t){return!t.disabled}).forEach(function(t){return t.checked=e}),this._refCheck()._checkNotify()},t.prototype._checkSelection=function(t,e){return t.checked=e,this._refCheck()._checkNotify()},t.prototype._refCheck=function(){var t=this._data.filter(function(t){return!t.disabled}),e=t.filter(function(t){return!0===t.checked});this._allChecked=0<e.length&&e.length===t.length;var n=t.every(function(t){return!t.checked});return this._indeterminate=!this._allChecked&&!n,this},t.prototype._rowSelection=function(t){return t.select&&t.select(this._data),this._refCheck()._checkNotify()},t.prototype._checkNotify=function(){return this.checkboxChange.emit(this._data.filter(function(t){return!t.disabled&&!0===t.checked})),this},t.prototype.clearRadio=function(){return this._data.filter(function(t){return t.checked}).forEach(function(t){return t.checked=!1}),this.radioChange.emit(null),this},t.prototype._refRadio=function(t,e,n){if(!0!==n.disabled)return this._data.filter(function(t){return!t.disabled}).forEach(function(t){return t.checked=!1}),n.checked=e,this.radioChange.emit(n),this},t.prototype.btnCoerceIf=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];i.if||(i.if=function(){return!0}),i.children||(i.children=[]),0<i.children.length&&this.btnCoerceIf(i.children)}},t.prototype.btnClick=function(e,n){var i=this;if("modal"===n.type||"static"===n.type){var t={};return t[n.paramName||this.defConfig.modalParamsName||"record"]=e,void this.modal["modal"===n.type?"open":"static"](n.component,Object.assign(t,n.params&&n.params(e)),n.size,n.modalOptions).pipe(u.filter(function(t){return void 0!==t})).subscribe(function(t){n.click&&i.btnCallback(e,n,t)})}this.btnCallback(e,n)},t.prototype.btnCallback=function(t,e,n){if(e.click)if("string"==typeof e.click)switch(e.click){case"load":this.load();break;case"reload":this.reload()}else e.click(t,n,this)},t.prototype.btnText=function(t,e){return e.format?e.format(t,e):e.text},t.prototype.fixedCoerce=function(n){n.forEach(function(t,e){t.fixed&&t.width&&("left"===t.fixed?t._left=0===e?"0px":n[e-1].width:"right"===t.fixed&&(t._right=e===n.length-1?"0px":n[e+1].width))})},t.prototype.export=function(t,e){var n=this;(!t&&this._isAjax||t&&"string"==typeof t?this.getAjaxData(t):this.getDataObs(t)).subscribe(function(t){return n.exportSrv.export(Object.assign({},e,{_d:t,_c:n._columns}))})},t.prototype.ngOnInit=function(){this._inited=!0,this.updateColumns(),this.processData()},t.prototype.setClass=function(){var e=this;this._classMap.forEach(function(t){return e.renderer.removeClass(e.el.nativeElement,t)}),this._classMap=[],this.pagePlacement&&this._classMap.push("ad-st__p"+this.pagePlacement),this._classMap.forEach(function(t){return e.renderer.addClass(e.el.nativeElement,t)})},t.prototype.updateColumns=function(){var e=this;if(this._columns=[],!this.columns||0===this.columns.length)throw new Error("the columns property muse be define!");for(var t=0,n=0,i={},o=0,r=[],s=0,a=f.deepCopy(this.columns);s<a.length;s++){var c=a[s];if(!this.acl||!c.acl||this.acl.can(c.acl)){c.index&&(Array.isArray(c.index)||(c.index=c.index.split(".")),c.indexKey=c.index.join(".")),c.selections||(c.selections=[]),"checkbox"===c.type&&(++t,c.width||(c.width=(0<c.selections.length?60:50)+"px")),"radio"===c.type&&(++n,c.selections=[],c.width||(c.width="50px")),c.className||(c.className={number:"text-right",currency:"text-right",date:"text-center"}[c.type]),"yn"===c.type&&void 0===c.ynTruth&&(c.ynTruth=!0),c.sorter?(i[o]={enabled:!0,v:c.sort,key:c.sortKey||c.indexKey,column:c},c.sort&&!this._sortColumn&&(this._sortColumn=c,this._sortOrder=c.sort,this._sortIndex=o)):i[o]={enabled:!1},c.filter&&c.filters||(c.filters=[]),void 0===c.filterMultiple&&(c.filterMultiple=!0),c.filterConfirmText||(c.filterConfirmText="确认"),c.filterClearText||(c.filterClearText="重置"),c.filterIcon||(c.filterIcon="anticon anticon-filter"),c.filtered=-1!==c.filters.findIndex(function(t){return t.checked}),this.acl&&(c.selections=c.selections.filter(function(t){return!t.acl||e.acl.can(t.acl)}),c.filters=c.filters.filter(function(t){return!t.acl||e.acl.can(t.acl)}));var l=[];if(c.buttons){for(var p=0,u=c.buttons;p<u.length;p++){var h=u[p];this.acl&&h.acl&&!this.acl.can(h.acl)||("del"===h.type&&void 0===h.pop&&(h.pop=!0),!0===h.pop&&(h._type=2,void 0===h.popTitle&&(h.popTitle="确认删除吗？")),h.children&&0<h.children.length&&(h._type=3),h._type||(h._type=1),h.i18n&&this.i18nSrv&&(h.text=this.i18nSrv.fanyi(h.i18n)),l.push(h))}if(0===l.length)continue;this.btnCoerceIf(l)}c.buttons=l,c.i18n&&this.i18nSrv&&(c.title=this.i18nSrv.fanyi(c.i18n)),++o,r.push(c)}}if(this.fixedCoerce(r),this._columns=r,1<t)throw new Error("just only one column checkbox");if(1<n)throw new Error("just only one column radio");this._sortMap=i},t.prototype.ngOnChanges=function(t){t.columns&&this._inited&&this.updateColumns(),t.data&&this._inited&&this.processData(),this.setClass()},t.prototype.ngOnDestroy=function(){this.data$&&(this.data$.unsubscribe(),this.data$=null)},t.decorators=[{type:d.Component,args:[{selector:"simple-table",template:'<nz-table [nzData]="_data" [(nzPageIndex)]="pi" (nzPageIndexChange)="_change(\'pi\')" [(nzPageSize)]="ps" (nzPageSizeChange)="_change(\'ps\')" [nzTotal]="total" [nzShowPagination]="_isPagination" [nzFrontPagination]="false" [nzBordered]="bordered" [nzSize]="size" [nzLoading]="loading" [nzLoadingDelay]="loadingDelay" [nzScroll]="scroll" [nzTitle]="header" [nzFooter]="footer" [nzNoResult]="noResult" [nzPageSizeOptions]="pageSizeOptions" [nzShowQuickJumper]="showQuickJumper" [nzShowSizeChanger]="showSizeChanger" [nzShowTotal]="totalTpl"> <thead> <tr> <th *ngIf="expand" [nzShowExpand]="expand"></th> <th *ngFor="let c of _columns; let index=index" [nzWidth]="c.width" [nzLeft]="c._left" [nzRight]="c._right" [ngClass]="c.className" [attr.colspan]="c.colSpan" [attr.data-col]="c.indexKey" [nzShowSort]="_sortMap[index].enabled" [(nzSort)]="_sortMap[index].v" (nzSortChange)="sort(index, $event)"> <ng-template #renderTitle [ngTemplateOutlet]="c.__renderTitle" [ngTemplateOutletContext]="{$implicit: c, index: index }"></ng-template> <ng-container *ngIf="!c.__renderTitle; else renderTitle"> <ng-container [ngSwitch]="c.type"> <ng-container *ngSwitchCase="\'checkbox\'"> <label nz-checkbox [(ngModel)]="_allChecked" [nzIndeterminate]="_indeterminate" (ngModelChange)="_checkAll()"></label> <nz-dropdown *ngIf="c.selections.length"> <span nz-dropdown> <i class="anticon anticon-down"></i> </span> <ul nz-menu> <li nz-menu-item *ngFor="let rw of c.selections" (click)="_rowSelection(rw)" [innerHTML]="rw.text"> </li> </ul> </nz-dropdown> </ng-container> <ng-container *ngSwitchDefault> <span [innerHTML]="c.title"></span> </ng-container> </ng-container> <nz-dropdown *ngIf="c.filters.length > 0" nzTrigger="click" [hasFilterButton]="true" [nzClickHide]="false" [(nzVisible)]="c.filterVisible"> <i class="{{c.filterIcon}}" [ngClass]="{\'ant-table-filter-selected\': c.filtered}" nz-dropdown></i> <ul nz-menu> <ng-container *ngIf="c.filterMultiple"> <li nz-menu-item *ngFor="let filter of c.filters"> <label nz-checkbox [(ngModel)]="filter.checked">{{filter.text}}</label> </li> </ng-container> <ng-container *ngIf="!c.filterMultiple"> <li nz-menu-item *ngFor="let filter of c.filters"> <label nz-radio [ngModel]="filter.checked" (ngModelChange)="filterRadio(c, filter, $event)">{{filter.text}}</label> </li> </ng-container> </ul> <div class="ant-table-filter-dropdown-btns"> <a class="ant-table-filter-dropdown-link confirm" (click)="c.filterVisible = false"> <span (click)="filterConfirm(c)">{{c.filterConfirmText}}</span> </a> <a class="ant-table-filter-dropdown-link clear" (click)="c.filterVisible = false"> <span (click)="filterClear(c)">{{c.filterClearText}}</span> </a> </div> </nz-dropdown> </ng-container> </th> </tr> </thead> <tbody> <ng-container *ngFor="let i of _data; let index=index"> <tr> <td *ngIf="expand" [nzShowExpand]="expand" [(nzExpand)]="i.expand"></td> <td *ngFor="let c of _columns" [nzLeft]="c._left" [nzRight]="c._right" [nzCheckbox]="c.type === \'checkbox\'" [ngClass]="c.className" [attr.colspan]="c.colSpan"> <ng-template #render [ngTemplateOutlet]="c.__render" [ngTemplateOutletContext]="{$implicit: i, index: index, column: c }"></ng-template> <ng-container *ngIf="!c.__render; else render"> <ng-container *ngIf="c.index" [ngSwitch]="c.type"> <ng-container *ngSwitchCase="\'checkbox\'"> <label nz-checkbox [nzDisabled]="i.disabled" [ngModel]="i.checked" (ngModelChange)="_checkSelection(i, $event)"></label> </ng-container> <ng-container *ngSwitchCase="\'radio\'"> <label nz-radio [nzDisabled]="i.disabled" [ngModel]="i.checked" (ngModelChange)="_refRadio(index, $event, i)"></label> </ng-container> <ng-container *ngSwitchCase="\'link\'"> <a (click)="_click($event, i, c)" [innerHTML]="_get(i, c)"></a> </ng-container> <span *ngSwitchDefault [innerHTML]="_get(i, c)"></span> </ng-container> <ng-container *ngFor="let btn of c.buttons; let last=last"> <ng-container *ngIf="btn.if(i, btn, c)" [ngSwitch]="btn._type"> <ng-container *ngSwitchCase="2"> <nz-popconfirm [nzTitle]="btn.popTitle" (nzOnConfirm)="btnClick(i, btn)"> <a nz-popconfirm [innerHTML]="btnText(i, btn)"></a> </nz-popconfirm> </ng-container> <ng-container *ngSwitchCase="3"> <nz-dropdown> <a class="ant-dropdown-link" nz-dropdown> {{btnText(i, btn)}} <i class="anticon anticon-down"></i> </a> <ul nz-menu> <ng-container *ngFor="let subBtn of btn.children"> <li nz-menu-item *ngIf="btn.if(i, btn, c)"> <a (click)="btnClick(i, subBtn)" [innerHTML]="btnText(i, subBtn)"></a> </li> </ng-container> </ul> </nz-dropdown> </ng-container> <a *ngSwitchDefault (click)="btnClick(i, btn)" [innerHTML]="btnText(i, btn)"></a> <nz-divider *ngIf="!last" nzType="vertical"></nz-divider> </ng-container> </ng-container> <ng-template [ngIf]="!c.__renderExpanded" [ngTemplateOutlet]="c.__renderExpanded" [ngTemplateOutletContext]="{$implicit: i, index: index, column: c }"></ng-template> </ng-container> </td> </tr> <tr [nzExpand]="i.expand"> <td></td> <td [attr.colspan]="_columns.length"> <ng-template [ngTemplateOutlet]="expand" [ngTemplateOutletContext]="{$implicit: i, index: index, column: c }"></ng-template> </td> </tr> </ng-container> <ng-template [ngIf]="!loading" [ngTemplateOutlet]="body"></ng-template> </tbody> <ng-template #totalTpl let-range="range" let-total>{{ renderTotal(total, range) }}</ng-template> </nz-table> ',host:{"[class.ad-st]":"true"},providers:[Wt,r.CNCurrencyPipe,r.DatePipe,r.YNPipe,n.DecimalPipe],preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:Bt},{type:s.HttpClient},{type:d.ElementRef},{type:d.Renderer2},{type:Wt},{type:y.ACLService,decorators:[{type:d.Optional}]},{type:void 0,decorators:[{type:d.Optional},{type:d.Inject,args:[r.ALAIN_I18N_TOKEN]}]},{type:r.ModalHelper},{type:r.CNCurrencyPipe},{type:r.DatePipe},{type:r.YNPipe},{type:n.DecimalPipe},{type:void 0,decorators:[{type:d.Inject,args:[e.DOCUMENT]}]}]},t.propDecorators={data:[{type:d.Input}],extraParams:[{type:d.Input}],reqMehtod:[{type:d.Input}],reqBody:[{type:d.Input}],reqHeaders:[{type:d.Input}],reqReName:[{type:d.Input}],reqError:[{type:d.Output}],resReName:[{type:d.Input}],columns:[{type:d.Input}],ps:[{type:d.Input}],pi:[{type:d.Input}],total:[{type:d.Input}],showPagination:[{type:d.Input}],loading:[{type:d.Input}],loadingDelay:[{type:d.Input}],bordered:[{type:d.Input}],size:[{type:d.Input}],scroll:[{type:d.Input}],showSizeChanger:[{type:d.Input}],pageSizeOptions:[{type:d.Input}],showQuickJumper:[{type:d.Input}],showTotal:[{type:d.Input}],isPageIndexReset:[{type:d.Input}],pagePlacement:[{type:d.Input}],toTopInChange:[{type:d.Input}],toTopOffset:[{type:d.Input}],sortReName:[{type:d.Input}],multiSort:[{type:d.Input}],preDataChange:[{type:d.Input}],header:[{type:d.ContentChild,args:["header"]}],body:[{type:d.ContentChild,args:["body"]}],footer:[{type:d.ContentChild,args:["footer"]}],expand:[{type:d.ContentChild,args:["expand"]}],noResult:[{type:d.Input}],widthConfig:[{type:d.Input}],change:[{type:d.Output}],checkboxChange:[{type:d.Output}],radioChange:[{type:d.Output}],sortChange:[{type:d.Output}],filterChange:[{type:d.Output}]},t}(),Gt=function(){function t(t,e){this.templateRef=t,this.table=e}return t.prototype.ngOnInit=function(){var e=this,t=this.table._columns.find(function(t){return t.render===e.id});if(t)switch(this.type){case"title":t.__renderTitle=this.templateRef;break;default:t.__render=this.templateRef}},t.decorators=[{type:d.Directive,args:[{selector:"[st-row]"}]}],t.ctorParameters=function(){return[{type:d.TemplateRef},{type:$t}]},t.propDecorators={id:[{type:d.Input,args:["st-row"]}],type:[{type:d.Input}]},t}(),Ut=[$t,Gt],Vt=[o.NgZorroAntdModule],Xt=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Bt]}},t.decorators=[{type:d.NgModule,args:[{schemas:[d.NO_ERRORS_SCHEMA],imports:[n.CommonModule,g.FormsModule,f.DelonUtilModule].concat(Vt),declarations:Ut.slice(),exports:Ut.slice()}]}],t}(),Zt={Menu:0,MenuForce:1,URL:2};Zt[Zt.Menu]="Menu",Zt[Zt.MenuForce]="MenuForce",Zt[Zt.URL]="URL";var Yt=function(){function t(t,e){this.injector=t,this.menuService=e,this._max=10,this._debug=!1,this._mode=Zt.Menu,this._excludes=[],this._cachedChange=new v.BehaviorSubject(null),this._cached=[],this._titleCached={},this._closableCached={}}return Object.defineProperty(t.prototype,"max",{set:function(t){this._max=Math.min(Math.max(t,2),100);for(var e=this._cached.length;e>this._max;e--)this._cached.pop()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debug",{get:function(){return this._debug},set:function(t){this._debug=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"excludes",{get:function(){return this._excludes},set:function(t){t&&(this._excludes=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._cached},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._cached.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"change",{get:function(){return this._cachedChange.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{set:function(t){var e=this.getUrl(this.injector.get(p.ActivatedRoute).snapshot);"string"==typeof t&&(t={text:t}),this._titleCached[e]=t,this.di("update current tag title: ",t),this._cachedChange.next({active:"title",title:t,list:this._cached})},enumerable:!0,configurable:!0}),t.prototype.index=function(e){return this._cached.findIndex(function(t){return t.url===e})},t.prototype.exists=function(t){return-1!==this.index(t)},t.prototype.get=function(e){return e&&this._cached.find(function(t){return t.url===e})||null},t.prototype.remove=function(t,e){var n="string"==typeof t?this.index(t):t,i=-1!==n?this._cached[n]:null;return!(!i||!e&&!i.closable)&&(this.destroy(i._handle),this._cached.splice(n,1),delete this._titleCached[t],!0)},t.prototype.close=function(t,e){return void 0===e&&(e=!1),this.removeUrlBuffer=t,this.remove(t,e),this._cachedChange.next({active:"close",url:t,list:this._cached}),this.di("close tag",t),!0},t.prototype.closeRight=function(t,e){void 0===e&&(e=!1);for(var n=this.index(t),i=this.count-1;n<i;i--)this.remove(i,e);return this.removeUrlBuffer=null,this._cachedChange.next({active:"closeRight",url:t,list:this._cached}),this.di("close right tages",t),!0},t.prototype.clear=function(e){var n=this;void 0===e&&(e=!1),this._cached.forEach(function(t){!e&&t.closable&&n.destroy(t._handle)}),this._cached=this._cached.filter(function(t){return!e&&!t.closable}),this.removeUrlBuffer=null,this._cachedChange.next({active:"clear",list:this._cached}),this.di("clear all catch")},t.prototype.move=function(e,t){var n=this._cached.findIndex(function(t){return t.url===e});if(-1!==n){var i=this._cached.slice();i.splice(t<0?i.length+t:t,0,i.splice(n,1)[0]),this._cached=i,this._cachedChange.next({active:"move",url:e,position:t,list:this._cached})}},t.prototype.getTitle=function(t,e){if(this._titleCached[t])return this._titleCached[t];if(e&&e.data&&(e.data.titleI18n||e.data.title))return{text:e.data.title,i18n:e.data.titleI18n};var n=this.mode!==Zt.URL?this.getMenu(t):null;return n?{text:n.text,i18n:n.i18n}:{text:t}},t.prototype.clearTitleCached=function(){this._titleCached={}},Object.defineProperty(t.prototype,"closable",{set:function(t){var e=this.getUrl(this.injector.get(p.ActivatedRoute).snapshot);this._closableCached[e]=t,this.di("update current tag closable: ",t),this._cachedChange.next({active:"closable",closable:t,list:this._cached})},enumerable:!0,configurable:!0}),t.prototype.getClosable=function(t,e){if(void 0!==this._closableCached[t])return this._closableCached[t];if(e&&e.data&&"boolean"==typeof e.data.reuseClosable)return e.data.reuseClosable;var n=this.mode!==Zt.URL?this.getMenu(t):null;return!n||"boolean"!=typeof n.reuseClosable||n.reuseClosable},t.prototype.clearClosableCached=function(){this._closableCached={}},t.prototype.getTruthRoute=function(t){for(var e=t;e.firstChild;)e=e.firstChild;return e},t.prototype.getUrl=function(t){for(var e=this.getTruthRoute(t),n=[];e;)n.push(e.url.join("/")),e=e.parent;return"/"+n.filter(function(t){return t}).reverse().join("/")},t.prototype.can=function(t){var e=this.getUrl(t);if(e===this.removeUrlBuffer)return!1;if(t.data&&"boolean"==typeof t.data.reuse)return t.data.reuse;if(this.mode!==Zt.URL){var n=this.getMenu(e);if(!n)return!1;if(this.mode===Zt.Menu){if(!1===n.reuse)return!1}else if(!n.reuse||!0!==n.reuse)return!1;return!0}return-1===this._excludes.findIndex(function(t){return t.test(e)})},t.prototype.refresh=function(t){this._cachedChange.next({active:"refresh",data:t})},t.prototype.destroy=function(t){t&&t.componentRef&&t.componentRef.destroy&&t.componentRef.destroy()},t.prototype.di=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.debug&&console.warn.apply(console,t)},t.prototype.getMenu=function(t){var e=this.menuService?this.menuService.getPathByUrl(t):[];return e&&0!==e.length?e.pop():null},t.prototype.runHook=function(t,e,n){n.instance&&n.instance.hasOwnProperty(t)&&n.instance[t]()},t.prototype.hasInValidRoute=function(t){return!t.routeConfig||t.routeConfig.loadChildren||t.routeConfig.children},t.prototype.shouldDetach=function(t){return!this.hasInValidRoute(t)&&(this.di("#shouldDetach",this.can(t),this.getUrl(t)),this.can(t))},t.prototype.store=function(t,e){this.count>=this._max&&this._cached.shift();var n=this.getUrl(t),i=this.index(n),o={title:this.getTitle(n,t),closable:this.getClosable(n,t),url:n,_snapshot:t,_handle:e};-1===i?this._cached.push(o):this._cached[i]=o,this.removeUrlBuffer=null,this.di("#store",-1===i?"[new]":"[override]",n),e&&e.componentRef&&this.runHook("_onReuseDestroy",n,e.componentRef),this._cachedChange.next({active:"add",item:o,list:this._cached})},t.prototype.shouldAttach=function(t){if(this.hasInValidRoute(t))return!1;var e=this.getUrl(t),n=this.get(e),i=!(!n||!n._handle);return this.di("#shouldAttach",i,e),i},t.prototype.retrieve=function(t){if(this.hasInValidRoute(t))return null;var e=this.getUrl(t),n=this.get(e),i=n&&n._handle||null;return this.di("#retrieve",e,i),i&&i.componentRef&&this.runHook("_onReuseInit",e,i.componentRef),i},t.prototype.shouldReuseRoute=function(t,e){var n=t.routeConfig===e.routeConfig;if(!n)return!1;var i=t.routeConfig&&t.routeConfig.path||"";0<i.length&&~i.indexOf(":")&&(n=this.getUrl(t)===this.getUrl(e));return this.di("====================="),this.di("#shouldReuseRoute",n,this.getUrl(e)+"=>"+this.getUrl(t),t,e),n},t.prototype.ngOnDestroy=function(){this._cached=[],this._cachedChange.unsubscribe()},t.decorators=[{type:d.Injectable}],t.ctorParameters=function(){return[{type:d.Injector},{type:r.MenuService,decorators:[{type:d.Optional}]}]},t}(),Qt=function(){function t(){this.close=new d.EventEmitter}return Object.defineProperty(t.prototype,"i18n",{get:function(){return this._i18n},set:function(t){this._i18n=Object.assign({close:"关闭标签",closeOther:"关闭其它标签",closeRight:"关闭右侧标签",clear:"清空"},t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includeNonCloseable",{get:function(){return this.event.ctrlKey},enumerable:!0,configurable:!0}),t.prototype.notify=function(t,e){this.close.next({type:t,item:this.item,includeNonCloseable:this.includeNonCloseable})},t.prototype.ngOnInit=function(){this.includeNonCloseable&&(this.item.closable=!0)},t.prototype.click=function(t,e){t.preventDefault(),t.stopPropagation(),("close"!==e||this.item.closable)&&("closeRight"===e&&this.item.last||this.notify(e,this.item))},t.prototype.closeMenu=function(t){"click"===t.type&&2===t.button||this.notify(null,null)},t.decorators=[{type:d.Component,args:[{selector:"reuse-tab-context-menu",template:'\n  <ul nz-menu>\n      <li nz-menu-item (click)="click($event, \'close\')" data-type="close" [nzDisabled]="!item.closable" [innerHTML]="i18n.close"></li>\n      <li nz-menu-item (click)="click($event, \'closeOther\')" data-type="closeOther" [innerHTML]="i18n.closeOther"></li>\n      <li nz-menu-item (click)="click($event, \'closeRight\')" data-type="closeRight" [nzDisabled]="item.last" [innerHTML]="i18n.closeRight"></li>\n      <li nz-menu-item (click)="click($event, \'clear\')" data-type="clear" [innerHTML]="i18n.clear"></li>\n  </ul>',preserveWhitespaces:!1}]}],t.propDecorators={i18n:[{type:d.Input}],item:[{type:d.Input}],event:[{type:d.Input}],close:[{type:d.Output}],closeMenu:[{type:d.HostListener,args:["document:click",["$event"]]},{type:d.HostListener,args:["document:contextmenu",["$event"]]}]},t}(),Kt=function(){function t(t){this.overlay=t,this.show=new I.Subject,this.close=new I.Subject}return t.prototype.remove=function(){this.ref&&(this.ref.detach(),this.ref.dispose(),this.ref=null)},t.prototype.open=function(t){var e=this;this.remove();var n=t.event,i=t.item,o={getBoundingClientRect:function(){return{bottom:n.clientY,height:0,left:n.clientX,right:n.clientX,top:n.clientY,width:0}}},r=this.overlay.position().connectedTo({nativeElement:o},{originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}).withFallbackPosition({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}).withFallbackPosition({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}).withFallbackPosition({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}).withFallbackPosition({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"});this.ref=this.overlay.create({positionStrategy:r,panelClass:"reuse-tab-cm",scrollStrategy:this.overlay.scrollStrategies.close()});var s=this.ref.attach(new C.ComponentPortal(Qt)),a=s.instance;a.i18n=this.i18n,a.item=P({},i),a.event=n;var c=new x.Subscription;c.add(a.close.subscribe(function(t){e.close.next(t),e.remove()})),s.onDestroy(function(){return c.unsubscribe()})},t.decorators=[{type:d.Injectable}],t.ctorParameters=function(){return[{type:_.Overlay}]},t}(),Jt=function(){function t(t,e,n,i,o,r,s,a){var c=this;this.srv=t,this.cd=e,this.router=n,this.route=i,this.el=o,this.render=r,this.doc=s,this.i18nSrv=a,this.list=[],this.pos=0,this.mode=Zt.Menu,this._debug=!1,this._allowClose=!0,this._fixed=!0,this._showCurrent=!0,this.change=new d.EventEmitter,this.close=new d.EventEmitter;var l=this.router.events.pipe(u.filter(function(t){return t instanceof p.NavigationEnd}));this.sub$=b.combineLatest(this.srv.change,l).subscribe(function(t){var e=t[0];return c.genList(e)}),this.i18nSrv&&(this.i18n$=this.i18nSrv.change.subscribe(function(){return c.genList()}))}return Object.defineProperty(t.prototype,"debug",{get:function(){return this._debug},set:function(t){this._debug=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){this._max=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowClose",{get:function(){return this._allowClose},set:function(t){this._allowClose=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixed",{get:function(){return this._fixed},set:function(t){this._fixed=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCurrent",{get:function(){return this._showCurrent},set:function(t){this._showCurrent=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.genTit=function(t){return t.i18n&&this.i18nSrv?this.i18nSrv.fanyi(t.i18n):t.text},t.prototype.genList=function(e){var n=this,t=e&&"close"===e.active,i=t?this.list.findIndex(function(t){return t.url===e.url}):-1,o=this.srv.items.map(function(t,e){return{url:t.url,title:n.genTit(t.title),closable:n.allowClose&&t.closable&&0<n.srv.count,index:e,active:!1,last:!1}});if(this.showCurrent){var r=this.route.snapshot,s=this.srv.getUrl(r),a=o.findIndex(function(t){return t.url===s});if(-1!==a||t&&e.url===s)this.pos=t?i<=a?this.pos-1:this.pos:a;else{var c=this.srv.getTruthRoute(r);o.push({url:s,title:this.genTit(this.srv.getTitle(s,c)),closable:this.allowClose&&0<this.srv.count&&this.srv.getClosable(s,c),index:o.length,active:!1,last:!1}),this.pos=o.length-1}o.length<=1&&(o[0].closable=!1)}(this.list=o).length&&t&&this.to(null,this.pos),this.refStatus(!1),this.visibility(),this.cd.detectChanges()},t.prototype.visibility=function(){this.showCurrent||this.render.setStyle(this.el.nativeElement,"display",0===this.list.length?"none":"block")},t.prototype.cmChange=function(t){switch(t.type){case"close":this._close(null,t.item.index,t.includeNonCloseable);break;case"closeRight":this.srv.closeRight(t.item.url,t.includeNonCloseable),this.close.emit(null);break;case"clear":case"closeOther":this.srv.clear(t.includeNonCloseable),this.close.emit(null)}},t.prototype.refStatus=function(t){var n=this;void 0===t&&(t=!0),this.list.length&&(this.list[this.list.length-1].last=!0,this.list.forEach(function(t,e){return t.active=n.pos===e})),t&&this.cd.detectChanges()},t.prototype.to=function(t,e){var n=this;t&&(t.preventDefault(),t.stopPropagation()),e=Math.max(0,Math.min(e,this.list.length-1));var i=this.list[e];this.router.navigateByUrl(i.url).then(function(t){t&&(n.pos=e,n.item=i,n.refStatus(),n.change.emit(i))})},t.prototype._close=function(t,e,n){t&&(t.preventDefault(),t.stopPropagation());var i=this.list[e];return this.srv.close(i.url,n),this.close.emit(i),this.cd.detectChanges(),!1},t.prototype.ngOnInit=function(){this.setClass(),this.genList()},t.prototype.setClass=function(){var t=this.el.nativeElement,e=this.doc.querySelector("body"),n="has-reuse-tab";this.fixed?(this.render.addClass(t,"fixed"),this.render.addClass(e,n)):(this.render.removeClass(t,"fixed"),this.render.removeClass(e,n))},t.prototype.ngOnChanges=function(t){t.max&&(this.srv.max=this.max),t.excludes&&(this.srv.excludes=this.excludes),t.mode&&(this.srv.mode=this.mode),this.srv.debug=this.debug,this.setClass(),this.cd.detectChanges()},t.prototype.ngOnDestroy=function(){this.sub$.unsubscribe(),this.i18n$&&this.i18n$.unsubscribe()},t.decorators=[{type:d.Component,args:[{selector:"reuse-tab",template:'<nz-tabset [nzSelectedIndex]="pos" [nzAnimated]="false" nzType="line"> <nz-tab *ngFor="let i of list; let index = index" [nzTitle]="titleTemplate"> <ng-template #titleTemplate> <span [context-menu]="i" (click)="to($event, index)" class="name">{{i.title}}</span> <i *ngIf="i.closable" class="anticon anticon-close op" (click)="_close($event, index, false)"></i> </ng-template> </nz-tab> </nz-tabset> <reuse-tab-context [i18n]="i18n" (change)="cmChange($event)"></reuse-tab-context> ',changeDetection:d.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1,providers:[Kt]}]}],t.ctorParameters=function(){return[{type:Yt},{type:d.ChangeDetectorRef},{type:p.Router},{type:p.ActivatedRoute},{type:d.ElementRef},{type:d.Renderer2},{type:void 0,decorators:[{type:d.Inject,args:[e.DOCUMENT]}]},{type:void 0,decorators:[{type:d.Optional},{type:d.Inject,args:[r.ALAIN_I18N_TOKEN]}]}]},t.propDecorators={mode:[{type:d.Input}],i18n:[{type:d.Input}],debug:[{type:d.Input}],max:[{type:d.Input}],excludes:[{type:d.Input}],allowClose:[{type:d.Input}],fixed:[{type:d.Input}],showCurrent:[{type:d.Input}],change:[{type:d.Output}],close:[{type:d.Output}]},t}(),te=function(){function t(t){var e=this;this.srv=t,this.sub$=new x.Subscription,this.change=new d.EventEmitter,this.sub$.add(t.show.subscribe(function(t){return e.srv.open(t)})),this.sub$.add(t.close.subscribe(function(t){return e.change.emit(t)}))}return Object.defineProperty(t.prototype,"i18n",{set:function(t){this.srv.i18n=t},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.sub$.unsubscribe()},t.decorators=[{type:d.Component,args:[{selector:"reuse-tab-context",template:"",preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:Kt}]},t.propDecorators={i18n:[{type:d.Input}],change:[{type:d.Output}]},t}(),ee=function(){function t(t){this.srv=t}return t.prototype.onContextMenu=function(t){this.srv.show.next({event:t,item:this.item}),t.preventDefault(),t.stopPropagation()},t.decorators=[{type:d.Directive,args:[{selector:"[context-menu]"}]}],t.ctorParameters=function(){return[{type:Kt}]},t.propDecorators={item:[{type:d.Input,args:["context-menu"]}],onContextMenu:[{type:d.HostListener,args:["contextmenu",["$event"]]}]},t}(),ne=[Jt],ie=[Qt,te,ee],oe=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Yt]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,p.RouterModule,o.NgZorroAntdModule,_.OverlayModule],declarations:ne.concat(ie),entryComponents:[Qt],exports:ne.slice()}]}],t}(),re=function(){function t(){this._change=new v.BehaviorSubject(null)}return t.prototype.toggle=function(){this._change.next(!0)},Object.defineProperty(t.prototype,"change",{get:function(){return this._change.pipe(u.share())},enumerable:!0,configurable:!0}),t.decorators=[{type:d.Injectable}],t}(),se="ad-full-content-wrap",ae="ad-full-content-fs",ce="ad-full-content-ht",le=function(){function t(t,e,n,i,o){this.el=t,this.router=e,this.cd=n,this.srv=i,this.doc=o,this.inited=!1,this.id="_full-content-"+Math.random().toString(36).substring(2),this._height=0,this._hideTitle=!0,this._padding=24,this.fullscreenChange=new d.EventEmitter,this.scroll$=null}return Object.defineProperty(t.prototype,"fullscreen",{get:function(){return this._fullscreen},set:function(t){this._fullscreen=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTitle",{get:function(){return this._hideTitle},set:function(t){this._hideTitle=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var e=this;this.inited=!0,this.bodyEl=this.doc.querySelector("body"),this.bodyEl.classList.add(se),this.el.nativeElement.id=this.id,this.update(),this.installResizeEvent(),this.srv$=this.srv.change.subscribe(function(t){t&&e.toggle()}),this.route$=this.router.events.pipe(u.filter(function(t){return t instanceof p.ActivationStart||t instanceof p.ActivationEnd}),u.debounceTime(200)).subscribe(function(t){document.querySelector("#"+e.id)?(e.bodyEl.classList.add(se),e.updateFsCls()):e.bodyEl.classList.remove(se,ae,ce)})},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){return t.updateHeight()})},t.prototype.updateFsCls=function(){this.fullscreen?(this.bodyEl.classList.add(ae),this.hideTitle&&this.bodyEl.classList.add(ce)):(this.bodyEl.classList.remove(ae),this.hideTitle&&this.bodyEl.classList.remove(ce))},t.prototype.update=function(){this.updateFsCls(),this.fullscreenChange.emit(this.fullscreen)},t.prototype.updateHeight=function(){this._height=this.bodyEl.getBoundingClientRect().height-this.el.nativeElement.getBoundingClientRect().top-this.padding,this.cd.detectChanges()},t.prototype.toggle=function(){this.fullscreen=!this.fullscreen,this.update(),this.updateHeight()},t.prototype.ngOnChanges=function(t){this.inited&&this.update()},t.prototype.ngOnDestroy=function(){this.bodyEl.classList.remove(se,ae,ce),this.uninstallResizeEvent(),this.srv$.unsubscribe(),this.route$.unsubscribe()},t.prototype.installResizeEvent=function(){var t=this;this.scroll$=O.FromEventObservable.create(window,"resize").pipe(u.debounceTime(200)).subscribe(function(){return t.updateHeight()})},t.prototype.uninstallResizeEvent=function(){this.scroll$.unsubscribe()},t.decorators=[{type:d.Component,args:[{selector:"full-content",template:"<ng-content></ng-content>",host:{"[class.ad-full-content]":"true"},changeDetection:d.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:p.Router},{type:d.ChangeDetectorRef},{type:re},{type:void 0,decorators:[{type:d.Inject,args:[e.DOCUMENT]}]}]},t.propDecorators={_height:[{type:d.HostBinding,args:["style.height.px"]}],fullscreen:[{type:d.Input}],hideTitle:[{type:d.Input}],padding:[{type:d.Input}],fullscreenChange:[{type:d.Output}]},t}(),pe=function(){function t(t){this.parent=t}return t.prototype._click=function(){this.parent.toggle()},t.decorators=[{type:d.Directive,args:[{selector:"[full-toggle]"}]}],t.ctorParameters=function(){return[{type:le}]},t.propDecorators={_click:[{type:d.HostListener,args:["click"]}]},t}(),ue=[le,pe],he=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[re]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:ue.slice(),exports:ue.slice()}]}],t}(),de=function(){function t(t){this.srv=t}return t.prototype._click=function(){this.srv.export(this.data)},t.decorators=[{type:d.Directive,args:[{selector:"[xlsx]"}]}],t.ctorParameters=function(){return[{type:qt}]},t.propDecorators={data:[{type:d.Input,args:["xlsx"]}],_click:[{type:d.HostListener,args:["click"]}]},t}(),fe=[de],ge=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[qt,{provide:Ht,useValue:t}]}},e.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,f.DelonUtilModule],declarations:fe.slice(),exports:fe.slice()}]}],e}(),ye=new d.InjectionToken("DA_ZIP_CONFIG"),me=function(){function t(t,e,n){this.config=t,this.http=e,this.lazy=n}return t.prototype.init=function(){var t=Object.assign({url:"//cdn.bootcss.com/jszip/3.1.5/jszip.min.js",utils:[]},this.config);return this.lazy.load([t.url].concat(t.utils))},t.prototype.check=function(t){if(!t)throw new Error("get instance via `ZipService.create()`")},t.prototype.read=function(i,o){var r=this;return new Promise(function(e,n){r.init().then(function(){if("string"!=typeof i){var t=new FileReader;t.onload=function(t){JSZip.loadAsync(t.target.result,o).then(function(t){return e(t)})},t.readAsBinaryString(i)}else r.http.request("GET",i,{responseType:"arraybuffer"}).subscribe(function(t){JSZip.loadAsync(t,o).then(function(t){return e(t)})},function(t){n(t)})})})},t.prototype.create=function(){var t=this;return new Promise(function(e){t.init().then(function(){var t=new JSZip;e(t)})})},t.prototype.pushUrl=function(i,o,r){var t=this;return this.check(i),new Promise(function(e,n){t.http.request("GET",r,{responseType:"arraybuffer"}).subscribe(function(t){i.file(o,t),e()},function(t){n({url:r,error:t})})})},t.prototype.save=function(t,e){this.check(t);var i=Object.assign({},e);return new Promise(function(e,n){t.generateAsync(Object.assign({type:"blob"},i.options),i.update).then(function(t){i.callback&&i.callback(t),a.saveAs(t,i.filename||"download.zip"),e()},function(t){n(t)})})},t.decorators=[{type:d.Injectable}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:d.Inject,args:[ye]}]},{type:s.HttpClient},{type:f.LazyService}]},t}(),be=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[me,{provide:ye,useValue:t}]}},e.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,f.DelonUtilModule]}]}],e}();function ve(t,e,n){if(void 0===e&&(e=!0),n=Object.assign({minusSymbol:"负",validThrow:!1},n),"number"==typeof t&&(t=t.toString()),!/^-?\d+(\.\d+)?$/.test(t)&&n.validThrow)throw new Error(t+" is invalid number type");var i,o;i=(m=t.split("."))[0],o=m[1];var r="";i.startsWith("-")&&(r=n.minusSymbol,i=i.substr(1)),/^-?\d+$/.test(t)&&(o=null),i=(+i).toString();var s={num:e?["","壹","贰","叁","肆","伍","陆","柒","捌","玖","点"]:["","一","二","三","四","五","六","七","八","九","点"],radice:e?["","拾","佰","仟","万","拾","佰","仟","亿","拾","佰","仟","万亿","拾","佰","仟","兆","拾","佰","仟"]:["","十","百","千","万","十","百","千","亿","十","百","千","万亿","十","百","千","兆","十","百","千"],dec:["角","分","厘","毫"]};e&&(t=(+t).toFixed(5).toString());var a="",c=i.length;if("0"===i||0===c)a="零";else for(var l="",p=0;p<c;p++){var u=+i[p],h=c-p-1,d=1<p&&0!==u&&"0"===i[p-1]?"零":"",f=0===u&&h%4!=0||"0000"===i.substr(p-3,4),g=l,y=s.num[u];l=f?"":s.radice[h],0===p&&"一"===y&&"十"===l&&(y=""),1<u&&"二"===y&&-1===["","十","百"].indexOf(l)&&"十"!==g&&(y="两"),a+=d+y+l}var m,b="",v=o?o.toString().length:0;if(null===o)b=e?"整":"";else if("0"===o)b="零";else for(p=0;p<v&&!(e&&p>s.dec.length-1);p++){b+=(d="0"===(u=o[p])?"零":"")+(y=s.num[u])+(l=e?s.dec[p]:"")}return r+(e?a+("零"===b?"元整":"元"+b):a+(""===b?"":"点"+b))}var _e=function(){function t(){}return t.prototype.transform=function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n="负"),ve(t,e,{minusSymbol:n})},t.decorators=[{type:d.Pipe,args:[{name:"n2c"}]}],t}(),Ce=[_e],xe=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:Ce,exports:Ce}]}],t}(),Ie=function(){function t(){}return t.decorators=[{type:d.Injectable}],t}(),Oe=function(){function t(t,e){this.defCog=t,this.scriptSrv=e,this.pending=!1,this._lodop=null,this._init=new I.Subject,this._events=new I.Subject,this.printBuffer=[],this.cog=t}return Object.defineProperty(t.prototype,"cog",{get:function(){return this._cog},set:function(t){this._cog=Object.assign({url:"https://localhost:8443/CLodopfuncs.js",name:"CLODOP",companyName:"",checkMaxCount:100},this.defCog,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this._events.asObservable()},enumerable:!0,configurable:!0}),t.prototype.check=function(){if(!this._lodop)throw new Error("请务必先调用 lodop 获取对象")},t.prototype.request=function(){var n=this;this.pending=!0;var t=this.cog.url+"?name="+this.cog.name,e=this.cog.checkMaxCount,i=function(t,e){n._init.next({ok:"ok"===t,status:t,error:e,lodop:n._lodop})},o=function(){if(--e,n._lodop.webskt&&1===n._lodop.webskt.readyState)i("ok");else{if(e<0)return void i("check-limit");setTimeout(function(){return o()},100)}};this.scriptSrv.load(t).then(function(t){if(1===t.length&&"ok"!==t[0].status)return n.pending=!1,void i("script-load-error",t[0]);n._lodop=window.hasOwnProperty(n.cog.name)&&window[n.cog.name],null!==n._lodop?(n._lodop.SET_LICENSES(n.cog.companyName,n.cog.license,n.cog.licenseA,n.cog.licenseB),o()):i("load-variable-name-error",{name:n.cog.name})})},t.prototype.reset=function(){this._lodop=null,this.pending=!1,this.request()},Object.defineProperty(t.prototype,"lodop",{get:function(){return this._lodop?m.of({ok:!0,lodop:this._lodop}):(this.pending||this.request(),this._init.asObservable())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"printer",{get:function(){this.check();for(var t=[],e=this._lodop.GET_PRINTER_COUNT(),n=0;n<e;n++)t.push(this._lodop.GET_PRINTER_NAME(n));return t},enumerable:!0,configurable:!0}),t.prototype.attachCode=function(t,r,s){var a=this;this.check(),s||(s=/LODOP\.([^(]+)\(([^\n]+)\);/i),t.split("\n").forEach(function(t){var e=s.exec(t.trim());if(e){var n=a._lodop[e[1]];if(n){var i=void 0;try{i=new Function("return ["+e[2]+"]")()}catch(t){}if(Array.isArray(i)&&r)for(var o=0;o<i.length;o++)"string"==typeof i[o]&&(i[o]=i[o].replace(/{{(.*?)}}/g,function(t,e){return r[e.trim()]||""}));n.apply(a._lodop,i)}}})},t.prototype.design=function(){var i=this;this.check();var o=this._lodop.PRINT_DESIGN();return new Promise(function(n){i._lodop.On_Return=function(t,e){o===t&&(i._lodop.On_Return=null,n(""+e))}})},t.prototype.printDo=function(){var n=this,i=this.printBuffer.shift();if(i){this.attachCode(i.code,i.item,i.parser);var o=this._lodop.PRINT();this._lodop.On_Return=function(t,e){o===t&&(n._lodop.On_Return=null,n._events.next(Object.assign({ok:!0===e,error:!0===e?null:e},i)),n.printDo())}}},t.prototype.print=function(e,t,n){var i;this.check(),t&&(i=this.printBuffer).push.apply(i,(Array.isArray(t)?t:[t]).map(function(t){return{code:e,parser:n,item:t}})),this.printDo()},t.prototype.ngOnDestroy=function(){this._init.unsubscribe(),this._events.unsubscribe()},t.decorators=[{type:d.Injectable}],t.ctorParameters=function(){return[{type:Ie},{type:f.LazyService}]},t}(),Pe=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Oe,Ie]}},t.decorators=[{type:d.NgModule,args:[{imports:[f.DelonUtilModule]}]}],t}(),ke=function(){function t(t,e,n){this.cd=t,this.el=e,this.render=n,this.icon="anticon anticon-question-circle-o",this.top=120,this.width=200,this.bgColor="#fff",this.borderColor="#ddd",this.show=!1,this.ctrlStyle={},this.initFlag=!1}return t.prototype._click=function(){this.show=!this.show,this.setStyle()},t.prototype.setStyle=function(){this.ctrlStyle={"background-color":this.bgColor,"border-color":this.borderColor};var t=["top:"+this.top+"px","width:"+this.width+"px","background-color:"+this.bgColor,"border-color:"+this.borderColor,"margin-right:-"+(this.show?0:this.width)+"px"];this.render.setAttribute(this.el.nativeElement,"style",t.join(";")),this.cd.detectChanges()},t.prototype.ngOnInit=function(){this.initFlag=!0,this.setStyle()},t.prototype.ngOnChanges=function(t){this.initFlag&&this.setStyle()},t.decorators=[{type:d.Component,args:[{selector:"quick-menu",template:'\n  <div class="ad-quick-menu__inner">\n    <div class="ad-quick-menu__ctrl" [ngStyle]="ctrlStyle">\n      <i [ngClass]="icon"></i>\n    </div>\n    <ng-content></ng-content>\n  </div>\n  ',host:{"[class.ad-quick-menu]":"true"},preserveWhitespaces:!1,changeDetection:d.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:d.ChangeDetectorRef},{type:d.ElementRef},{type:d.Renderer2}]},t.propDecorators={icon:[{type:d.Input}],top:[{type:d.Input}],width:[{type:d.Input}],bgColor:[{type:d.Input}],borderColor:[{type:d.Input}],_click:[{type:d.HostListener,args:["click"]}]},t}(),Me=[ke],Te=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:Me.slice(),exports:Me.slice()}]}],t}(),Re=function(){this.background="white",this.backgroundAlpha=1,this.foreground="black",this.foregroundAlpha=1,this.level="L",this.mime="image/png",this.padding=10,this.size=220},ze=function(){function t(t){this.backgroundAlpha=1,Object.assign(this,t),this.qr=new QRious}return t.prototype.refresh=function(t){return this.qr.set("object"==typeof t?t:{background:this.background,backgroundAlpha:this.backgroundAlpha,foreground:this.foreground,foregroundAlpha:this.foregroundAlpha,level:this.level,padding:this.padding,size:this.size,value:t||this.value}),this.dataURL},Object.defineProperty(t.prototype,"dataURL",{get:function(){return this.qr.toDataURL()},enumerable:!0,configurable:!0}),t.decorators=[{type:d.Injectable}],t.ctorParameters=function(){return[{type:Re}]},t}(),we=function(){function t(t,e,n){this.srv=e,this.cd=n,this.change=new d.EventEmitter,Object.assign(this,t)}return t.prototype.ngOnChanges=function(t){this.dataURL=this.srv.refresh({background:this.background,backgroundAlpha:this.backgroundAlpha,foreground:this.foreground,foregroundAlpha:this.foregroundAlpha,level:this.level,mime:this.mime,padding:this.padding,size:this.size,value:this.value}),this.cd.detectChanges(),this.change.emit(this.dataURL)},t.decorators=[{type:d.Component,args:[{selector:"qr",template:'\n  <img src="{{dataURL}}">\n  ',preserveWhitespaces:!1,host:{"[class.ad-qr]":"true"},changeDetection:d.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:Re},{type:ze},{type:d.ChangeDetectorRef}]},t.propDecorators={background:[{type:d.Input}],backgroundAlpha:[{type:d.Input}],foreground:[{type:d.Input}],foregroundAlpha:[{type:d.Input}],level:[{type:d.Input}],mime:[{type:d.Input}],padding:[{type:d.Input}],size:[{type:d.HostBinding,args:["style.height.px"]},{type:d.HostBinding,args:["style.width.px"]},{type:d.Input}],value:[{type:d.Input}],change:[{type:d.Output}]},t}(),Se=[we],Ee=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Re,ze]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:Se.slice(),exports:Se.slice()}]}],t}(),je=function(){function t(t,e){this.el=t,this.cd=e,this._title="",this.color="rgba(24, 144, 255, 0.85)",this._height=0,this._autoLabel=!0,this._cls=!0,this.autoHideXLabels=!1,this.scroll$=null,this.cd.detach()}return Object.defineProperty(t.prototype,"title",{set:function(t){t instanceof d.TemplateRef?(this._title=null,this._titleTpl=t):this._title=t,this.cd.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLabel",{get:function(){return this._autoLabel},set:function(t){this._autoLabel=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.install=function(){if(this.data&&!(this.data&&this.data.length<1)){this.node.nativeElement.innerHTML="";var t=Object.assign([],this.padding);t.length<=0&&(t=[32,0,this.autoHideXLabels?8:32,40]);var e=new G2.Chart({container:this.node.nativeElement,forceFit:!0,height:+this.height-22,legend:null,padding:t});e.axis("x",!this.autoHideXLabels),e.axis("y",{title:!1,line:!1,tickLine:!1}),e.source(this.data,{x:{type:"cat"},y:{min:0}}),e.tooltip({showTitle:!1}),e.interval().position("x*y").color(this.color).tooltip("x*y",function(t,e){return{name:t,value:e}}),e.render(),setTimeout(function(){e.forceFit(),e.repaint()},30),this.chart=e}},t.prototype.uninstall=function(){this.chart&&(this.chart.destroy(),this.chart=null)},t.prototype.ngOnInit=function(){this.installResizeEvent()},t.prototype.ngOnChanges=function(t){this.resize()},t.prototype.ngOnDestroy=function(){this.uninstallResizeEvent(),this.uninstall()},t.prototype.installResizeEvent=function(){var t=this;this.autoLabel&&!this.scroll$&&(this.scroll$=O.FromEventObservable.create(window,"resize").pipe(u.debounceTime(200)).subscribe(function(){return t.resize()}))},t.prototype.uninstallResizeEvent=function(){this.scroll$&&this.scroll$.unsubscribe()},t.prototype.resize=function(){if(this.el.nativeElement.clientWidth<=30*this.data.length){if(!this.autoHideXLabels)return this.autoHideXLabels=!0,void this.install()}else if(this.autoHideXLabels)return this.autoHideXLabels=!1,void this.install();this.chart||this.install()},t.decorators=[{type:d.Component,args:[{selector:"g2-bar",template:'\n  <ng-container *ngIf="_title; else _titleTpl"><h4>{{_title}}</h4></ng-container>\n  <div #container></div>',changeDetection:d.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:d.ChangeDetectorRef}]},t.propDecorators={title:[{type:d.Input}],color:[{type:d.Input}],height:[{type:d.HostBinding,args:["style.height.px"]},{type:d.Input}],padding:[{type:d.Input}],data:[{type:d.Input}],autoLabel:[{type:d.Input}],_cls:[{type:d.HostBinding,args:["class.g2-chart"]}],node:[{type:d.ViewChild,args:["container"]}]},t}(),De=[je],Ae=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:De.slice(),exports:De.slice()}]}],t}(),Ne=function(){function t(){this._bordered=!1,this._avatar="",this._title="",this._action="",this.total="",this._height="auto",this._footer="",this._loading=!1}return Object.defineProperty(t.prototype,"bordered",{get:function(){return this._bordered},set:function(t){this._bordered=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"avatar",{set:function(t){t instanceof d.TemplateRef?(this._avatar=null,this._avatarTpl=t):this._avatar=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{set:function(t){t instanceof d.TemplateRef?(this._title=null,this._titleTpl=t):this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"action",{set:function(t){t instanceof d.TemplateRef?(this._action=null,this._actionTpl=t):this._action=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentHeight",{set:function(t){this._orgHeight=t,this._height="number"==typeof t?this._height=t+"px":t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footer",{set:function(t){t instanceof d.TemplateRef?(this._footer=null,this._footerTpl=t):this._footer=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return this._loading},set:function(t){this._loading=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.decorators=[{type:d.Component,args:[{selector:"g2-card",template:'\n  <nz-card [nzBodyStyle]="{padding: \'20px 24px 8px 24px\'}" [nzBordered]="bordered">\n    <nz-spin [nzSpinning]="loading">\n      <div class="chart-card">\n        <div class="chart-top">\n          <div class="avatar"><ng-container *ngIf="_avatar; else _avatarTpl">{{ _avatar }}</ng-container></div>\n          <div class="meta-wrap">\n            <div class="meta">\n              <span class="title" *ngIf="_title; else _titleTpl">{{ _title }}</span>\n              <span class="action" *ngIf="_action || _actionTpl">\n                <ng-container *ngIf="_action; else _actionTpl">{{ _action }}</ng-container>\n              </span>\n            </div>\n            <p *ngIf="total" class="total" [innerHTML]="total"></p>\n          </div>\n        </div>\n        <div class="desc" [ngStyle]="{\'height\':_height}">\n          <div [ngClass]="{\'fixed\': !!_orgHeight }">\n            <ng-content></ng-content>\n          </div>\n        </div>\n        <div class="footer" *ngIf="_footer || _footerTpl">\n          <ng-container *ngIf="_footer; else _footerTpl">{{ _footer }}</ng-container>\n        </div>\n      </div>\n    </nz-spin>\n  </nz-card>',host:{"[class.ad-g2-card]":"true"},preserveWhitespaces:!1}]}],t.propDecorators={bordered:[{type:d.Input}],avatar:[{type:d.Input}],title:[{type:d.Input}],action:[{type:d.Input}],total:[{type:d.Input}],contentHeight:[{type:d.Input}],footer:[{type:d.Input}],loading:[{type:d.Input}]},t}(),Le=[Ne],Fe=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,o.NgZorroAntdModule],declarations:Le.slice(),exports:Le.slice()}]}],t}(),Be=function(){function t(t){this.el=t,this._resizeTime=0,this.render=new d.EventEmitter,this.resize=new d.EventEmitter,this.destroy=new d.EventEmitter,this.resize$=null}return Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizeTime",{get:function(){return this._resizeTime},set:function(t){this._resizeTime=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),t.prototype.renderChart=function(){this.el.nativeElement.innerHTML="",this.render.emit(this.el)},t.prototype.ngOnInit=function(){var t=this;setTimeout(function(){return t.renderChart()},200)},t.prototype.ngOnDestroy=function(){this.destroy.emit(this.el),this.uninstallResizeEvent()},t.prototype.installResizeEvent=function(){var t=this;this.resizeTime<=0||!this.resize$||(this.resizeTime<=200&&(this.resizeTime=200),this.resize$=O.FromEventObservable.create(window,"resize").pipe(u.debounceTime(this.resizeTime)).subscribe(function(){return t.resize.emit(t.el)}))},t.prototype.uninstallResizeEvent=function(){this.resize$&&this.resize$.unsubscribe()},t.decorators=[{type:d.Component,args:[{selector:"g2-chart",template:""}]}],t.ctorParameters=function(){return[{type:d.ElementRef}]},t.propDecorators={height:[{type:d.HostBinding,args:["style.height.px"]},{type:d.Input}],resizeTime:[{type:d.Input}],render:[{type:d.Output}],resize:[{type:d.Output}],destroy:[{type:d.Output}]},t}(),He=[Be],qe=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:He.slice(),exports:He.slice()}]}],t}(),We=function(){function t(t){this.cd=t,this.color="#2F9CFF",this.bgColor="#F0F2F5",this.initFlag=!1,this.cd.detach()}return Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this._percent},set:function(t){this._percent=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.initFlag=!0,this.install()},t.prototype.createData=function(){return[{name:this.title,value:+this.percent}]},t.prototype.draw=function(){if(this.chart){this.chart.guide().clear();var t=this.createData();this.chart.guide().arc({zIndex:0,top:!1,start:[0,.95],end:[100,.95],style:{stroke:this.bgColor,lineWidth:12}}),this.chart.guide().arc({zIndex:1,start:[0,.95],end:[t[0].value,.95],style:{stroke:this.color,lineWidth:12}}),this.chart.changeData(t)}},t.prototype.install=function(){this.node.nativeElement.innerHTML="",G2.Shape.registerShape("point","pointer",{drawShape:function(t,e){var n=t.points[0];n=this.parsePoint(n);var i=this.parsePoint({x:0,y:0});e.addShape("line",{attrs:{x1:i.x,y1:i.y,x2:n.x,y2:n.y,stroke:t.color,lineWidth:2,lineCap:"round"}});var o=t.origin;return e.addShape("text",{attrs:{x:i.x,y:i.y+80,text:o._origin.value+"%",textAlign:"center",fontSize:24,fill:"rgba(0, 0, 0, 0.85)"}}),e.addShape("circle",{attrs:{x:i.x,y:i.y,r:9.75,stroke:t.color,lineWidth:2,fill:"#fff"}})}});var t=this.createData(),e=new G2.Chart({container:this.node.nativeElement,forceFit:!0,height:this.height,padding:[10,10,30,10]});e.source(t),e.coord("polar",{startAngle:-1.2*Math.PI,endAngle:.2*Math.PI}),e.scale("value",{min:0,max:100,nice:!0,tickCount:6}),e.axis("1",!1),e.axis("value",{zIndex:2,line:null,label:{offset:-12,formatter:this.format},tickLine:null,grid:null}),e.legend(!1),e.point({generatePoints:!0}).position("value*1").shape("pointer").color(this.color).active(!1),this.chart=e,setTimeout(function(){e.forceFit(),e.repaint()}),this.draw()},t.prototype.uninstall=function(){this.chart&&this.chart.destroy()},t.prototype.ngOnChanges=function(t){this.initFlag&&this.draw()},t.prototype.ngOnDestroy=function(){this.uninstall()},t.decorators=[{type:d.Component,args:[{selector:"g2-gauge",template:"<div #container></div>",changeDetection:d.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:d.ChangeDetectorRef}]},t.propDecorators={title:[{type:d.Input}],height:[{type:d.Input}],color:[{type:d.Input}],bgColor:[{type:d.Input}],format:[{type:d.Input}],percent:[{type:d.Input}],node:[{type:d.ViewChild,args:["container"]}]},t}(),$e=[We],Ge=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:$e.slice(),exports:$e.slice()}]}],t}(),Ue=function(){function t(t){this.cd=t,this.color="rgba(24, 144, 255, 0.2)",this.borderColor="#1890FF",this._borderWidth=2,this._fit=!0,this._line=!1,this._animate=!0,this.padding=[8,8,8,8],this.cd.detach()}return Object.defineProperty(t.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(t){this._borderWidth=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fit",{get:function(){return this._fit},set:function(t){this._fit=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._line},set:function(t){this._line=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animate",{get:function(){return this._animate},set:function(t){this._animate=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.install=function(){if(this.data&&!(this.data&&this.data.length<1)){this.node.nativeElement.innerHTML="";var t=new G2.Chart({container:this.node.nativeElement,forceFit:this.fit,height:+this.height,animate:this.animate,padding:this.padding,legend:null});this.xAxis||this.yAxis||t.axis(!1),this.xAxis?t.axis("x",this.xAxis):t.axis("x",!1),this.yAxis?t.axis("y",this.yAxis):t.axis("y",!1);var e={x:{type:"cat",range:[0,1],xAxis:this.xAxis},y:{min:0,yAxis:this.yAxis}};t.tooltip({showTitle:!1,hideMarkders:!1,"g2-tooltip":{padding:4},"g2-tooltip-list-item":{margin:"0px 4px"}});var n=t.view();if(n.source(this.data,e),n.area().position("x*y").color(this.color).tooltip("x*y",function(t,e){return{name:t,value:e}}).shape("smooth").style({fillOpacity:1}),this.line){var i=t.view();i.source(this.data,e),i.line().position("x*y").color(this.borderColor).size(this.borderWidth).shape("smooth"),i.tooltip(!1)}t.render(),setTimeout(function(){t.forceFit(),t.repaint()}),this.chart=t}},t.prototype.uninstall=function(){this.chart&&(this.chart.destroy(),this.chart=null)},t.prototype.ngOnChanges=function(t){this.install()},t.prototype.ngOnDestroy=function(){this.uninstall()},t.decorators=[{type:d.Component,args:[{selector:"g2-mini-area",template:"<div #container></div>",changeDetection:d.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:d.ChangeDetectorRef}]},t.propDecorators={color:[{type:d.Input}],borderColor:[{type:d.Input}],borderWidth:[{type:d.Input}],height:[{type:d.HostBinding,args:["style.height.px"]},{type:d.Input}],fit:[{type:d.Input}],line:[{type:d.Input}],animate:[{type:d.Input}],xAxis:[{type:d.Input}],yAxis:[{type:d.Input}],padding:[{type:d.Input}],data:[{type:d.Input}],node:[{type:d.ViewChild,args:["container"]}]},t}(),Ve=[Ue],Xe=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:Ve.slice(),exports:Ve.slice()}]}],t}(),Ze=function(){function t(t){this.cd=t,this.color="#1890FF",this._height=0,this._borderWidth=5,this.padding=[8,8,8,8],this.cd.detach()}return Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(t){this._borderWidth=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),t.prototype.install=function(){if(this.data&&!(this.data&&this.data.length<1)){this.node.nativeElement.innerHTML="";var t=new G2.Chart({container:this.node.nativeElement,forceFit:!0,height:+this.height,padding:this.padding,legend:null});t.axis(!1),t.source(this.data,{x:{type:"cat"},y:{min:0}}),t.tooltip({showTitle:!1,hideMarkders:!1,crosshairs:!1,"g2-tooltip":{padding:4},"g2-tooltip-list-item":{margin:"0px 4px"}}),t.interval().position("x*y").size(this.borderWidth).color(this.color).tooltip("x*y",function(t,e){return{name:t,value:e}}),t.render(),setTimeout(function(){t.forceFit(),t.repaint()}),this.chart=t}},t.prototype.uninstall=function(){this.chart&&(this.chart.destroy(),this.chart=null)},t.prototype.ngOnChanges=function(t){this.install()},t.prototype.ngOnDestroy=function(){this.uninstall()},t.decorators=[{type:d.Component,args:[{selector:"g2-mini-bar",template:"<div #container></div>",changeDetection:d.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:d.ChangeDetectorRef}]},t.propDecorators={color:[{type:d.Input}],height:[{type:d.HostBinding,args:["style.height.px"]},{type:d.Input}],borderWidth:[{type:d.Input}],padding:[{type:d.Input}],data:[{type:d.Input}],node:[{type:d.ViewChild,args:["container"]}]},t}(),Ye=[Ze],Qe=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule],declarations:Ye.slice(),exports:Ye.slice()}]}],t}(),Ke=function(){function t(){this.color="#1890FF"}return Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){this._target=Math.min(Math.max(i.coerceNumberProperty(t),0),100)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this._percent},set:function(t){this._percent=Math.min(Math.max(i.coerceNumberProperty(t),0),100)},enumerable:!0,configurable:!0}),t.decorators=[{type:d.Component,args:[{selector:"g2-mini-progress",template:"\n  <nz-tooltip [nzTitle]=\"'目标值: ' + target + '%'\">\n    <div nz-tooltip class=\"target\" [ngStyle]=\"{'left.%': target}\">\n      <span [ngStyle]=\"{'background-color': color}\"></span>\n      <span [ngStyle]=\"{'background-color': color}\"></span>\n    </div>\n  </nz-tooltip>\n  <div class=\"progress-wrap\">\n    <div class=\"progress\" [ngStyle]=\"{'background-color': color, 'width.%': percent, 'height.px':strokeWidth}\"></div>\n  </div>\n  ",host:{"[class.ad-g2-progress]":"true"},preserveWhitespaces:!1}]}],t.propDecorators={color:[{type:d.Input}],target:[{type:d.Input}],strokeWidth:[{type:d.Input}],percent:[{type:d.Input}]},t}(),Je=[Ke],tn=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,o.NgZorroAntdModule],declarations:Je.slice(),exports:Je.slice()}]}],t}(),en=function(){function t(t,e){this.el=t,this.cd=e,this._animate=!0,this.color="rgba(24, 144, 255, 0.85)",this._height=0,this._hasLegend=!1,this._legendBlock=!1,this.inner=.75,this.padding=[12,0,12,0],this._tooltip=!0,this._lineWidth=0,this._select=!0,this.initFlag=!1,this.legendData=[],this.scroll$=null}return Object.defineProperty(t.prototype,"animate",{get:function(){return this._animate},set:function(t){this._animate=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasLegend",{get:function(){return this._hasLegend},set:function(t){this._hasLegend=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legendBlock",{get:function(){return this._legendBlock},set:function(t){this._legendBlock=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this._percent},set:function(t){this._percent=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){this._tooltip=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"select",{get:function(){return this._select},set:function(t){this._select=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.install=function(){var t,e=this;if(void 0!==this.percent&&(this.select=!1,this.tooltip=!1,t=function(t){return"占比"===t?e.color||"rgba(24, 144, 255, 0.85)":"#F0F2F5"},this.data=[{x:"占比",y:+this.percent},{x:"反比",y:100-+this.percent}]),this.data&&!(this.data&&this.data.length<1)){this.node.nativeElement.innerHTML="";var n=new G2.Chart({container:this.node.nativeElement,forceFit:!0,height:this.height,padding:this.padding,animate:this.animate});this.tooltip?n.tooltip({showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value} %</li>'}):n.tooltip(!1),n.axis(!1),n.legend(!1);var i=new DataSet.DataView;i.source(this.data).transform({type:"percent",field:"y",dimension:"x",as:"percent"}),n.source(i,{x:{type:"cat",range:[0,1]},y:{min:0}}),n.coord("theta",{innerRadius:this.inner}),n.intervalStack().position("y").style({lineWidth:this.lineWidth,stroke:"#fff"}).tooltip("x*percent",function(t,e){return{name:t,value:e}}).color("x",this.percent?t:this.colors).select(this.select),n.render(),setTimeout(function(){n.forceFit(),n.repaint()}),this.chart=n,this.hasLegend&&(this.legendData=n.getAllGeoms()[0]._attrs.dataArray.map(function(t){var e=t[0]._origin;return e.color=t[0].color,e.checked=!0,e.percent=(100*e.percent).toFixed(2),e}),this.cd.detectChanges())}},t.prototype.uninstall=function(){this.chart&&(this.chart.destroy(),this.chart=null)},t.prototype.handleLegendClick=function(t){this.legendData[t].checked=!this.legendData[t].checked,this.chart&&(this.chart.filter("x",function(t,e){return e.checked}),this.chart.repaint())},t.prototype.ngOnInit=function(){var t=this;this.initFlag=!0,setTimeout(function(){return t.install()},100),this.installResizeEvent()},t.prototype.ngOnChanges=function(t){this.initFlag&&this.install()},t.prototype.ngOnDestroy=function(){this.uninstallResizeEvent(),this.uninstall()},t.prototype.installResizeEvent=function(){var t=this;this.hasLegend&&(this.scroll$=O.FromEventObservable.create(window,"resize").pipe(u.debounceTime(200)).subscribe(function(){return t.resize()}))},t.prototype.uninstallResizeEvent=function(){this.scroll$&&this.scroll$.unsubscribe()},t.prototype.resize=function(){this.el.nativeElement.clientWidth<=380?this.legendBlock||(this.legendBlock=!0):this.legendBlock&&(this.legendBlock=!1),this.chart||this.install()},t.decorators=[{type:d.Component,args:[{selector:"g2-pie",template:'\n  <div class="chart">\n    <div #container></div>\n    <div *ngIf="subTitle || total" class="total">\n      <h4 *ngIf="subTitle" class="pie-sub-title" [innerHTML]="subTitle"></h4>\n      <div *ngIf="total" class="pie-stat" [innerHTML]="total"></div>\n    </div>\n  </div>\n  <ul *ngIf="hasLegend && legendData?.length" class="legend">\n    <li *ngFor="let item of legendData; let index = index" (click)="handleLegendClick(index)">\n      <span class="dot" [ngStyle]="{\'background-color\': !item.checked ? \'#aaa\' : item.color}"></span>\n      <span class="legend-title">{{item.x}}</span>\n      <nz-divider nzType="vertical"></nz-divider>\n      <span class="percent">{{item.percent}}%</span>\n      <span class="value" [innerHTML]="valueFormat ? valueFormat(item.y) : item.y"></span>\n    </li>\n  </ul>',host:{"[class.ad-pie]":"true"},changeDetection:d.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:d.ChangeDetectorRef}]},t.propDecorators={animate:[{type:d.Input}],color:[{type:d.Input}],subTitle:[{type:d.Input}],total:[{type:d.Input}],height:[{type:d.Input}],hasLegend:[{type:d.HostBinding,args:["class.has-legend"]},{type:d.Input}],legendBlock:[{type:d.HostBinding,args:["class.legend-block"]},{type:d.Input}],inner:[{type:d.Input}],padding:[{type:d.Input}],percent:[{type:d.Input}],tooltip:[{type:d.Input}],lineWidth:[{type:d.Input}],select:[{type:d.Input}],data:[{type:d.Input}],valueFormat:[{type:d.Input}],colors:[{type:d.Input}],node:[{type:d.ViewChild,args:["container"]}]},t}(),nn=[en],on=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,o.NgZorroAntdModule],declarations:nn.slice(),exports:nn.slice()}]}],t}(),rn=function(){function t(t,e){this.el=t,this.cd=e,this._title="",this._height=0,this.padding=[44,30,16,30],this._hasLegend=!0,this._tickCount=4,this.data=[],this.initFlag=!1,this.legendData=[]}return Object.defineProperty(t.prototype,"title",{set:function(t){t instanceof d.TemplateRef?(this._title=null,this._titleTpl=t):this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasLegend",{get:function(){return this._hasLegend},set:function(t){this._hasLegend=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tickCount",{get:function(){return this._tickCount},set:function(t){this._tickCount=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),t.prototype.handleLegendClick=function(t){var n=this;this.legendData[t].checked=!this.legendData[t].checked,this.chart&&(this.chart.filter("name",function(e){return n.legendData.find(function(t){return t.name===e}).checked}),this.chart.repaint())},t.prototype.install=function(){if(this.data&&!(this.data&&this.data.length<1)){this.node.nativeElement.innerHTML="";var t=["#1890FF","#FACC14","#2FC25B","#8543E0","#F04864","#13C2C2","#fa8c16","#a0d911"],e=new G2.Chart({container:this.node.nativeElement,forceFit:!0,height:+this.height-(this.hasLegend?80:22),padding:this.padding});e.source(this.data,{value:{min:0,tickCount:this.tickCount}}),e.coord("polar"),e.legend(!1),e.axis("label",{line:null,labelOffset:8,labels:{label:{fill:"rgba(0, 0, 0, .65)"}},grid:{line:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}}}),e.axis("value",{grid:{type:"polygon",line:{stroke:"#e9e9e9",lineWidth:1,lineDash:[0,0]}},labels:{label:{fill:"rgba(0, 0, 0, .65)"}}}),e.line().position("label*value").color("name",t),e.point().position("label*value").color("name",t).shape("circle").size(3),e.render(),setTimeout(function(){e.forceFit(),e.repaint()}),this.chart=e,this.hasLegend&&(this.legendData=e.getAllGeoms()[0]._attrs.dataArray.map(function(t){return{name:t[0]._origin.name,color:t[0].color,checked:!0,value:t.reduce(function(t,e){return t+e._origin.value},0)}}),this.cd.detectChanges())}},t.prototype.uninstall=function(){this.chart&&(this.chart.destroy(),this.chart=null)},t.prototype.ngOnInit=function(){this.initFlag=!0,this.install()},t.prototype.ngOnChanges=function(t){this.initFlag&&this.install()},t.prototype.ngOnDestroy=function(){this.uninstall()},t.decorators=[{type:d.Component,args:[{selector:"g2-radar",template:'\n  <h4 *ngIf="_title; else _titleTpl">{{ _title }}</h4>\n  <div #container></div>\n  <div nz-row class="legend" *ngIf="hasLegend">\n    <div nz-col [nzSpan]="24 / legendData.length" *ngFor="let i of legendData; let idx = index" (click)="handleLegendClick(idx)">\n      <div class="legend-item">\n        <p>\n          <i class="dot" [ngStyle]="{\'background-color\': !i.checked ? \'#aaa\' : i.color}"></i>\n          <span>{{i.name}}</span>\n        </p>\n        <h6>{{i.value}}</h6>\n      </div>\n    </div>\n  </div>',host:{"[class.ad-radar]":"true"},changeDetection:d.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:d.ChangeDetectorRef}]},t.propDecorators={title:[{type:d.Input}],height:[{type:d.HostBinding,args:["style.height.px"]},{type:d.Input}],padding:[{type:d.Input}],hasLegend:[{type:d.Input}],tickCount:[{type:d.Input}],data:[{type:d.Input}],node:[{type:d.ViewChild,args:["container"]}]},t}(),sn=[rn],an=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,o.NgZorroAntdModule],declarations:sn.slice(),exports:sn.slice()}]}],t}(),cn=function(){function t(t,e){this.el=t,this.cd=e,this.color="rgba(24, 144, 255, 0.85)",this._height=0,this.padding=0,this._autoLabel=!0,this.initFlag=!1}return Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=i.coerceNumberProperty(t),this.cd.detectChanges()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLabel",{get:function(){return this._autoLabel},set:function(t){this._autoLabel=i.coerceBooleanProperty(t)},enumerable:!0,configurable:!0}),t.prototype.initTagCloud=function(){G2.Shape.registerShape("point","cloud",{drawShape:function(t,e){var n=Object.assign({},{fillOpacity:t.opacity,fontSize:t.origin._origin.size,rotate:t.origin._origin.rotate,text:t.origin._origin.text,textAlign:"center",fontFamily:t.origin._origin.font,fill:t.color,textBaseline:"Alphabetic"},t.style);return e.addShape("text",{attrs:Object.assign(n,{x:t.x,y:t.y})})}})},t.prototype.renderChart=function(){if(this.data&&!(this.data&&this.data.length<1)){this.node.nativeElement.innerHTML="";var t=(new DataSet.View).source(this.data),e=t.range("value"),n=e[0],i=e[1],o=+this.height,r=+this.el.nativeElement.offsetWidth;t.transform({type:"tag-cloud",fields:["name","value"],size:[r,o],padding:this.padding,timeInterval:5e3,rotate:function(){var t=~~(4*Math.random())%4;return 2===t&&(t=0),90*t},fontSize:function(t){return t.value?(t.value-n)/(i-n)*56+24:0}});var s=new G2.Chart({container:this.node.nativeElement,width:r,height:o,padding:this.padding,forceFit:!0});s.source(t,{x:{nice:!1},y:{nice:!1}}),s.legend(!1),s.axis(!1),s.tooltip({showTitle:!1}),s.coord().reflect(),s.point().position("x*y").color("text").shape("cloud").tooltip("value*category"),s.render(),setTimeout(function(){s.forceFit(),s.repaint()}),this.chart=s}},t.prototype.uninstall=function(){this.chart&&(this.chart.destroy(),this.chart=null)},t.prototype.ngOnInit=function(){this.initFlag=!0,this.initTagCloud(),this.renderChart()},t.prototype.ngOnChanges=function(t){this.initFlag&&this.renderChart()},t.prototype.ngOnDestroy=function(){this.uninstall()},t.decorators=[{type:d.Component,args:[{selector:"g2-tag-cloud",template:"<div #container [ngStyle]=\"{'height.px': height}\"></div>",changeDetection:d.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:d.ChangeDetectorRef}]},t.propDecorators={color:[{type:d.Input}],height:[{type:d.Input}],padding:[{type:d.Input}],data:[{type:d.Input}],autoLabel:[{type:d.Input}],node:[{type:d.ViewChild,args:["container"]}]},t}(),ln=[cn],pn=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,o.NgZorroAntdModule],declarations:ln.slice(),exports:ln.slice()}]}],t}(),un=function(){function t(t){this.cd=t,this._title="",this.colorMap={y1:"#1890FF",y2:"#2FC25B"},this._height=400,this.padding=[60,20,40,40],this._borderWidth=2,this.initFlag=!1,t.detach()}return Object.defineProperty(t.prototype,"title",{set:function(t){t instanceof d.TemplateRef?(this._title=null,this._titleTpl=t):this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"borderWidth",{get:function(){return this._borderWidth},set:function(t){this._borderWidth=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.initFlag=!0,this.install()},t.prototype.install=function(){if(this.data&&!(this.data&&this.data.length<1)){this.sliderNode.nativeElement.innerHTML="",this.node.nativeElement.innerHTML="";var t=8<this.data.length?(this.data.length-8)/2:0,i=new DataSet({state:{start:this.data[t-1].x,end:this.data[t-1+8].x}}),e=i.createView().source(this.data);e.source(this.data).transform({type:"filter",callback:function(t){var e=new Date(t.x).getTime();return e>=i.state.start&&e<=i.state.end}});var n,o=new G2.Chart({container:this.node.nativeElement,forceFit:!0,height:+this.height,padding:this.padding});o.axis("x",{title:!1}),o.axis("y1",{title:!1}),o.axis("y2",!1),this.data[0]&&this.data[0].y1&&this.data[0].y2&&(n=Math.max(this.data.sort(function(t,e){return e.y1-t.y1})[0].y1,this.data.sort(function(t,e){return e.y2-t.y2})[0].y2)),o.source(e,{x:{type:"timeCat",tickCount:8,mask:"HH:mm",range:[0,1]},y1:{alias:this.titleMap.y1,max:n,min:0},y2:{alias:this.titleMap.y2,max:n,min:0}}),o.legend({position:"top",custom:!0,clickable:!1,items:[{value:this.titleMap.y1,fill:this.colorMap.y1},{value:this.titleMap.y2,fill:this.colorMap.y2}]}),o.line().position("x*y1").color(this.colorMap.y1).size(this.borderWidth),o.line().position("x*y2").color(this.colorMap.y2).size(this.borderWidth),o.render(),setTimeout(function(){o.forceFit(),o.repaint()},60);var r=Object.assign([],this.padding);r[0]=0;var s=new Slider({container:this.sliderNode.nativeElement,height:26,padding:r,scales:{x:{type:"time",tickCount:16,mask:"HH:MM"}},backgroundChart:{type:"line"},start:i.state.start,end:i.state.end,xAxis:"x",yAxis:"y1",data:this.data,onChange:function(t){var e=t.startValue,n=t.endValue;i.setState("start",e),i.setState("end",n)}});s.render(),setTimeout(function(){s.forceFit(),s.repaint()},60),this.chart=o,this.slider=s}},t.prototype.uninstall=function(){this.chart&&this.chart.destroy(),this.slider&&this.slider.destroy()},t.prototype.ngOnChanges=function(t){this.initFlag&&this.install()},t.prototype.ngOnDestroy=function(){this.uninstall()},t.decorators=[{type:d.Component,args:[{selector:"g2-timeline",template:'\n  <ng-container *ngIf="_title; else _titleTpl"><h4>{{_title}}</h4></ng-container>\n  <div #container></div>\n  <div #slider></div>',changeDetection:d.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:d.ChangeDetectorRef}]},t.propDecorators={title:[{type:d.Input}],data:[{type:d.Input}],titleMap:[{type:d.Input}],colorMap:[{type:d.Input}],height:[{type:d.Input}],padding:[{type:d.Input}],borderWidth:[{type:d.Input}],node:[{type:d.ViewChild,args:["container"]}],sliderNode:[{type:d.ViewChild,args:["slider"]}]},t}(),hn=[un],dn=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,o.NgZorroAntdModule],declarations:hn.slice(),exports:hn.slice()}]}],t}(),fn=function(){function t(t,e,n){this.el=t,this.renderer=e,this.cd=n,this._title="",this.color="#1890FF",this._height=160,this.initFlag=!1,this.autoHideXLabels=!1,this.scroll$=null}return Object.defineProperty(t.prototype,"title",{set:function(t){t instanceof d.TemplateRef?(this._title=null,this._titleTpl=t):this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this._percent},set:function(t){this._percent=i.coerceNumberProperty(t)},enumerable:!0,configurable:!0}),t.prototype.renderChart=function(){var n=this.percent/100;if(n){this.node.nativeElement.innerHTML="";var i=this,t=this.node.nativeElement,c=t.getContext("2d"),o=t.width,l=t.height,p=o/2,r=2,u=p-r;c.beginPath(),c.lineWidth=2*r;for(var h=o-r,d=h/8,s=.2,f=s,g=r,y=0,m=0,a=.005,b=[],v=p-r,e=-Math.PI/2,_=!0,C=e;C<e+2*Math.PI;C+=1/(8*Math.PI))b.push([p+v*Math.cos(C),p+v*Math.sin(C)]);var x=b.shift();c.strokeStyle=this.color,c.moveTo(x[0],x[1]),function t(){if(c.clearRect(0,0,o,l),_)if(b.length){var e=b.shift();c.lineTo(e[0],e[1]),c.stroke()}else _=!1,c.lineTo(x[0],x[1]),c.stroke(),b=null,c.globalCompositeOperation="destination-over",c.beginPath(),c.lineWidth=r,c.arc(p,p,v,0,2*Math.PI,!0),c.beginPath(),c.save(),c.arc(p,p,p-3*r,0,2*Math.PI,!0),c.restore(),c.clip(),c.fillStyle="#1890FF";else.85<=n?s/4<f&&(f-=.01*s):n<=.1?f<1.5*s&&(f+=.01*s):(f<=s&&(f+=.01*s),s<=f&&(f-=.01*s)),0<n-m&&(m+=a),n-m<0&&(m-=a),y+=.07,function(){c.beginPath(),c.save();for(var t=[],e=g;e<=g+h;e+=20/h){var n=y+(g+e)/d,i=Math.sin(n)*f,o=e,r=2*u*(1-m)+(p-u)-d*i;c.lineTo(o,r),t.push([o,r])}var s=t.shift();c.lineTo(g+h,l),c.lineTo(g,l),c.lineTo(s[0],s[1]);var a=c.createLinearGradient(0,0,0,l);a.addColorStop(0,"#ffffff"),a.addColorStop(1,"#1890FF"),c.fillStyle=a,c.fill(),c.restore()}();i.timer=requestAnimationFrame(t)}()}},t.prototype.uninstall=function(){},t.prototype.updateRadio=function(t){this.renderer.setStyle(this.el.nativeElement,"transform","scale("+t+")")},t.prototype.ngOnInit=function(){var t=this;this.initFlag=!0,this.cd.detectChanges(),this.updateRadio(1),this.installResizeEvent(),setTimeout(function(){return t.resize()},130)},t.prototype.ngOnChanges=function(t){this.initFlag&&(this.cd.detectChanges(),this.renderChart())},t.prototype.ngOnDestroy=function(){this.timer&&cancelAnimationFrame(this.timer),this.uninstallResizeEvent(),this.uninstall()},t.prototype.installResizeEvent=function(){var t=this;this.scroll$||(this.scroll$=O.FromEventObservable.create(window,"resize").pipe(u.debounceTime(500)).subscribe(function(){return t.resize()}))},t.prototype.uninstallResizeEvent=function(){this.scroll$&&this.scroll$.unsubscribe()},t.prototype.resize=function(){var t=this.el.nativeElement.parentNode.offsetWidth;this.updateRadio(t<this.height?t/this.height:1),this.renderChart()},t.decorators=[{type:d.Component,args:[{selector:"g2-water-wave",template:'\n  <div [ngStyle]="{\'height.px\': height, \'width.px\': height, \'overflow\': \'hidden\'}">\n    <canvas #container class="canvas-wrap" width="{{height*2}}" height="{{height*2}}"></canvas>\n  </div>\n  <div class="text" [ngStyle]="{\'width.px\': height}">\n    <ng-container *ngIf="_title; else _titleTpl"><span>{{_title}}</span></ng-container>\n    <h4>{{percent}}%</h4>\n  </div>',host:{"[class.ad-water-wave]":"true"},changeDetection:d.ChangeDetectionStrategy.OnPush,preserveWhitespaces:!1}]}],t.ctorParameters=function(){return[{type:d.ElementRef},{type:d.Renderer2},{type:d.ChangeDetectorRef}]},t.propDecorators={title:[{type:d.Input}],color:[{type:d.Input}],height:[{type:d.Input}],percent:[{type:d.Input}],node:[{type:d.ViewChild,args:["container"]}]},t}(),gn=[fn],yn=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.decorators=[{type:d.NgModule,args:[{imports:[n.CommonModule,o.NgZorroAntdModule],declarations:gn.slice(),exports:gn.slice()}]}],t}(),mn=[R,E,N,B,$,Z,et,ot,at,ut,yt,vt,Ot,Mt,zt,Et,At,Ft,Xt,oe,he,ge,be,xe,Pe,Te,Ee,Ae,Fe,qe,Ge,Xe,Qe,tn,on,an,pn,dn,yn],bn=function(){function t(){}return t.decorators=[{type:d.NgModule,args:[{imports:[R.forRoot(),E.forRoot(),N.forRoot(),B.forRoot(),$.forRoot(),Z.forRoot(),et.forRoot(),ot.forRoot(),ut.forRoot(),ut.forRoot(),yt.forRoot(),vt.forRoot(),Ot.forRoot(),Mt.forRoot(),zt.forRoot(),Et.forRoot(),At.forRoot(),Ft.forRoot(),Xt.forRoot(),oe.forRoot(),he.forRoot(),ge.forRoot(),be.forRoot(),xe.forRoot(),Pe.forRoot(),Te.forRoot(),Ee.forRoot(),Ae.forRoot(),Fe.forRoot(),qe.forRoot(),Ge.forRoot(),Xe.forRoot(),Qe.forRoot(),tn.forRoot(),on.forRoot(),an.forRoot(),pn.forRoot(),dn.forRoot(),yn.forRoot()],exports:mn}]}],t}(),vn=function(){function t(){}return t.forRoot=function(){return{ngModule:bn}},t.decorators=[{type:d.NgModule,args:[{exports:mn}]}],t}(),_n=function(){function t(t){this.srv=t}return t.prototype.shouldDetach=function(t){return this.srv.shouldDetach(t)},t.prototype.store=function(t,e){this.srv.store(t,e)},t.prototype.shouldAttach=function(t){return this.srv.shouldAttach(t)},t.prototype.retrieve=function(t){return this.srv.retrieve(t)},t.prototype.shouldReuseRoute=function(t,e){return this.srv.shouldReuseRoute(t,e)},t}();t.DelonABCModule=vn,t.ErrorCollectComponent=M,t.AdErrorCollectModule=R,t.FooterToolbarComponent=w,t.AdFooterToolbarModule=E,t.SidebarNavComponent=A,t.AdSidebarNavModule=N,t.DownFileDirective=L,t.AdDownFileModule=B,t.ImageDirective=q,t.AdImageConfig=H,t.AdImageModule=$,t.AvatarListItemComponent=G,t.AvatarListComponent=U,t.AdAvatarListModule=Z,t.DescListComponent=K,t.DescListItemComponent=Y,t.AdDescListModule=et,t.EllipsisComponent=nt,t.AdEllipsisModule=ot,t.GlobalFooterComponent=rt,t.AdGlobalFooterModule=at,t.ExceptionComponent=ct,t.AdExceptionModule=ut,t.NoticeIconComponent=ht,t.AdNoticeIconModule=yt,t.NumberInfoComponent=mt,t.AdNumberInfoModule=vt,t.AdPageHeaderConfig=_t,t.PageHeaderComponent=Ct,t.AdPageHeaderModule=Ot,t.ResultComponent=Pt,t.AdResultModule=Mt,t.StandardFormRowComponent=Tt,t.AdStandardFormRowModule=zt,t.TagSelectComponent=wt,t.AdTagSelectModule=Et,t.TrendComponent=jt,t.AdTrendModule=At,t.CountDownComponent=Nt,t.AdCountDownModule=Ft,t.SimpleTableComponent=$t,t.SimpleTableRowDirective=Gt,t.AdSimpleTableConfig=Bt,t.AdSimpleTableModule=Xt,t.ReuseTabComponent=Jt,t.ReuseTabService=Yt,t.ReuseTabStrategy=_n,t.AdReuseTabModule=oe,t.ReuseTabMatchMode=Zt,t.FullContentComponent=le,t.FullContentService=re,t.FullContentToggleDirective=pe,t.AdFullContentModule=he,t.XlsxService=qt,t.XlsxDirective=de,t.AdXlsxModule=ge,t.DA_XLSX_CONFIG=Ht,t.ZipService=me,t.AdZipModule=be,t.DA_ZIP_CONFIG=ye,t.numberToChinese=ve,t.NumberToChinesePipe=_e,t.AdNumberToChineseModule=xe,t.AdLodopConfig=Ie,t.LodopService=Oe,t.AdLodopModule=Pe,t.QuickMenuComponent=ke,t.AdQuickMenuModule=Te,t.QRService=ze,t.QRComponent=we,t.AdQRConfig=Re,t.AdQRModule=Ee,t.G2BarComponent=je,t.AdG2BarModule=Ae,t.G2CardComponent=Ne,t.AdG2CardModule=Fe,t.G2ChartComponent=Be,t.AdG2ChartModule=qe,t.G2GaugeComponent=We,t.AdG2GaugeModule=Ge,t.G2MiniAreaComponent=Ue,t.AdG2MiniAreaModule=Xe,t.G2MiniBarComponent=Ze,t.AdG2MiniBarModule=Qe,t.G2ProgressComponent=Ke,t.AdG2MiniProgressModule=tn,t.G2PieComponent=en,t.AdG2PieModule=on,t.G2RadarComponent=rn,t.AdG2RadarModule=an,t.G2TagCloudComponent=cn,t.AdG2TagCloudModule=pn,t.G2TimelineComponent=un,t.AdG2TimelineModule=dn,t.G2WaterWaveComponent=fn,t.AdG2WaterWaveModule=yn,t.ɵa=bn,t.ɵp=G,t.ɵo=U,t.ɵn=Z,t.ɵdd=je,t.ɵdc=Ae,t.ɵdf=Ne,t.ɵde=Fe,t.ɵdh=Be,t.ɵdg=qe,t.ɵdj=We,t.ɵdi=Ge,t.ɵdl=Ue,t.ɵdk=Xe,t.ɵdn=Ze,t.ɵdm=Qe,t.ɵdp=Ke,t.ɵdo=tn,t.ɵdr=en,t.ɵdq=on,t.ɵdt=rn,t.ɵds=an,t.ɵdv=cn,t.ɵdu=pn,t.ɵdx=un,t.ɵdw=dn,t.ɵdz=fn,t.ɵdy=yn,t.ɵbr=Nt,t.ɵbq=Ft,t.ɵs=Y,t.ɵr=K,t.ɵt=Q,t.ɵq=et,t.ɵj=L,t.ɵi=B,t.ɵv=nt,t.ɵu=ot,t.ɵc=M,t.ɵd=k,t.ɵb=R,t.ɵz=ct,t.ɵy=ut,t.ɵf=w,t.ɵe=E,t.ɵck=pe,t.ɵci=le,t.ɵch=he,t.ɵcj=re,t.ɵx=rt,t.ɵw=at,t.ɵm=H,t.ɵl=q,t.ɵk=$,t.ɵcv=Ie,t.ɵct=Pe,t.ɵcu=Oe,t.ɵbc=dt,t.ɵbb=ht,t.ɵba=yt,t.ɵbe=mt,t.ɵbd=vt,t.ɵcr=xe,t.ɵcs=_e,t.ɵbg=Ct,t.ɵbh=_t,t.ɵbf=Ot,t.ɵcz=we,t.ɵda=Re,t.ɵcy=Ee,t.ɵdb=ze,t.ɵcx=ke,t.ɵcw=Te,t.ɵbj=Pt,t.ɵbi=Mt,t.ɵce=Qt,t.ɵcf=te,t.ɵcg=ee,t.ɵcc=Kt,t.ɵcb=Jt,t.ɵca=oe,t.ɵcd=Yt,t.ɵh=A,t.ɵg=N,t.ɵbu=Wt,t.ɵbz=Gt,t.ɵbt=$t,t.ɵby=Bt,t.ɵbs=Xt,t.ɵbl=Tt,t.ɵbk=zt,t.ɵbn=wt,t.ɵbm=Et,t.ɵbp=jt,t.ɵbo=At,t.ɵbw=Ht,t.ɵcm=de,t.ɵcl=ge,t.ɵbv=qt,t.ɵcp=ye,t.ɵcn=be,t.ɵco=me,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=abc.umd.min.js.map
