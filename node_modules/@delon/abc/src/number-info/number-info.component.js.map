{"version":3,"file":"number-info.component.js","sourceRoot":"","sources":["../../../../../packages/abc/number-info/number-info.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  Component,\r\n  ViewEncapsulation,\r\n  TemplateRef,\r\n  Input,\r\n  ContentChild,\r\n  ElementRef,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  OnChanges,\r\n  SimpleChange,\r\n  ChangeDetectorRef,\r\n  ChangeDetectionStrategy,\r\n} from '@angular/core';\r\nimport { coerceNumberProperty } from '@angular/cdk/coercion';\r\n\r\n@Component({\r\n  selector: 'number-info',\r\n  template: `\r\n  <div *ngIf=\"_title || _titleTpl\" class=\"title\"><ng-container *ngIf=\"_title; else _titleTpl\">{{_title}}</ng-container></div>\r\n  <div *ngIf=\"_subTitle || _subTitleTpl\" class=\"sub-title\"><ng-container *ngIf=\"_subTitle; else _subTitleTpl\">{{_subTitle}}</ng-container></div>\r\n  <div class=\"value\" [ngStyle]=\"{'margin-top.px': gap}\">\r\n    <span><ng-container *ngIf=\"_total; else _totalTpl\">{{_total}}</ng-container><em class=\"suffix\" *ngIf=\"suffix\">{{suffix}}</em></span>\r\n    <span *ngIf=\"status || _isSubTotal\" class=\"sub-total\">\r\n      <ng-container *ngIf=\"_subTotal; else _subTotalTpl\">{{_subTotal}}</ng-container>\r\n      <i *ngIf=\"status\" class=\"anticon anticon-caret-{{status}}\"></i>\r\n    </span>\r\n  </div>\r\n  `,\r\n  host: { '[class.ad-number-info]': 'true' },\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class NumberInfoComponent implements OnChanges {\r\n  _title = '';\r\n  _titleTpl: TemplateRef<any>;\r\n  /** 标题 */\r\n  @Input()\r\n  set title(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._title = null;\r\n      this._titleTpl = value;\r\n    } else this._title = value;\r\n  }\r\n\r\n  _subTitle = '';\r\n  _subTitleTpl: TemplateRef<any>;\r\n  /** 子标题 */\r\n  @Input()\r\n  set subTitle(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._subTitle = null;\r\n      this._subTitleTpl = value;\r\n    } else this._subTitle = value;\r\n  }\r\n\r\n  _total = '';\r\n  _totalTpl: TemplateRef<any>;\r\n  /** 总量 */\r\n  @Input()\r\n  set total(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._total = null;\r\n      this._totalTpl = value;\r\n    } else this._total = '' + value;\r\n  }\r\n\r\n  _isSubTotal = false;\r\n  _subTotal = '';\r\n  _subTotalTpl: TemplateRef<any>;\r\n  /** 总量后缀 */\r\n  @Input()\r\n  set subTotal(value: string | TemplateRef<any>) {\r\n    if (value instanceof TemplateRef) {\r\n      this._subTotal = null;\r\n      this._subTotalTpl = value;\r\n    } else this._subTotal = value;\r\n\r\n    this._isSubTotal = !!value;\r\n  }\r\n\r\n  /** 子总量 */\r\n  @Input() suffix: string;\r\n\r\n  /** 增加状态 */\r\n  @Input() status: 'up' | 'down';\r\n\r\n  /** 状态样式 */\r\n  @Input() theme: 'light' | '' = 'light';\r\n\r\n  /** 设置数字和描述直接的间距（像素） */\r\n  @Input()\r\n  get gap() {\r\n    return this._gap;\r\n  }\r\n  set gap(value: any) {\r\n    this._gap = coerceNumberProperty(value);\r\n  }\r\n  private _gap = 8;\r\n\r\n  constructor(\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    private cd: ChangeDetectorRef,\r\n  ) {}\r\n\r\n  _classMap: string[] = [];\r\n  setClass() {\r\n    this._classMap.forEach(cls =>\r\n      this.renderer.removeClass(this.el.nativeElement, cls),\r\n    );\r\n\r\n    this._classMap = [`number-info`];\r\n    if (this.theme) this._classMap.push(this.theme);\r\n\r\n    this._classMap.forEach(v =>\r\n      this.renderer.addClass(this.el.nativeElement, v),\r\n    );\r\n\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  ngOnChanges(\r\n    changes: { [P in keyof this]?: SimpleChange } & SimpleChanges,\r\n  ): void {\r\n    this.setClass();\r\n  }\r\n}\r\n"]}