{"version":3,"file":"notice-icon.component.js","sourceRoot":"","sources":["../../../../../packages/abc/notice-icon/notice-icon.component.ts"],"names":[],"mappings":";;;;AAAA,OAAO,EACL,SAAS,EACT,KAAK,EACL,MAAM,EACN,YAAY,GAOb,MAAM,eAAe,CAAC;AACvB,OAAO,EACL,oBAAoB,EACpB,qBAAqB,GACtB,MAAM,uBAAuB,CAAC;;;oBAqCC,EAAE;wBAoBb,KAAK;sBAEL,IAAI,YAAY,EAAO;qBACxB,IAAI,YAAY,EAAU;+BAUlB,KAAK;oCAEE,IAAI,YAAY,EAAW;;0BA/BxD,sCAAK;;;;;;YACP,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;;;;;;QAErB,UAAU,KAAU;YAClB,IAAI,CAAC,MAAM,GAAG,oBAAoB,CAAC,KAAK,CAAC,CAAC;SAC3C;;;;0BAKG,wCAAO;;;;;;YACT,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;;;;;;QAEvB,UAAY,KAAU;YACpB,IAAI,CAAC,QAAQ,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;SAC9C;;;;0BAQG,+CAAc;;;;;;YAChB,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC;;;;;;QAE9B,UAAmB,KAAU;YAC3B,IAAI,CAAC,eAAe,GAAG,qBAAqB,CAAC,KAAK,CAAC,CAAC;SACrD;;;;;;;;IAKD,6CAAe;;;;IAAf,UAAgB,MAAe;QAC7B,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACxC;;;;;IAED,sCAAQ;;;;IAAR,UAAS,CAAM;QACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACrB;;;;;IAED,qCAAO;;;;IAAP,UAAQ,KAAa;QACnB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACxB;;gBAhFF,SAAS,SAAC;oBACT,QAAQ,EAAE,aAAa;oBACvB,QAAQ,EAAE,m7BA0BT;oBACD,IAAI,EAAE,EAAE,wBAAwB,EAAE,MAAM,EAAE;oBAC1C,mBAAmB,EAAE,KAAK;iBAC3B;;;;yBAEE,KAAK;0BAGL,KAAK;4BAUL,KAAK;2BASL,MAAM;0BACN,MAAM;mCAGN,KAAK;yCASL,MAAM;;8BAvFT;;SAmDa,mBAAmB","sourcesContent":["import {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  HostListener,\r\n  HostBinding,\r\n  ViewEncapsulation,\r\n  ViewChildren,\r\n  TemplateRef,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport {\r\n  coerceNumberProperty,\r\n  coerceBooleanProperty,\r\n} from '@angular/cdk/coercion';\r\n\r\nimport { NoticeItem, NoticeIconClick } from './interface';\r\n\r\n@Component({\r\n  selector: 'notice-icon',\r\n  template: `\r\n  <nz-badge *ngIf=\"data?.length === 0\" [nzCount]=\"count\">\r\n    <i class=\"anticon anticon-bell\"></i>\r\n  </nz-badge>\r\n  <nz-popover *ngIf=\"data?.length > 0\"\r\n    [nzVisible]=\"popoverVisible\" (nzVisibleChange)=\"onVisibleChange($event)\" nzTrigger=\"click\"\r\n    nzPlacement=\"bottomRight\"\r\n    nzOverlayClassName=\"ad-notice-icon-con\">\r\n    <div nz-popover class=\"item\">\r\n      <nz-badge [nzCount]=\"count\">\r\n        <i class=\"anticon anticon-bell\"></i>\r\n      </nz-badge>\r\n    </div>\r\n    <ng-template #nzTemplate>\r\n      <nz-spin [nzSpinning]=\"loading\" [nzDelay]=\"0\">\r\n        <nz-tabset>\r\n          <nz-tab *ngFor=\"let i of data\" [nzTitle]=\"i.title\">\r\n            <notice-icon-tab\r\n              [data]=\"i\"\r\n              (select)=\"onSelect($event)\"\r\n              (clear)=\"onClear($event)\"></notice-icon-tab>\r\n          </nz-tab>\r\n        </nz-tabset>\r\n      </nz-spin>\r\n    </ng-template>\r\n  </nz-popover>\r\n  `,\r\n  host: { '[class.ad-notice-icon]': 'true' },\r\n  preserveWhitespaces: false,\r\n})\r\nexport class NoticeIconComponent {\r\n  @Input() data: NoticeItem[] = [];\r\n\r\n  /** 图标上的消息总数 */\r\n  @Input()\r\n  get count() {\r\n    return this._count;\r\n  }\r\n  set count(value: any) {\r\n    this._count = coerceNumberProperty(value);\r\n  }\r\n  private _count: number;\r\n\r\n  /** 弹出卡片加载状态 */\r\n  @Input()\r\n  get loading() {\r\n    return this._loading;\r\n  }\r\n  set loading(value: any) {\r\n    this._loading = coerceBooleanProperty(value);\r\n  }\r\n  private _loading = false;\r\n\r\n  @Output() select = new EventEmitter<any>();\r\n  @Output() clear = new EventEmitter<string>();\r\n\r\n  /** 手动控制Popover显示 */\r\n  @Input()\r\n  get popoverVisible() {\r\n    return this._popoverVisible;\r\n  }\r\n  set popoverVisible(value: any) {\r\n    this._popoverVisible = coerceBooleanProperty(value);\r\n  }\r\n  private _popoverVisible = false;\r\n\r\n  @Output() popoverVisibleChange = new EventEmitter<boolean>();\r\n\r\n  onVisibleChange(result: boolean) {\r\n    this.popoverVisibleChange.emit(result);\r\n  }\r\n\r\n  onSelect(i: any) {\r\n    this.select.emit(i);\r\n  }\r\n\r\n  onClear(title: string) {\r\n    this.clear.emit(title);\r\n  }\r\n}\r\n"]}