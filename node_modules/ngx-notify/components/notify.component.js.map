{"version":3,"file":"notify.component.js","sourceRoot":"","sources":["../../.tmp/components/notify.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnDestroy, Input, ViewEncapsulation, OnInit, NgZone } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\nimport { Notify } from './interfaces/notify.type';\nimport { NotifyService } from './notify.service';\n\n@Component({\n    selector: 'notify',\n    template: `\n    <div class=\"notify\"\n        (click)=\"onClick($event)\"\n        [ngClass]=\"classes\"\n        [class]=\"animate\"\n        (mouseenter)=\"onEnter()\"\n        (mouseleave)=\"onLeave()\">\n        <div [innerHTML]=\"html\"></div>\n        <div class=\"notify-progress\" *ngIf=\"item.progress\">\n            <span [ngStyle]=\"{'width': progressWidth + '%'}\"></span>\n        </div>\n    </div>`,\n    styles: [\".notify { width: 100%; box-sizing: border-box; position: relative; margin-bottom: 10px; color: #fff; cursor: pointer; transition: all 0.5s; } .notify-theme-default { padding: 10px 20px; } .notify-theme-default.notify-alert { background: #ffdb5b; } .notify-theme-default.notify-alert .notify-progress span { background: #edc242; } .notify-theme-default.notify-success { background: #8BC34A; } .notify-theme-default.notify-success .notify-progress span { background: #689F38; } .notify-theme-default.notify-error { background: #F44336; } .notify-theme-default.notify-error .notify-progress span { background: #D32F2F; } .notify-theme-default.notify-info { background: #03A9F4; } .notify-theme-default.notify-info .notify-progress span { background: #0288D1; } .notify-theme-bootstrap.notify-alert .notify-progress span { background: #edc242; } .notify-theme-bootstrap.notify-success .notify-progress span { background: #689F38; } .notify-theme-bootstrap.notify-error .notify-progress span { background: #D32F2F; } .notify-theme-bootstrap.notify-info .notify-progress span { background: #0288D1; } .notify-title { margin: 0; padding: 0; line-height: 30px; font-size: 16px; font-weight: bold; } .notify-content { margin: 0; font-size: 14px; padding: 0 50px 0 0; line-height: 20px; } .notify-icon { position: absolute; box-sizing: border-box; top: 0; right: 0; height: 100%; max-width: 70px; width: 100%; } .notify-icon svg { width: 100%; height: 100%; padding: 10px; fill: #fff; } .notify-icon > * { max-width: 70px; } .notify-progress { position: absolute; top: 0; left: 0; width: 100%; height: 5px; } .notify-progress span { float: left; height: 100%; } .notify-rtl { direction: rtl; } .notify-rtl .notify-content { padding: 0 0 0 50px; } .notify-rtl .notify-icon { left: 0; right: auto; } .notify-fade-in { animation-duration: 1s; animation-fill-mode: both; -webkit-animation-name: fadeIn; animation-name: fadeIn; } .notify-fade-out { animation-duration: 1s; animation-fill-mode: both; -webkit-animation-name: fadeOut; animation-name: fadeOut; } @-webkit-keyframes fadeIn { 0% { opacity: 0; } 100% { opacity: 1; } } @keyframes fadeIn { 0% { opacity: 0; } 100% { opacity: 1; } } @-webkit-keyframes fadeOut { 0% { opacity: 1; } 100% { opacity: 0; } } @keyframes fadeOut { 0% { opacity: 1; } 100% { opacity: 0; } } \"],\n    encapsulation: ViewEncapsulation.None\n})\nexport class NotifyComponent implements OnInit, OnDestroy {\n\n    @Input() item: Notify;\n    html: SafeHtml;\n    animate: string;\n    classes: any = {};\n\n    constructor(private sanitizer: DomSanitizer, private zone: NgZone, private notifyService: NotifyService) { }\n\n    ngOnInit(): void {\n\n        switch (this.item.theme) {\n            case 'bootstrap':\n                switch (this.item.type) {\n                    case 'alert':\n                        this.item.bstype = 'warning';\n                        break;\n                    case 'error':\n                        this.item.bstype = 'danger';\n                        break;\n                    default:\n                        this.item.bstype = this.item.type;\n                        break;\n                }\n                break;\n        }\n\n        this.html = this.sanitizer.bypassSecurityTrustHtml(this.item.html.replace(/\\{([a-z]+)\\}/g, (full, key) => {\n            return this.item[key] || '';\n        }));\n\n        this.classes['notify-theme-' + this.item.theme] = true;\n        this.classes['notify-' + this.item.type] = true;\n\n        if (this.item.rtl === true)\n            this.classes['notify-rtl'] = true;\n\n        if (this.item.animate_in) {\n            this.classes['animated'] = true;\n            this.classes[this.item.animate_in] = true;\n        }\n\n        if (this.item.className) {\n            this.classes[this.item.className] = true;\n        }\n\n        if (this.item.timeout > 0)\n            this.startTimeout();\n    }\n\n    private stopTime = false;\n    private timer: any;\n    private steps: number;\n    private speed: number;\n    private start: any;\n    private count = 0;\n    private diff: any;\n    private startTimeout() {\n        this.steps = this.item.timeout / 10;\n        this.speed = this.item.timeout / this.steps;\n        this.start = new Date().getTime();\n        this.zone.runOutsideAngular(() => this.timer = setTimeout(this.instance, this.speed));\n    }\n\n    progressWidth = 0;\n    private instance = () => {\n        this.zone.runOutsideAngular(() => {\n            this.zone.run(() => this.diff = (new Date().getTime() - this.start) - (this.count * this.speed));\n\n            if (this.count++ >= this.steps) {\n                this.zone.run(() => {\n                    this.remove();\n                });\n            } else if (!this.stopTime) {\n                if (this.item.progress)\n                    this.zone.run(() => this.progressWidth += 100 / this.steps);\n\n                this.timer = setTimeout(this.instance, (this.speed - this.diff));\n            }\n        });\n    };\n\n    onEnter(): void {\n        if (this.item.pauseOnHover) {\n            this.stopTime = true;\n        }\n    }\n\n    onLeave(): void {\n        if (this.item.pauseOnHover) {\n            this.stopTime = false;\n            setTimeout(this.instance, (this.speed - this.diff));\n        }\n    }\n\n    onClick($e: MouseEvent): void {\n        this.item.click!.emit($e);\n\n        if (this.item.clickToClose) {\n            this.remove();\n        }\n    }\n\n    private remove() {\n        if (this.item.animate_out) {\n            this.classes[this.item.animate_in] = false;\n            this.classes[this.item.animate_out] = true;\n            this.zone.runOutsideAngular(() => {\n                setTimeout(() => {\n                    this.zone.run(() => this.notifyService.set(this.item, false))\n                }, 500);\n            })\n        } else {\n            this.notifyService.set(this.item, false);\n        }\n    }\n\n    ngOnDestroy(): void {\n        clearTimeout(this.timer);\n    }\n\n\n}\n"]}